{"id":"co-0089","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:40:36.826862304-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-02-10T20:52:07.407901716-06:00","closed_at":"2026-02-10T20:52:07.407901716-06:00","close_reason":"Stale events/merge requests - cleanup","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T04:40:36-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-013a","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-09T00:42:49.498758887-06:00","created_by":"mayor","updated_at":"2026-02-10T20:52:14.930346578-06:00","closed_at":"2026-02-10T20:52:14.930346578-06:00","close_reason":"Stale events/merge requests - cleanup"}
{"id":"co-03at","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:31:41.948840723-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.58940621-06:00","closed_at":"2026-01-12T03:09:08.58940621-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:31:41-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-04v4","title":"Integration - Wire Slide Panel to Estimate Editor","description":"attached_molecule: co-wisp-q4dr\nattached_at: 2026-01-27T08:56:44Z\ndispatched_by: mayor\n\n## Phase 5: Integration \u0026 Wiring\n\nWire the LookupSlidePanel to AreaBasedEstimateEditor and update EstimateAIChat to trigger the panel.\n\n### Dependencies:\n- co-u3uo (Backend) must be done first\n- co-sl57 (Slide Panel) must be done first\n- co-60c9 (Procurement Pages) should be done first\n\n### Tasks:\n1. Update AreaBasedEstimateEditor.jsx:\n   - Add lookupPanel state\n   - Add handleOpenLookupPanel handler\n   - Add handleItemRequest handler\n   - Render LookupSlidePanel component\n\n2. Update EstimateAIChat.jsx:\n   - Add onOpenLookupPanel prop\n   - Trigger slide panel when AI returns lookup results\n   - Pass query to panel for pre-fill\n\n### Plan Reference:\n/home/kaos/.claude/plans/snoopy-baking-wind.md - Phase 5\n\n### Files to Modify:\n- apps/web/src/components/salesops/AreaBasedEstimateEditor.jsx\n- apps/web/src/components/rsb/EstimateAIChat.jsx","status":"closed","priority":3,"issue_type":"task","assignee":"copperhead/polecats/shale","created_at":"2026-01-21T00:00:05.410122213-06:00","created_by":"mayor","updated_at":"2026-01-27T09:45:08.609371786-06:00","closed_at":"2026-01-27T09:45:08.609371786-06:00","close_reason":"Already integrated","dependencies":[{"issue_id":"co-04v4","depends_on_id":"co-wisp-q4dr","type":"blocks","created_at":"2026-01-27T02:56:41.263272795-06:00","created_by":"mayor"}]}
{"id":"co-05z","title":"QA: S5 Convert Estimate to Work Order - E2E Testing","description":"## Objective\nVerify S5 ConvertToWorkOrderPage.jsx works end-to-end.\n\n## Test Scenarios\n1. Load page with valid approved estimate\n2. Verify estimate summary displays correctly (read-only)\n3. Test work order configuration options (single/multi WO, work type selection)\n4. Verify technician assignment dropdown works\n5. Test scheduling date picker\n6. Verify parts availability matrix displays correctly\n7. Test technician availability/conflict display\n8. Test conversion button creates work order(s)\n9. Verify parts pre-reservation on conversion\n10. Test error handling (invalid estimate, missing data)\n\n## Files to Test\n- apps/web/src/pages/salesops/ConvertToWorkOrderPage.jsx\n- apps/api/src/services/estimateConversion.service.js\n- Related API endpoints\n\n## Deliverables\n- Unit tests if missing\n- E2E test coverage\n- Bug report for any issues found","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/furiosa","created_at":"2026-01-10T22:28:04.513158011-06:00","created_by":"mayor","updated_at":"2026-01-10T22:34:11.959118433-06:00","closed_at":"2026-01-10T22:34:11.959118433-06:00","close_reason":"Completed QA for S5 ConvertToWorkOrderPage. Created:\n- Unit tests: apps/web/src/pages/salesops/__tests__/ConvertToWorkOrderPage.test.jsx (30+ test cases)\n- E2E tests: apps/api/src/tests/e2e/s5ConvertToWorkOrder.e2e.test.js (11 scenarios)\n- Bug report: co-8r8 (useEffect dependency issue)"}
{"id":"co-06xr","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:42:31.18444183-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-12T03:09:08.478818058-06:00","closed_at":"2026-01-12T03:09:08.478818058-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:42:31-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-0701k","title":"SECURITY: Fix /validate/:code endpoint - remove PII leakage","description":"dispatched_by: mayor\n\nThe GET /api/admin/beta-invites/validate/:code endpoint is public (behind router.use(requireSystemAdmin) but comment says public). It returns email, first_name, last_name, company_name to any caller without auth. Fix: 1) The endpoint should NOT require auth (signup page needs it) but must strip PII from response. Return only {valid: true, status: 'sent'} - no email, no names, no company. 2) Add strict rate limiting: max 5 requests per 15 minutes per IP on this endpoint specifically. 3) Log all validation attempts with IP for security monitoring. File: apps/api/src/routes/admin/betaInvites.routes.js lines 300-362. Consider moving this endpoint outside the admin router to a public auth route instead.","status":"closed","priority":0,"issue_type":"task","assignee":"copperhead/polecats/obsidian","created_at":"2026-02-10T17:52:19.646355542-06:00","created_by":"kaos","updated_at":"2026-02-10T19:48:42.348247083-06:00","closed_at":"2026-02-10T19:48:42.348247083-06:00","close_reason":"Closed"}
{"id":"co-08i","title":"Session ended: gt-copperhead-nux","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-07T09:47:11.552368432-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-08T19:31:30.512123486-06:00","closed_at":"2026-01-07T11:25:02.94469554-06:00","close_reason":"Stale events - sessions already recycled, town healthy"}
{"id":"co-09hz","title":"Create seedAssets.js - Company equipment tracking","description":"Create apps/api/scripts/seedAssets.js following docs/COMPREHENSIVE-DEMO-SEED-PLAN.md Part 5.3.\n\nInclude company equipment:\n- 2 generators (Honda EU7000is, Cat RP5500)\n- 1 lift (Genie AWP-30S)\n- Meters (Fluke 87V Multimeter x2, Fluke ScopeMeter 190)\n- Tools (Greenlee 882 Bender, Greenlee 6800 Fish Tape)\n\nInclude inspection template 'Daily Equipment Check' with:\n- Visual inspection question\n- Safety features question\n- Fluid levels question\n- Calibration question\n\nAdd npm script seed:assets to package.json.\nFollow idempotency pattern.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T19:41:16.888211844-06:00","created_by":"mayor","updated_at":"2026-01-12T19:43:40.665414382-06:00","closed_at":"2026-01-12T19:43:40.665414382-06:00","close_reason":"Already implemented"}
{"id":"co-0bca","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T22:34:06.229136124-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.422929704-06:00","closed_at":"2026-01-12T03:09:07.422929704-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T22:34:06-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-0c6q","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:42:29.666221474-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.815478005-06:00","closed_at":"2026-01-12T03:09:07.815478005-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:42:29-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-0d083","title":"Witness should verify MR bead exists before marking polecat complete","description":"## Problem\nPolecats complete implementation but don't run `gt done`. They stop at 'pushed branch' and declare themselves done. Witness marks them complete based on output, not actual MR submission.\n\n## Evidence\n- Polecats have commits ahead of main with PRs created manually\n- Merge queue is empty (or nearly so)\n- Witness output shows '7 complete' but those polecats never submitted MRs\n\n## Fix Options\n1. Witness should check for MR bead in merge queue before marking complete\n2. Witness should verify all formula steps are closed (`bd ready` shows no pending steps)\n3. Add explicit 'gt done verification' to witness monitoring loop\n\n## Related\n- co-g6010: Health check now detects commits without PRs (post-hoc detection)\n- This fix would enable proactive detection at polecat completion time","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-01T13:54:50.047756308-06:00","created_by":"mayor","updated_at":"2026-02-10T20:59:42.093346986-06:00","closed_at":"2026-02-10T20:59:42.093346986-06:00","close_reason":"Stale - all work caught up"}
{"id":"co-0e54","title":"Session ended: gt-copperhead-cheedo","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:18:51.376405595-06:00","created_by":"copperhead/polecats/cheedo","updated_at":"2026-01-22T22:28:10.463412071-06:00","closed_at":"2026-01-22T22:28:10.463412071-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/cheedo","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:18:51-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-cheedo\",\"worker\":\"cheedo\"}"}
{"id":"co-0f5r","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:21:52.607108423-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.216471671-06:00","closed_at":"2026-01-12T03:09:08.216471671-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:21:52-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-0f7","title":"Merge: furiosa-mk55vntj","description":"branch: polecat/furiosa-mk55vntj\ntarget: main\nsource_issue: furiosa-mk55vntj\nrig: copperhead\nagent_bead: co-copperhead-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-08T02:34:48.701001078-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-08T19:31:30.687592327-06:00","closed_at":"2026-01-08T19:31:15.544441779-06:00","close_reason":"Merged to main: Cost Item AI Search"}
{"id":"co-0gv","title":"Add cloud services inventory to intake form","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-05T01:59:13.192415109-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.52270626-06:00","closed_at":"2026-01-05T02:39:47.596517015-06:00","close_reason":"Added Cloud Services section: M365 plan type and license count, Azure usage level, AWS usage level, and other cloud services textarea"}
{"id":"co-0idg","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T20:47:38.221848881-06:00","created_by":"copperhead/witness","updated_at":"2026-02-10T20:52:12.13249398-06:00","closed_at":"2026-02-10T20:52:12.13249398-06:00","close_reason":"Stale events/merge requests - cleanup"}
{"id":"co-0iqi","title":"Estimate Editor: Review Aggregations API","description":"attached_molecule: co-wisp-s5y\nattached_at: 2026-01-24T20:59:01Z\ndispatched_by: mayor\n\nCreate backend API for review view aggregations.\n\n**API Endpoints:**\n- GET /api/estimates/:id/review/products?groupBy=locations|systems|phases|categories\n  Returns product data aggregated by the specified grouping\n  \n- GET /api/estimates/:id/review/labor?groupBy=type|locations|systems|phases|categories\n  Returns labor data aggregated by the specified grouping\n\n**Response format:**\n```json\n{\n  \"groups\": [\n    {\n      \"name\": \"Great Room\",\n      \"percentOfBudget\": 5.7,\n      \"profit\": 251.75,\n      \"margin\": 46.84,\n      \"total\": 537.50\n    }\n  ],\n  \"subtotal\": { \"profit\": 3917.24, \"margin\": 41.67, \"total\": 9400.29 },\n  \"adjustment\": 0,\n  \"tax\": 0,\n  \"grandTotal\": 9400.29,\n  \"perSqft\": 1.57,\n  \"profitSummary\": { \"profit\": 3917.24, \"totalCost\": 5483.05, \"sqft\": 0.65, \"margin\": 46.12 }\n}\n```\n\n**Files to create:**\n- apps/api/src/routes/estimateReview.routes.js\n- apps/api/src/services/estimateReview.service.js\n\n**Note:** May need to add 'system' and 'phase' fields to line items if not already present.\n\n**Reference:** See plan at ~/.claude/plans/flickering-meandering-beaver.md","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/opal","created_at":"2026-01-24T11:40:41.89526263-06:00","created_by":"mayor","updated_at":"2026-01-24T15:04:09.072744224-06:00","closed_at":"2026-01-24T15:04:09.072744224-06:00","close_reason":"Implemented Review Aggregations API with endpoints for products and labor data grouped by location, system, phase, or category. Added estimateReview.service.js and estimateReview.routes.js. Note: phases groupBy returns single General group since phase field not yet in schema; systems uses cost_items.subcategory as proxy.","labels":["api","backend","estimate-editor"]}
{"id":"co-0kp","title":"DOCS: Update CLAUDE.md with parallel tracks","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/nux","created_at":"2026-01-05T05:10:59.37675916-06:00","created_by":"kaos","updated_at":"2026-01-06T01:16:10.219638071-06:00","closed_at":"2026-01-06T01:16:10.219638071-06:00","close_reason":"Added Parallel Development Tracks section documenting Full and Lite MVP tracks","labels":["docs","lite-mvp"]}
{"id":"co-0l0q","title":"Session ended: gt-copperhead-dag","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:18:05.727502322-06:00","created_by":"copperhead/polecats/dag","updated_at":"2026-01-22T22:28:10.755457752-06:00","closed_at":"2026-01-22T22:28:10.755457752-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/dag","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:18:05-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dag\",\"worker\":\"dag\"}"}
{"id":"co-0mqm","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:42:18.92689721-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:08.497644083-06:00","closed_at":"2026-01-12T03:09:08.497644083-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:42:18-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-0nfo","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:52:37.357001819-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.532929291-06:00","closed_at":"2026-01-12T03:09:07.532929291-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":65,\"ended_at\":\"2026-01-11T21:52:37-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-0p1e2","title":"Fix New Client button - create client modal","description":"dispatched_by: unknown\n\nThe '+ New Client' button on Dispatch \u003e Clients page does nothing.\n\n## Location\n- File: apps/web/src/pages/dispatch/ClientsListPage.jsx:161\n- Current: Empty onClick with TODO comment\n\n## Implementation\n1. Add showClientModal state to component\n2. Create ClientModal component for customer creation\n3. Include fields: company_name, contact info, address, etc.\n4. On submit, call POST /api/customers\n5. Refresh client list after success\n\n## Acceptance\n- Click '+ New Client' opens modal\n- Modal has all required customer fields\n- Submitting creates customer and refreshes list","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/basalt","created_at":"2026-02-03T22:07:33.660205841-06:00","created_by":"kaos","updated_at":"2026-02-03T22:11:54.426292219-06:00","closed_at":"2026-02-03T22:11:54.426292219-06:00","close_reason":"Implemented CreateClientModal and wired up New Client button"}
{"id":"co-0p2wu","title":"Populate reference_number from estimate during E2WO conversion","description":"attached_molecule: co-wisp-jawh\nattached_at: 2026-01-25T06:41:59Z\ndispatched_by: mayor\n\n## Problem\nWhen converting estimate to work order, the `reference_number` field is not populated with the estimate number. This breaks traceability.\n\n## Fix\nUpdate both conversion paths to set `reference_number = estimate.estimate_number`:\n\n### 1. SQL Function (migration)\nIn `convert_estimate_to_work_order` function, add to INSERT:\n```sql\nreference_number = v_estimate.estimate_number\n```\n\n### 2. JS Service\nIn `estimateConversion.service.js`, add `reference_number` to work order INSERT:\n```javascript\n// Line ~237 and ~317\nreference_number: estimateNode.entity_number\n```\n\n### Optional Enhancement\nAdd `child_sequence INT` column to track multi-WO conversions (1 of 3, 2 of 3, etc.)\n\n## Files\n- `apps/api/migrations/071_e2wo_reference_number.sql` (new)\n- `apps/api/src/services/estimateConversion.service.js`\n\n## Verification\nAfter conversion:\n- Work order `reference_number` should equal source estimate's `estimate_number`\n- UI should display reference linking back to estimate","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/obsidian","created_at":"2026-01-25T00:41:18.935539143-06:00","created_by":"mayor","updated_at":"2026-01-25T12:19:26.765228993-06:00","closed_at":"2026-01-25T12:19:26.765228993-06:00","close_reason":"Implemented reference_number population for E2WO conversion. Migration 071 adds column + index + updates SQL function. JS service updated for both single and multi-phase paths.","labels":["api","feature"]}
{"id":"co-0pstd","title":"AI Copilot Bot icon missing from collapsed RSB","description":"dispatched_by: mayor\n\n## Problem\nWhen the Right Sidebar is collapsed, only the Bell (Actions Inbox) and Megaphone (Bulletin Board) icons are shown. The Bot icon for AI Copilot is missing.\n\n## Expected\nPurple Bot icon should appear below Megaphone in collapsed RSB, allowing quick access to AI Copilot.\n\n## Root Cause\nRightSidebar.jsx lines 1054-1103 only explicitly render Bell and Megaphone buttons. The ai-assistant is defined as a CORE_EXTENSION but is not rendered in the collapsed view.\n\n## Fix Required\nAdd Bot button after Megaphone button around line 1077:\n\n```jsx\n\u003cbutton\n  className={\\`p-2 rounded-lg \\${bgCardHover}\\`}\n  title=\"AI Copilot\"\n  onClick={() =\u003e handleIconClick('ai-assistant')}\n\u003e\n  \u003cBot size={22} className=\"text-purple-500\" /\u003e\n\u003c/button\u003e\n```\n\n## Related\nFrom QA review of PR #96 (co-aukp2)","status":"closed","priority":2,"issue_type":"bug","assignee":"copperhead/polecats/fluorite","created_at":"2026-02-05T00:43:07.495548399-06:00","created_by":"copperhead/polecats/magnetite","updated_at":"2026-02-05T01:04:35.190186917-06:00","closed_at":"2026-02-05T01:04:35.190186917-06:00","close_reason":"Added Bot icon to collapsed RSB view and handleIconClick handler for ai-assistant. Commit 43c456bc"}
{"id":"co-0rn1","title":"Session ended: gt-copperhead-imperator","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T15:50:24.909889186-06:00","created_by":"copperhead/polecats/imperator","updated_at":"2026-01-12T16:32:09.959559357-06:00","closed_at":"2026-01-12T16:32:09.959559357-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/imperator","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T15:50:24-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-imperator\",\"worker\":\"imperator\"}"}
{"id":"co-0rz2","title":"Add RSB extensions to DispatchHub","description":"Add Right Sidebar extensions to the Dispatch Hub page following the pattern used in AreaBasedEstimateEditor.\n\n## Context\n- Target: apps/web/src/pages/dispatch/DispatchHub.jsx\n- Pattern: apps/web/src/components/salesops/AreaBasedEstimateEditor.jsx (lines 505-651)\n- Context Provider: apps/web/src/context/RightSidebarContext.jsx\n\n## Suggested Extensions\n\n### 1. Tech Status\n- All technicians with current status\n- Active job count per tech\n- Click to filter map to tech\n- Icon: Users\n\n### 2. Today's Schedule\n- Work orders due today\n- Unassigned jobs count\n- Overdue jobs alert\n- Icon: Calendar or Clock\n\n### 3. Quick Dispatch\n- Unassigned work orders list\n- Drag to assign (or click assign)\n- Priority indicators\n- Icon: Send or Zap\n\n### 4. Field Alerts\n- Tech check-in delays\n- Job running over time\n- Material requests pending\n- Icon: AlertTriangle or Bell\n\n## Implementation Notes\n- Use existing workOrders and technicians state\n- Badge showing unassigned count\n- Follow icon/badge patterns from estimate editor","status":"closed","priority":2,"issue_type":"task","assignee":"immortan","created_at":"2026-01-15T04:54:27.515779808-06:00","created_by":"mayor","updated_at":"2026-01-15T05:19:00.338034988-06:00","closed_at":"2026-01-15T05:19:00.338034988-06:00","close_reason":"Implemented RSB extensions: Tech Status, Today's Schedule, Quick Dispatch, Field Alerts"}
{"id":"co-0tza","title":"Pre-existing API test failures (26 tests)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-14T00:32:53.443561089-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-27T02:49:32.493288055-06:00","closed_at":"2026-01-27T02:49:32.493288055-06:00","close_reason":"Fixed - test guard now checks for testCustomerId"}
{"id":"co-0x8w","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T20:48:39.973655689-06:00","created_by":"mayor","updated_at":"2026-01-12T20:49:29.122011822-06:00","closed_at":"2026-01-12T20:49:29.122011822-06:00","close_reason":"Stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T20:48:39-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-0xxt","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T20:06:49.365462177-06:00","created_by":"mayor","updated_at":"2026-01-12T20:09:31.669366918-06:00","closed_at":"2026-01-12T20:09:31.669366918-06:00","close_reason":"Stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T20:06:48-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-0ye3","title":"Session ended: gt-copperhead-keeper","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:34:07.116225225-06:00","created_by":"copperhead/polecats/keeper","updated_at":"2026-01-12T14:41:06.24524676-06:00","closed_at":"2026-01-12T14:41:06.24524676-06:00","close_reason":"Acknowledged - session ended after completing co-r4bq.1","event_kind":"session.ended","actor":"copperhead/polecats/keeper","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:34:06-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-keeper\",\"worker\":\"keeper\"}"}
{"id":"co-0yx8","title":"Session ended: gt-polecat-splendid","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:20:14.834920325-06:00","created_by":"kaos","updated_at":"2026-01-22T22:38:15.76216658-06:00","closed_at":"2026-01-22T22:38:15.76216658-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"polecat/polecats/splendid","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:20:14-06:00\",\"rig\":\"polecat\",\"role\":\"polecat\",\"session_id\":\"gt-polecat-splendid\",\"worker\":\"splendid\"}"}
{"id":"co-10fj","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:11:11.55187424-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.049118303-06:00","closed_at":"2026-01-12T03:09:09.049118303-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:11:11-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-11zz","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:07:08.968059898-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.366519302-06:00","closed_at":"2026-01-12T03:09:07.366519302-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:07:08-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-12k","title":"S4: Customer Approval Portal","description":"## Overview\nImplement the S4 Customer Approval Portal - public-facing page for estimate review and approval.\n\n## Requirements\n- Company branding (logo, colors from tenant settings)\n- Read-only estimate view with line items\n- Terms and conditions display\n- Signature capture pad (canvas-based)\n- Comments/questions field for customer feedback\n- Accept/Decline actions with signature capture\n- Request Changes option (sends message to sales rep)\n- Accessible via unique token link (no login required)\n- Track view timestamp for 'Viewed' status\n- Mobile-responsive design\n\n## Key Files\n- apps/web/src/pages/public/CustomerApprovalPortal.jsx (CREATE)\n- apps/api/src/routes/public.routes.js (CREATE)\n- apps/api/src/services/customerApproval.service.js (CREATE)\n\n## Security\n- Token-based access (no auth required)\n- Rate limiting on approval endpoint\n- Token expiration handling\n- Signature validation\n\n## Acceptance Criteria\n- Customer can view estimate without login\n- Signature capture works on desktop and mobile\n- Accept updates estimate status to 'accepted'\n- Decline captures reason\n- Sales rep notified of customer response\n- View tracking updates estimate to 'viewed' status","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/nux","created_at":"2026-01-06T01:02:19.183699062-06:00","created_by":"mayor","updated_at":"2026-01-06T01:23:34.361310458-06:00","closed_at":"2026-01-06T01:23:34.361310458-06:00","close_reason":"Already implemented: EstimateApprovalPage.jsx (532 lines), public.routes.js, estimatePublic.service.js, SignatureCanvas.jsx. Routes at /approve/:token and /e/:token. All acceptance criteria met.","labels":["customer-facing","feature","priority:high","salesops"]}
{"id":"co-1486","title":"Add RSB extensions to CycleCountPage","description":"Add Right Sidebar extensions to the Cycle Count page following the pattern used in AreaBasedEstimateEditor.\n\n## Context\n- Target: apps/web/src/pages/warehouse/CycleCountPage.jsx\n- Pattern: apps/web/src/components/salesops/AreaBasedEstimateEditor.jsx (lines 505-651)\n- Context Provider: apps/web/src/context/RightSidebarContext.jsx\n\n## Suggested Extensions\n\n### 1. Count Progress\n- Items counted vs total\n- Discrepancies found count\n- Visual progress bar\n- Icon: CheckCircle or BarChart\n\n### 2. Discrepancy Summary\n- List of items with variances\n- Click to jump to item\n- Severity indicators (minor/major)\n- Icon: AlertTriangle\n\n### 3. Session History\n- Previous counts for this location\n- Accuracy trends over time\n- Last count date per item\n- Icon: History or Clock\n\n### 4. Quick Actions\n- Submit count for approval\n- Request recount\n- Print count sheet\n- Icon: Send or Zap\n\n## Implementation Notes\n- Use existing sessions, lines, editedCounts state\n- Show discrepancy badge count\n- Follow icon/badge patterns from estimate editor","status":"closed","priority":2,"issue_type":"task","assignee":"furiosa","created_at":"2026-01-15T04:52:12.243054745-06:00","created_by":"mayor","updated_at":"2026-01-15T05:10:23.574984325-06:00","closed_at":"2026-01-15T05:10:23.574984325-06:00","close_reason":"Implemented RSB extensions for CycleCountPage with 4 panels: Count Progress, Discrepancy Summary, Session History, and Quick Actions"}
{"id":"co-14tr","title":"Digest: mol-witness-patrol","description":"Patrol 1: inbox clear, no cleanups, refinery running, nuked 4 done polecats (furiosa, nux, obsidian, slit), no timer gates, no swarm, deacon healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T22:40:44.982896195-06:00","updated_at":"2026-01-23T22:40:44.982896195-06:00","closed_at":"2026-01-23T22:40:44.982703709-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-15d","title":"AI Estimate Assistant: Core parsing and BoM generation","description":"Implement AI parsing that converts natural language to cost items and BoM per ai-estimate-assistant-spec.md","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T19:31:09.528560387-06:00","created_by":"mayor","updated_at":"2026-01-10T19:29:52.114519273-06:00","closed_at":"2026-01-10T19:29:52.114519273-06:00","close_reason":"Implemented estimateParser.service.js with Claude-powered parsing, clarification flow, BoM generation, and MISSING_PRODUCT action integration"}
{"id":"co-15yr","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:32:35.751094165-06:00","created_by":"mayor","updated_at":"2026-01-12T14:33:11.031791263-06:00","closed_at":"2026-01-12T14:33:11.031791263-06:00","close_reason":"Stale session event - cleaned in triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:32:35-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-18z","title":"S6: Sales Dashboard with Pipeline Analytics","description":"## Overview\nImplement the S6 Sales Dashboard for pipeline visibility and metrics.\n\n## Requirements\n- Pipeline funnel visualization: Draft → Sent → Viewed → Accepted → Converted\n- KPIs: conversion rate, average estimate value, time to close\n- Estimates by status chart (pie/bar)\n- Recent activity feed\n- Top customers by estimate value\n- Sales rep leaderboard (multi-rep support)\n- Date range and sales rep filters\n- Export report data capability\n\n## Key Files\n- apps/web/src/pages/salesops/SalesDashboardPage.jsx (CREATE)\n- apps/api/src/services/salesAnalytics.service.js (CREATE)\n- apps/api/src/routes/analytics.routes.js (MODIFY)\n\n## Acceptance Criteria\n- Pipeline funnel shows count and value at each stage\n- Conversion rate calculated correctly\n- Charts are interactive (click to drill down)\n- Filters update all metrics in real-time\n- Export produces CSV/PDF report","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T01:02:06.08402419-06:00","created_by":"mayor","updated_at":"2026-01-06T01:30:44.094271652-06:00","closed_at":"2026-01-06T01:30:44.094271652-06:00","close_reason":"S6 SalesDashboardPage implemented with: pipeline funnel visualization, KPIs (conversion rate, avg value, time to close), status breakdown charts, recent activity feed, sales rep leaderboard, top customers, date range and rep filters, CSV export. Backend salesAnalytics.service.js and analytics routes added. Route at /salesops/dashboard","labels":["analytics","feature","salesops"]}
{"id":"co-1a4","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:40:01.663129937-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.722747932-06:00","closed_at":"2026-01-12T03:09:09.722747932-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:40:01-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-1amy","title":"Merge: dementus-mk9akd40","description":"branch: polecat/dementus-mk9akd40\ntarget: main\nsource_issue: dementus-mk9akd40\nrig: copperhead\nagent_bead: co-copperhead-polecat-dementus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-11T05:00:16.764920534-06:00","created_by":"copperhead/polecats/dementus","updated_at":"2026-01-11T05:11:17.018400488-06:00","closed_at":"2026-01-11T05:11:17.018400488-06:00","close_reason":"Merged to main at ef54285c"}
{"id":"co-1bfn","title":"Session ended: gt-copperhead-toast","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T00:06:12.718758228-06:00","created_by":"copperhead/polecats/toast","updated_at":"2026-01-22T22:38:15.435484032-06:00","closed_at":"2026-01-22T22:38:15.435484032-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/toast","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T00:06:12-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-toast\",\"worker\":\"toast\"}"}
{"id":"co-1bfvs","title":"PeekPanel 4.1: Hover Cards (Progressive Disclosure)","description":"attached_molecule: co-wisp-r4itq\nattached_at: 2026-02-12T15:14:56Z\ndispatched_by: mayor\n\nLightweight preview on hover (300ms delay) for key entities:\n- Customer name → name, type, phone, email, city\n- Line item → category, price, BOM count\n- Tech name → photo, status, today's WOs\n- WO number → status, customer, date\n\nClick hover card → promote to full peek.\n\nImplementation: Create a HoverCard component using Radix/headless pattern with 300ms delay. Render as small tooltip-like card near cursor. On click, call the page's existing openPeek() with the entity. Integrate into CustomersPage, WorkOrdersListPage, DispatchHub, and EstimateEditor where entity names appear as links/buttons.\n\nReference: apps/web/src/components/panels/ for existing panel patterns.","notes":"Implemented HoverCard progressive disclosure system. Created useHoverCard hook (300ms delay, close grace period, click-to-promote), HoverCard component (entity renderers for customer/work-order/technician/line-item, Portal rendering at z-9500, Framer Motion animations, viewport-aware positioning), and HoverTrigger wrapper. Integrated into CustomersPage, WorkOrdersListPage, DispatchHub, and EstimateHeader. All 103 web tests pass.","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/jasper","created_at":"2026-02-12T09:14:19.009020682-06:00","created_by":"mayor","updated_at":"2026-02-12T09:44:35.606173833-06:00","closed_at":"2026-02-12T09:44:35.606173833-06:00","close_reason":"Phase 4 complete, merged and verified on staging","dependencies":[{"issue_id":"co-1bfvs","depends_on_id":"co-wisp-icsub","type":"blocks","created_at":"2026-02-12T09:14:51.842022167-06:00","created_by":"mayor"},{"issue_id":"co-1bfvs","depends_on_id":"co-wisp-r4itq","type":"blocks","created_at":"2026-02-12T09:29:35.777805546-06:00","created_by":"mayor"}]}
{"id":"co-1dod2","title":"Add PO receiving discrepancy handling","description":"attached_molecule: co-wisp-yegv\nattached_at: 2026-01-28T07:44:59Z\ndispatched_by: mayor\n\nHandle qty received != qty ordered cases. Add discrepancy_qty and discrepancy_reason to receiving records. Support partial receipts with remaining qty tracking. Notify procurement of variances requiring action.","notes":"Implementation complete: migration 085, new API endpoints (discrepancies, close-receiving, resolve-discrepancy, remaining), DEI events for procurement notification. Ready for review.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/jet","created_at":"2026-01-28T01:40:45.108280433-06:00","created_by":"mayor","updated_at":"2026-01-28T01:50:55.024908693-06:00","closed_at":"2026-01-28T01:50:55.024908693-06:00","close_reason":"Committed 18a31594 - migration 085, API endpoints, DEI events","dependencies":[{"issue_id":"co-1dod2","depends_on_id":"co-wisp-yegv","type":"blocks","created_at":"2026-01-28T01:44:56.75838746-06:00","created_by":"mayor"}]}
{"id":"co-1gd","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T04:15:48.363170596-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-08T19:31:30.973685149-06:00","closed_at":"2026-01-06T15:44:47.510534857-06:00","close_reason":"acknowledged"}
{"id":"co-1iv","title":"AI Usage Tracking \u0026 Billing System","description":"Comprehensive AI usage logging with quota enforcement and margin tracking.\n\n## Completed\n- Migration 036_ai_usage_tracking.sql with:\n  - ai_usage_logs table (immutable audit log)\n  - mv_ai_usage_monthly materialized view\n  - ai_provider_pricing table (track Anthropic rates)\n  - v_ai_cost_margin_analysis view\n  - check_ai_quota() and get_tenant_ai_usage() functions\n  - Plan-based limits (trial/lite/pro/enterprise)\n\n- ai.service.js with Anthropic integration:\n  - Quota checking before each call\n  - Usage logging with tokens/latency/cost\n  - Dynamic pricing from database\n  - suggestLabor() and suggestCostItem() methods\n\n- API routes in ai.routes.js:\n  - POST /api/ai/suggest-labor\n  - POST /api/ai/suggest-cost-item\n  - GET /api/ai/quota\n  - GET /api/ai/usage\n  - GET /api/ai/usage/history\n  - GET /api/ai/usage/by-feature\n\n- Frontend wiring in EstimateDetailModal.jsx\n\n## AI Features by Module\n- SalesOps: suggest_labor, suggest_cost_item, estimate_review, estimate_to_workorder\n- Dispatch: smart_scheduling, schedule_optimization\n- Procurement: invoice_ocr, invoice_processing, inventory_matching, po_reconciliation, cost_averaging\n\n## Plan Limits\n- Trial: 25 calls, 25K tokens\n- Lite: 150 calls, 150K tokens\n- Pro: 2000 calls, 2M tokens (includes OCR)\n- Enterprise: Unlimited","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T01:16:36.051431682-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.737154989-06:00","closed_at":"2026-01-08T01:17:14.149536546-06:00","close_reason":"Implementation complete - migration, service, routes, frontend wiring done"}
{"id":"co-1iz6g","title":"Beta Platform P0: Scenario-based seed script with data cleanup","description":"attached_molecule: co-wisp-5jkfr\nattached_at: 2026-01-29T22:20:45Z\ndispatched_by: mayor\n\nCreate seedBetaTesterScenarios.js that:\n\n1. **CLEARS existing demo data** before seeding\n2. Seeds 4 customer scenarios for beta testers\n\n**File:** apps/api/scripts/seedBetaTesterScenarios.js\n\n**CRITICAL: Data Cleanup First** - Delete in dependency order:\n- inventory_transfers, material_requests, purchase_order_items, purchase_orders\n- work_order_parts, work_order_tasks, work_orders  \n- estimate_line_items, estimate_areas, estimates\n- sites, customers\n\n**4 Customer Scenarios:**\n1. **Acme Properties** - 3 sites, 5 WOs (service calls only)\n2. **Riverside Development** - 2 sites, 1 DRAFT estimate (new lead)\n3. **Summit Construction** - 2 sites, 2 ACCEPTED estimates, WAITING WOs, draft PO\n4. **Harbor Industrial** - 1 site, SCHEDULED WOs, RECEIVED PO, pending transfer\n\n**Requirements:**\n- Fixed UUIDs for idempotency\n- ON CONFLICT clauses\n- Transaction wrapper\n- npm script: seed:beta-scenarios\n\nSee plan: /home/kaos/.claude/plans/noble-sprouting-cocoa.md","status":"closed","priority":0,"issue_type":"task","assignee":"copperhead/polecats/copperhead-70","created_at":"2026-01-29T16:16:48.528885839-06:00","created_by":"mayor","updated_at":"2026-01-29T16:43:08.664236855-06:00","closed_at":"2026-01-29T16:43:08.664236855-06:00","close_reason":"Seed script created with data cleanup and 4 customer scenarios","labels":["beta-platform","p0-critical","seed"],"dependencies":[{"issue_id":"co-1iz6g","depends_on_id":"co-wisp-5tnxl","type":"blocks","created_at":"2026-01-29T16:20:31.497010655-06:00","created_by":"mayor"},{"issue_id":"co-1iz6g","depends_on_id":"co-wisp-6h2hu","type":"blocks","created_at":"2026-01-29T16:30:13.710055591-06:00","created_by":"mayor"},{"issue_id":"co-1iz6g","depends_on_id":"co-wisp-5jkfr","type":"blocks","created_at":"2026-01-29T16:37:32.024997964-06:00","created_by":"mayor"}]}
{"id":"co-1j6l","title":"Digest: mol-witness-patrol","description":"Patrol 8: obsidian implementing, 5 tasks created, on task 1 (migration)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T11:46:23.392995599-06:00","updated_at":"2026-01-24T11:46:23.392995599-06:00","closed_at":"2026-01-24T11:46:23.392895559-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-1kr","title":"Session ended: gt-copperhead-spark","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T16:27:51.135518665-06:00","created_by":"copperhead/polecats/spark","updated_at":"2026-01-06T01:15:21.125559182-06:00","closed_at":"2026-01-06T01:15:21.125559182-06:00","close_reason":"Acknowledged - stale session events","event_kind":"session.ended","actor":"copperhead/polecats/spark","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T16:27:50-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-spark\",\"worker\":\"spark\"}"}
{"id":"co-1kr9","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:48:05.884552091-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.944076965-06:00","closed_at":"2026-01-12T03:09:07.944076965-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:48:05-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-1lol","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:40:09.601414005-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.824364366-06:00","closed_at":"2026-01-12T03:09:07.824364366-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:40:09-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-1nbj","title":"Implement refresh token rotation","description":"Issue a new refresh token each time one is used. Invalidate the old token. This limits the window of exposure if a refresh token is compromised.","acceptance_criteria":"- New refresh token issued on each /api/auth/refresh call\n- Old refresh token invalidated immediately\n- Prevents token replay attacks","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T01:22:32.220680783-06:00","created_by":"mayor","updated_at":"2026-01-18T01:38:58.37925154-06:00","closed_at":"2026-01-18T01:38:58.37925154-06:00","close_reason":"Implemented in commit 823de72a","labels":["authentication","security"]}
{"id":"co-1nev6","title":"Pre-existing test failure: @field-ops/shared-ui package resolution in vitest","description":"3 test files fail with 'Failed to resolve entry for package @field-ops/shared-ui' on main. Likely incorrect main/module/exports in shared-ui package.json. Affects: navigation.test.jsx, ConvertToWorkOrderPage.test.jsx, and one other.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-02-12T02:05:20.535551038-06:00","created_by":"copperhead/polecats/garnet","updated_at":"2026-02-12T02:05:20.535551038-06:00"}
{"id":"co-1p2v","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:02:10.049116049-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.330379429-06:00","closed_at":"2026-01-12T03:09:08.330379429-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:02:09-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-1tn","title":"Inventory import: support image URLs in spreadsheet","description":"Add ability to import product images from spreadsheets via image_url column.\n\nImplementation approach:\n1. Add optional 'image_url' column to inventory import template\n2. During import, download images from URLs\n3. Store in MinIO/local storage\n4. Link to inventory_items.image_url field\n\nAlternatives considered:\n- Chrome extension for Base64 (rejected: bloats spreadsheets)\n- ZIP upload with image files (more complex UX)\n- Bulk upload by SKU naming convention (could add later)\n\nBacklog item - implement when inventory features are prioritized.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-07T16:35:24.593686727-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.527354653-06:00","closed_at":"2026-01-08T01:59:20.639271367-06:00","close_reason":"Moved to co-cth"}
{"id":"co-1tp","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T22:49:06.467504881-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.86980698-06:00","closed_at":"2026-01-12T03:09:09.86980698-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T22:49:06-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-1wgh","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T15:07:28.141205992-06:00","created_by":"mayor","updated_at":"2026-01-12T15:24:56.793585699-06:00","closed_at":"2026-01-12T15:24:56.793585699-06:00","close_reason":"Session ended - stale event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T15:07:28-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-1wjk","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T01:25:44.803136197-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.158096827-06:00","closed_at":"2026-01-12T03:09:07.158096827-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T01:25:44-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-206","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:20:03.584729062-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.804363489-06:00","closed_at":"2026-01-12T03:09:09.804363489-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:20:03-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-20a9m","title":"Backorder alerts for estimate makers","description":"attached_molecule: co-wisp-4c8v\nattached_at: 2026-01-29T07:44:31Z\ndispatched_by: mayor\n\nWhen parts on an estimate are detected as backordered, notify the estimate maker so they can inform the customer about delays. Should integrate with existing notification system.","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/bloodstone","created_at":"2026-01-29T01:43:18.507659971-06:00","created_by":"mayor","updated_at":"2026-01-29T01:49:31.62948908-06:00","closed_at":"2026-01-29T01:49:31.629503297-06:00","dependencies":[{"issue_id":"co-20a9m","depends_on_id":"co-wisp-4c8v","type":"blocks","created_at":"2026-01-29T01:44:28.08732946-06:00","created_by":"mayor"}]}
{"id":"co-22obd","title":"Digest: mol-witness-patrol","description":"Patrol 5: copperhead-81 stuck 13+min, approaching escalation threshold","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T22:13:37.277865767-06:00","updated_at":"2026-01-31T22:13:37.277865767-06:00","closed_at":"2026-01-31T22:13:37.277776846-06:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"co-22obd","depends_on_id":"co-wisp-1gnd1","type":"parent-child","created_at":"2026-01-31T22:13:37.281153071-06:00","created_by":"copperhead/witness"}]}
{"id":"co-23zcm","title":"Email notification templates and delivery","description":"attached_molecule: co-wisp-hdn3\nattached_at: 2026-01-29T20:04:20Z\ndispatched_by: mayor\n\nDepartment notifications are in-app only. Need email delivery option.\n\n## Current State\n- `departmentNotification.service.js` has 14 notification types\n- In-app notifications working\n- No email templates or delivery\n\n## Requirements\n1. **Email templates** for key notifications:\n   - Material request created (to procurement)\n   - PO needs approval (to manager)\n   - PO received (to warehouse)\n   - Backorder alert (to estimate creator)\n   - Work order parts ready (to dispatcher)\n\n2. **User preferences**:\n   - Add `notification_preferences` table\n   - Per-user: email, in-app, both, or none per notification type\n   - Default to in-app only\n\n3. **Email delivery**:\n   - Integrate with existing email service (check for SendGrid/SES setup)\n   - Queue emails via BullMQ for reliability\n   - Track delivery status\n\n4. **Email digest option**:\n   - Daily summary of non-urgent notifications\n   - Immediate delivery for urgent (P0/P1) notifications\n\n## Technical Notes\n- Templates: Use existing email template pattern if one exists\n- Consider react-email for template components","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/copperhead-64","created_at":"2026-01-29T13:54:21.285881679-06:00","created_by":"mayor","updated_at":"2026-01-29T14:12:22.960302625-06:00","closed_at":"2026-01-29T14:12:22.960302625-06:00","close_reason":"Implemented email notification templates and delivery system","labels":["email","notifications"],"dependencies":[{"issue_id":"co-23zcm","depends_on_id":"co-wisp-hdn3","type":"blocks","created_at":"2026-01-29T14:04:13.74930293-06:00","created_by":"mayor"}]}
{"id":"co-24kok","title":"Fix migration 098 - missing blended_labor_rate column","description":"attached_molecule: co-wisp-gq95z\nattached_at: 2026-02-01T16:51:15Z\ndispatched_by: mayor\n\nMigration 098 is skipped because it references t.blended_labor_rate column that doesn't exist.\n\n**To fix:**\n1. Find where blended_labor_rate should be created\n2. Either add column in earlier migration or fix 098 to not require it\n3. Remove from SKIP_MIGRATIONS in migrate.js\n4. Test on staging\n\n**Files:**\n- apps/api/scripts/migrate.js (SKIP_MIGRATIONS line 62)\n- apps/api/migrations/098_*.sql","status":"closed","priority":2,"issue_type":"bug","assignee":"copperhead/polecats/amber","created_at":"2026-02-01T10:47:36.327780758-06:00","created_by":"mayor","updated_at":"2026-02-01T10:53:27.272749587-06:00","closed_at":"2026-02-01T10:53:27.272749587-06:00","close_reason":"Fixed: added blended_labor_rate column to tenants in migration 098","dependencies":[{"issue_id":"co-24kok","depends_on_id":"co-wisp-gq95z","type":"blocks","created_at":"2026-02-01T10:51:09.33829719-06:00","created_by":"mayor"}]}
{"id":"co-2537","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T15:47:55.241326676-06:00","created_by":"mayor","updated_at":"2026-01-12T16:32:10.039896127-06:00","closed_at":"2026-01-12T16:32:10.039896127-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T15:47:55-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-25c","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T22:35:54.837792858-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.916842959-06:00","closed_at":"2026-01-12T03:09:09.916842959-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T22:35:54-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-25c7","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:05:24.975912652-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.321076241-06:00","closed_at":"2026-01-12T03:09:08.321076241-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:05:24-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-26e","title":"API: Implement users CRUD","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:10:57.982121832-06:00","created_by":"kaos","updated_at":"2026-01-05T11:23:59.814793995-06:00","closed_at":"2026-01-05T11:23:59.814793995-06:00","close_reason":"User routes already implemented in user.routes.js: GET /api/users (admin/manager only), GET /me (current user profile), PUT /:id (update user), PUT /me (update self). Mounted in index.js with auth.","labels":["api","backend","lite-mvp"]}
{"id":"co-26rk","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:24:03.243186688-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.90664262-06:00","closed_at":"2026-01-12T03:09:07.90664262-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:24:03-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-27k8","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:02:18.383008466-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.059216885-06:00","closed_at":"2026-01-12T03:09:08.059216885-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:02:18-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-28co","title":"Session ended: gt-copperhead-dementus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:00:35.501964469-06:00","created_by":"copperhead/polecats/dementus","updated_at":"2026-02-10T20:52:06.468659933-06:00","closed_at":"2026-02-10T20:52:06.468659933-06:00","close_reason":"Stale events/merge requests - cleanup","event_kind":"session.ended","actor":"copperhead/polecats/dementus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:00:35-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dementus\",\"worker\":\"dementus\"}"}
{"id":"co-2bn6","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T19:58:32.015853509-06:00","created_by":"mayor","updated_at":"2026-01-12T20:06:25.520498917-06:00","closed_at":"2026-01-12T20:06:25.520498917-06:00","close_reason":"Stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T19:58:31-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-2ctv","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:22:10.494009248-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.607003644-06:00","closed_at":"2026-01-12T03:09:07.607003644-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":8.5,\"ended_at\":\"2026-01-11T21:22:10-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-2db","title":"Assessment data model and API endpoints","description":"Create backend data model and API endpoints for assessments:\n- Assessment model with sections matching template (corporate_background, technical_poc, locations, connectivity, lob_apps, infrastructure, security, managed_support, telecom)\n- Each section stores current state and can compare to baseline\n- API: GET/POST/PUT/DELETE /api/assessments\n- API: POST /api/assessments/from-intake (import from pricing intake)\n- Store assessments in data/assessments/ folder as JSON","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:06:44.914573006-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.072034913-06:00","closed_at":"2026-01-05T03:10:11.381975748-06:00","close_reason":"Implemented assessment data model and API endpoints: GET/POST/PUT/DELETE /api/assessments, /api/assessments/template, /api/assessments/from-intake, /api/clients/\u003cid\u003e/assessments","dependencies":[{"issue_id":"co-2db","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:10.632227491-06:00","created_by":"mayor"}]}
{"id":"co-2fg4","title":"Session ended: gt-copperhead-toast","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:29:32.878677508-06:00","created_by":"copperhead/polecats/toast","updated_at":"2026-02-10T20:52:08.35299853-06:00","closed_at":"2026-02-10T20:52:08.35299853-06:00","close_reason":"Stale events/merge requests - cleanup","event_kind":"session.ended","actor":"copperhead/polecats/toast","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:29:32-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-toast\",\"worker\":\"toast\"}"}
{"id":"co-2fz5","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:08:54.074836901-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.314115916-06:00","closed_at":"2026-01-12T03:09:08.314115916-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:08:54-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-2hdv","title":"Digest: mol-witness-patrol","description":"Patrol 10: obsidian on task 2, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T11:47:07.067951168-06:00","updated_at":"2026-01-24T11:47:07.067951168-06:00","closed_at":"2026-01-24T11:47:07.067861641-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-2k05","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:36:54.320922032-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.842439783-06:00","closed_at":"2026-01-12T03:09:07.842439783-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:36:54-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-2k6","title":"Implement Real Pricing Calculations from Excel","description":"Rebuild pricing system based on Excel formulas:\n- Package-specific base costs (CyberShield, Pro, Complete)\n- Configurable margin (default 65%)\n- Regional pricing size multipliers (Small/Medium/Large)\n- Service-level costs that roll up to unit costs\n- Real-time calculations showing cost, price, and margin\n- Admin UI to edit costs, margins, and multipliers","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-04T23:23:32.749702141-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.077633068-06:00","closed_at":"2026-01-04T23:33:42.573818176-06:00","close_reason":"Implemented real pricing calculations with configurable margins, unit costs, and market multipliers. Added Pricing Config admin page."}
{"id":"co-2kp6","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:24:50.739060049-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:15.621347611-06:00","closed_at":"2026-01-22T22:38:15.621347611-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:24:50-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-2l7tn","title":"Fix migration 074 - GENERATED ALWAYS syntax issue","description":"attached_molecule: co-wisp-ftp98\nattached_at: 2026-02-01T16:50:20Z\ndispatched_by: mayor\n\nMigration 074 is skipped due to GENERATED ALWAYS syntax issue.\n\n**To fix:**\n1. Review migration 074 for PostgreSQL version compatibility\n2. Fix GENERATED ALWAYS syntax (may need different approach for older PG)\n3. Remove from SKIP_MIGRATIONS in migrate.js\n4. Test on staging\n\n**Files:**\n- apps/api/scripts/migrate.js (SKIP_MIGRATIONS line 54)\n- apps/api/migrations/074_*.sql","status":"closed","priority":2,"issue_type":"bug","assignee":"copperhead/polecats/ruby","created_at":"2026-02-01T10:47:35.485680994-06:00","created_by":"mayor","updated_at":"2026-02-01T10:52:31.261909412-06:00","closed_at":"2026-02-01T10:52:31.261909412-06:00","close_reason":"Removed volatile GENERATED ALWAYS columns. Moved computations to views. Migration 074 enabled.","dependencies":[{"issue_id":"co-2l7tn","depends_on_id":"co-wisp-ftp98","type":"blocks","created_at":"2026-02-01T10:50:15.193447099-06:00","created_by":"mayor"}]}
{"id":"co-2mxp","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:15:40.877540687-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.015415417-06:00","closed_at":"2026-01-12T03:09:08.015415417-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:15:40-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-2nmc0","title":"Fix messages API response for mobile - add sender object with role","description":"dispatched_by: mayor\n\nBackend API returns flat fields but mobile expects nested sender object with role field.\n\n## Root Cause\n- API returns: senderId, senderName, senderEmail (flat)\n- Mobile expects: sender: { id, first_name, last_name, role } (nested)\n\n## Files to Modify\n- apps/api/src/services/messaging.service.js\n  - Line ~99: Add u.role as sender_role to SELECT query\n  - Lines 694-721: Update formatMessage() to return nested sender object\n  - Line ~114: Add tenant_id filter to cursor lookup (security fix)\n\n## Acceptance\n- Messages load in mobile app without error\n- Sender name and role badge display correctly","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/jade","created_at":"2026-02-03T21:42:01.711890819-06:00","created_by":"kaos","updated_at":"2026-02-03T21:46:18.657447193-06:00","closed_at":"2026-02-03T21:46:18.657447193-06:00","close_reason":"Verified complete: commit e1833d2d added sender object, sender_role query, and tenant_id cursor filter"}
{"id":"co-2nt3","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T01:56:49.992260459-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:14.43278807-06:00","closed_at":"2026-01-22T22:38:14.43278807-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T01:56:49-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-2ohcx","title":"Add text labels under sidebar icons","description":"Deferred from Plan 09 Phase 1 (Unified Inbox Strategy).\n\n## Context\nPlan 09 implemented icon differentiation (Actions → ClipboardList), but text labels were deferred as low-impact.\n\n## Task\nAdd small text labels under the collapsed sidebar icons to improve clarity:\n- Left sidebar: \"Alerts\" under notification bell\n- Right sidebar: \"Tasks\" under ClipboardList icon\n\n## Files\n- `apps/web/src/components/Sidebar/Sidebar.jsx`\n- `apps/web/src/components/Sidebar/RightSidebar.jsx`\n\n## Acceptance Criteria\n- [ ] Labels visible in collapsed state\n- [ ] Labels use appropriate text color for theme\n- [ ] Labels don't break layout or overflow\n- [ ] Works in both light and dark mode\n\n## Priority\nP3 - Nice to have after Plan 10 (color contrast)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-06T15:09:39.259919446-06:00","created_by":"kaos","updated_at":"2026-02-10T20:59:47.795275839-06:00","closed_at":"2026-02-10T20:59:47.795275839-06:00","close_reason":"Stale - all work caught up","dependencies":[{"issue_id":"co-2ohcx","depends_on_id":"co-hxvqi","type":"blocks","created_at":"2026-02-06T15:10:33.761842743-06:00","created_by":"kaos"}]}
{"id":"co-2p6","title":"Generate BoM materials from AI response","description":"Create bill of materials entries from AI parsed response. Link materials to areas, calculate quantities for wire/cable based on area dimensions.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T19:29:07.57491443-06:00","created_by":"mayor","updated_at":"2026-01-10T20:42:32.093236618-06:00","closed_at":"2026-01-10T20:42:32.093236618-06:00","close_reason":"Duplicate of co-9r6 (completed)"}
{"id":"co-2q0f","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:04:58.774885451-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:21.291632559-06:00","closed_at":"2026-01-12T17:27:21.291632559-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:04:58-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-2rc4","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:31:24.051912877-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.59852913-06:00","closed_at":"2026-01-12T03:09:08.59852913-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:31:24-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-2rj5","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:41:13.047096907-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.152001705-06:00","closed_at":"2026-01-12T03:09:08.152001705-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:41:12-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-2sq","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-05T04:27:48.967078305-06:00","created_by":"kaos","updated_at":"2026-01-05T04:27:48.967078305-06:00"}
{"id":"co-2srr","title":"Merge: slit-mk92bpos","description":"branch: polecat/slit-mk92bpos\ntarget: main\nsource_issue: slit-mk92bpos\nrig: copperhead\nagent_bead: co-copperhead-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-10T19:44:30.075226809-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-02-12T02:50:26.025278685-06:00","closed_at":"2026-02-12T02:50:26.025278685-06:00","close_reason":"Stale merge requests, work already merged"}
{"id":"co-2ss3e","title":"Fix all seed scripts - complete schema alignment sweep","description":"attached_molecule: co-wisp-h7km1\nattached_at: 2026-02-01T06:31:20Z\ndispatched_by: mayor\n\n## Complete Seed Fix Sweep\n\n### Root Cause Analysis\nSeeds fail in cascade due to schema mismatches. 5 seeds fail:\n- seedDemoUser.js\n- seedLineItems.js  \n- seedInventoryLocations.js\n- seedAssets.js\n- seedMobileDemo.js\n\n### Fix 1: seedDemoUser.js (lines 250-278)\n**Problem:** Inserts skills column that doesn't exist on users table.\n**Fix:** \n1. Remove skills from INSERT statement (line 254, remove 'skills' and line 276)\n2. After creating each technician, insert skills into technician_skills junction table\n\n### Fix 2: seedLineItems.js (lines 57-92)\n**Problem:** \n1. Uses ON CONFLICT (tenant_id, item_code) but constraint is (tenant_id, code)\n2. Inserts into item_code column but code is the unique column\n\n**Fix:** \n- Line 59: Change item_code to code\n- Line 64: Change ON CONFLICT (tenant_id, item_code) to ON CONFLICT (tenant_id, code)\n- Line 79: Use item.item_code || item.code as the value for code column\n\n### Fix 3: seedInventoryLocations.js (lines 197-210)\n**Problem:** Uses ON CONFLICT (id) but unique_tenant_location_name constraint on (tenant_id, name) also exists.\n**Fix:** Change line 201 to ON CONFLICT (tenant_id, name) DO UPDATE\n\n### Fix 4: seedAssets.js / seedMobileDemo.js  \n**Problem:** FK violations because inventory_locations don't exist\n**Fix:** Will work once seedInventoryLocations is fixed (cascade dependency)\n\n### Files to Edit\n- apps/api/scripts/seedDemoUser.js\n- apps/api/scripts/seedLineItems.js\n- apps/api/scripts/seedInventoryLocations.js\n\n### Testing After Fix\nRun: npm run seed:demo-company\nExpected: All 17 seeds pass, 0 failures\n\n### Schema Reference (from staging)\n- users: 31 columns, NO skills column\n- line_items: UNIQUE constraint on (tenant_id, code)\n- inventory_locations: UNIQUE constraint on (tenant_id, name)\n- technician_skills: junction table (user_id, skill_id)","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/jasper","created_at":"2026-02-01T00:30:03.560887891-06:00","created_by":"mayor","updated_at":"2026-02-01T00:42:06.943013341-06:00","closed_at":"2026-02-01T00:42:06.943013341-06:00","close_reason":"Fixed all 5 schema-misaligned seed scripts. All target seeds now pass.","dependencies":[{"issue_id":"co-2ss3e","depends_on_id":"co-wisp-h7km1","type":"blocks","created_at":"2026-02-01T00:31:14.489110158-06:00","created_by":"mayor"}]}
{"id":"co-2th6y","title":"Wire actions to generate notifications","description":"dispatched_by: unknown\n\nDatabase infrastructure exists (action_notification_settings, action_watchers) but no code connects actions to notifications.\n\n## Root Cause\n- action.service.js creates/updates actions but never emits events\n- No notification creation on action changes\n\n## Implementation\n1. Create actionNotification.service.js\n   - Query action_notification_settings for tenant rules\n   - Query action_watchers for subscribers\n   - Create notifications based on settings\n\n2. Integrate into action.service.js\n   - After createAction(): Notify assigned user\n   - After updateStatus(): Notify watchers of status change\n   - After updateAction() assignment: Notify newly assigned user\n\n## Files\n- NEW: apps/api/src/services/actionNotification.service.js\n- EDIT: apps/api/src/services/action.service.js\n\n## Acceptance\n- Creating action sends notification to assigned user\n- Status changes notify watchers\n- Reassignment notifies newly assigned user","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/flint","created_at":"2026-02-03T21:42:07.969497498-06:00","created_by":"kaos","updated_at":"2026-02-03T21:47:02.119980787-06:00","closed_at":"2026-02-03T21:47:02.119980787-06:00","close_reason":"Complete: actionNotification.service.js created, integrated into action.service.js with notifyActionAssigned (create+reassign) and notifyStatusChanged calls"}
{"id":"co-2to","title":"Add line of business applications field to intake form","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-05T01:59:11.918855-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.079852191-06:00","closed_at":"2026-01-05T02:38:06.203204712-06:00","close_reason":"Added Line of Business Applications section: primary LOB app name, app type (ERP/CRM/Accounting/etc), hosting model, vendor support status, and other critical apps textarea"}
{"id":"co-2u92","title":"Merge: rictus-mk92c6l2","description":"branch: polecat/rictus-mk92c6l2\ntarget: main\nsource_issue: rictus-mk92c6l2\nrig: copperhead\nagent_bead: co-copperhead-polecat-rictus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-10T19:43:36.739150154-06:00","created_by":"copperhead/polecats/rictus","updated_at":"2026-02-12T02:50:26.179947367-06:00","closed_at":"2026-02-12T02:50:26.179947367-06:00","close_reason":"Stale merge requests, work already merged"}
{"id":"co-2vyk","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:58:59.292174152-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.505290516-06:00","closed_at":"2026-01-12T03:09:07.505290516-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":65,\"ended_at\":\"2026-01-11T21:58:59-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-2wuxe","title":"Work order list click should navigate to WO details page","description":"attached_molecule: co-wisp-o8i\nattached_at: 2026-01-25T01:39:22Z\ndispatched_by: mayor\n\n## Problem\nClicking on work orders in the work orders list doesn't navigate anywhere - no details page exists.\n\n## Requirements\n1. Create a dedicated WorkOrderDetailsPage component\n2. Wire up navigation so clicking a WO in the list goes to /app/work-orders/:id\n3. Details page should show:\n   - WO number, status, priority\n   - Customer info\n   - Description\n   - Tasks list\n   - Estimated hours\n   - Assigned technician\n   - Phase info (if from split conversion)\n   - Source estimate link (if converted from estimate)\n\n## Implementation hints\n- Check if there's an existing modal form for work orders that can be extracted\n- Look at apps/web/src/pages/ for work order pages\n- Add route in App.js\n- Update work orders list click handler\n\n## Files likely involved\n- apps/web/src/pages/dispatch/WorkOrdersPage.jsx (or similar)\n- apps/web/src/App.js\n- New: apps/web/src/pages/dispatch/WorkOrderDetailsPage.jsx","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/jasper","created_at":"2026-01-24T19:33:10.456510726-06:00","created_by":"mayor","updated_at":"2026-01-24T19:42:41.65800584-06:00","closed_at":"2026-01-24T19:42:41.65800584-06:00","close_reason":"Closed"}
{"id":"co-2xt","title":"API: Implement work orders CRUD","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:10:56.914881972-06:00","created_by":"kaos","updated_at":"2026-01-05T11:24:04.700171703-06:00","closed_at":"2026-01-05T11:24:04.700171703-06:00","close_reason":"Work order routes already implemented in workOrder.routes.js (1581 lines): Full CRUD plus status transitions, assignments, task management, parts management. Uses WorkOrderStateMachine from shared-domain. Mounted in index.js with auth.","labels":["api","backend","lite-mvp"]}
{"id":"co-2y92","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:08:05.751752429-06:00","created_by":"mayor","updated_at":"2026-01-12T14:08:25.627814479-06:00","closed_at":"2026-01-12T14:08:25.627814479-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:08:05-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-2yhz","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:43:43.004291684-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.799416162-06:00","closed_at":"2026-01-12T03:09:08.799416162-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:43:42-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-3206","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T10:26:10.942332013-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.432494717-06:00","closed_at":"2026-01-12T03:09:08.432494717-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T10:26:10-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-33o","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:57:17.559616183-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.677344257-06:00","closed_at":"2026-01-12T03:09:09.677344257-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:57:17-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-3433","title":"Session ended: gt-copperhead-dementus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:40:25.119387211-06:00","created_by":"copperhead/polecats/dementus","updated_at":"2026-01-12T03:09:09.219420091-06:00","closed_at":"2026-01-12T03:09:09.219420091-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/dementus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T04:40:25-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dementus\",\"worker\":\"dementus\"}"}
{"id":"co-35by","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:42:25.767313501-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.488292784-06:00","closed_at":"2026-01-12T03:09:08.488292784-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:42:25-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-35e4","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:19:14.183574562-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.989083249-06:00","closed_at":"2026-01-12T03:09:08.989083249-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:19:14-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-37dh","title":"Add left sidebar to Estimate Editor","description":"dispatched_by: mayor\n\nAdd a left navigation sidebar to AreaBasedEstimateEditor that:\n1. Hides the main app sidebar when in estimate editor\n2. Shows estimate-specific nav: Summary button, Review button, Areas list\n3. Allows quick navigation within the estimate\n4. Uses same dark/light theme as rest of editor\n\nFiles to modify:\n- apps/web/src/components/salesops/AreaBasedEstimateEditor.jsx\n- May need to update layout context to hide main sidebar\n\nReference existing sidebar patterns in the codebase.","notes":"Implemented left sidebar for Estimate Editor with Summary, Review, and Areas navigation. Hides main app sidebar when editor is active.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/quartz","created_at":"2026-01-24T14:57:26.975958897-06:00","created_by":"mayor","updated_at":"2026-01-24T15:01:14.514764939-06:00","closed_at":"2026-01-24T15:01:14.514771834-06:00"}
{"id":"co-3afi","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:40:15.196294135-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:48.270530662-06:00","closed_at":"2026-01-22T22:38:48.270530662-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:40:15-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-3ajwl","title":"Work order scheduling UI: Show expected parts arrival dates and auto-scheduling suggestions when parts become available","description":"attached_molecule: co-wisp-6zow\nattached_at: 2026-01-27T22:47:30Z\ndispatched_by: mayor","notes":"Implemented: Parts status display in WorkOrderPanel showing availability badge, counts (total/available/on-order), earliest schedulable date, and expandable parts details with ETA/PO info. ScheduleCalendar now shows parts status icons on WorkOrderCard and splits unassigned sidebar into 'Ready to Schedule' vs 'Waiting on Parts' sections. Added workOrder.service methods for parts scheduling API.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/flint","created_at":"2026-01-27T16:46:31.862385381-06:00","created_by":"mayor","updated_at":"2026-01-27T16:59:32.205928619-06:00","closed_at":"2026-01-27T16:59:32.205928619-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-3ajwl","depends_on_id":"co-wisp-6zow","type":"blocks","created_at":"2026-01-27T16:47:27.422365839-06:00","created_by":"mayor"}]}
{"id":"co-3bfpv","title":"Remove AIChatPanel - Fix feedback bubble overlap","description":"dispatched_by: unknown\n\nAIChatPanel and BugReportButton both use fixed bottom-6 right-6 z-50, causing overlap. \n\nTASK:\n1. Remove import of AIChatPanel from MainLayout.jsx (line 9)\n2. Remove \u003cAIChatPanel\u003e component usage (lines 79-80)\n3. Delete apps/web/src/components/AIChatPanel.jsx entirely\n\nVERIFICATION:\n- BugReportButton (orange bug icon) visible at bottom-right\n- No floating AI chat panel on any screen","notes":"Already completed by previous polecat. AIChatPanel.jsx deleted, imports and usage removed from MainLayout.jsx. BugReportButton is sole bottom-right component.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/copperhead-88","created_at":"2026-02-08T16:31:02.990879135-06:00","created_by":"kaos","updated_at":"2026-02-08T19:50:09.300491384-06:00","closed_at":"2026-02-08T19:50:09.300491384-06:00","close_reason":"Already complete - AIChatPanel.jsx already removed from codebase"}
{"id":"co-3c89","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:10:51.43209403-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.349438642-06:00","closed_at":"2026-01-12T03:09:07.349438642-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:10:51-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-3gd","title":"PLAN-002 Phase 1: Database + Backend","description":"Migration 035_quote_lines_cost_item_id, quoteLine.service.js, cost-items/search endpoint, from-cost-item endpoint","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T01:23:56.248258783-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.541992312-06:00","closed_at":"2026-01-07T03:17:55.981126064-06:00","close_reason":"Phase 1 complete: migration 035, quoteLine.service.js, cost-items/search endpoint, from-cost-item endpoint","dependencies":[{"issue_id":"co-3gd","depends_on_id":"co-srk","type":"blocks","created_at":"2026-01-07T01:25:15.475850006-06:00","created_by":"mayor"}]}
{"id":"co-3ho5","title":"Merge: coma-mkbs97gw","description":"branch: polecat/coma-mkbs97gw\ntarget: main\nsource_issue: coma-mkbs97gw\nrig: copperhead\nagent_bead: co-copperhead-polecat-coma\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-12T17:21:36.092948513-06:00","created_by":"copperhead/polecats/coma","updated_at":"2026-01-12T17:43:16.342518966-06:00","closed_at":"2026-01-12T17:43:16.342518966-06:00","close_reason":"Branch already merged to main"}
{"id":"co-3igz","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-21T03:35:38.211322671-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-22T22:28:09.624477736-06:00","closed_at":"2026-01-22T22:28:09.624477736-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-21T03:35:38-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-3j5q","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:14:15.316196076-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T17:27:20.997236405-06:00","closed_at":"2026-01-12T17:27:20.997236405-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:14:15-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-3jzl7","title":"Onboarding \u0026 Welcome Flow","description":"dispatched_by: mayor","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/carnelian","created_at":"2026-02-05T20:41:11.302870004-06:00","created_by":"kaos","updated_at":"2026-02-05T20:47:38.824257977-06:00","closed_at":"2026-02-05T20:47:38.824257977-06:00","close_reason":"Closed"}
{"id":"co-3k0","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:28:59.936062287-06:00","created_by":"mayor","updated_at":"2026-01-07T03:06:37.525942613-06:00","closed_at":"2026-01-07T03:06:37.525942613-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:28:59-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-3ktz","title":"Session ended: gt-copperhead-warboy","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:58:12.947751471-06:00","created_by":"copperhead/polecats/warboy","updated_at":"2026-01-12T15:04:00.941347504-06:00","closed_at":"2026-01-12T15:04:00.941347504-06:00","close_reason":"acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/warboy","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:58:12-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-warboy\",\"worker\":\"warboy\"}"}
{"id":"co-3l2x","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T20:05:58.18013181-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.632873588-06:00","closed_at":"2026-01-12T03:09:07.632873588-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":8.5,\"ended_at\":\"2026-01-11T20:05:58-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-3ls","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"open","priority":2,"issue_type":"molecule","assignee":"mayor/","created_at":"2026-01-05T04:27:49.378206942-06:00","created_by":"kaos","updated_at":"2026-01-11T01:01:58.531298627-06:00"}
{"id":"co-3mo","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T17:32:27.433133537-06:00","created_by":"mayor","updated_at":"2026-01-06T01:15:57.71966901-06:00","closed_at":"2026-01-06T01:15:57.71966901-06:00","close_reason":"Acknowledged - stale session events","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T17:32:27-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-3oy23","title":"Fix bullmq test failure - Cannot find module","description":"attached_molecule: co-wisp-yhtr\nattached_at: 2026-01-29T18:53:45Z\ndispatched_by: mayor\n\nFix the 'Cannot find module bullmq' test failure in apps/api.\n\n**Root cause:** Routes import queues/jobService which requires bullmq, but tests don't have Redis/bullmq available.\n\n**Fix:** Add conditional loading in src/index.js to skip queue initialization during tests:\n\n```javascript\n// Around line 105-107, wrap the queue init:\nif (process.env.NODE_ENV !== 'test') {\n  const { initializeQueueSystem } = require('./queues/workers');\n  initializeQueueSystem();\n}\n```\n\nAlso add a jest mock for bullmq at src/tests/__mocks__/bullmq.js if routes still fail.\n\nRun tests after to verify: npm test (in apps/api)\n\nThis is P1 - blocking CI.\n\nRelated: hq-r3o9","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/copperhead-61","created_at":"2026-01-29T12:52:27.47133652-06:00","created_by":"mayor","updated_at":"2026-01-29T13:44:29.170258668-06:00","closed_at":"2026-01-29T13:44:29.170258668-06:00","close_reason":"Conditionally load bullmq queues when NODE_ENV \\!== 'test'. Tests now pass without 'Cannot find module bullmq' error.","dependencies":[{"issue_id":"co-3oy23","depends_on_id":"co-wisp-zrvq","type":"blocks","created_at":"2026-01-29T12:53:39.912839407-06:00","created_by":"mayor"},{"issue_id":"co-3oy23","depends_on_id":"co-wisp-yhtr","type":"blocks","created_at":"2026-01-29T13:40:53.441655327-06:00","created_by":"mayor"}]}
{"id":"co-3p0i","title":"Merge: valkyrie-mkgj7a80","description":"branch: polecat/valkyrie-mkgj7a80\ntarget: main\nsource_issue: valkyrie-mkgj7a80\nrig: copperhead\nagent_bead: co-copperhead-polecat-valkyrie\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-16T03:49:21.012135991-06:00","created_by":"copperhead/polecats/valkyrie","updated_at":"2026-01-16T03:50:57.076228595-06:00","closed_at":"2026-01-16T03:50:57.076228595-06:00","close_reason":"Merged to main"}
{"id":"co-3p8vw","title":"Fix bullmq module not found in tests","description":"attached_molecule: co-wisp-q40u\nattached_at: 2026-01-29T07:26:59Z\ndispatched_by: mayor\n\nTests fail with 'Cannot find module bullmq from src/queues/index.js'. The bullmq dependency needs to be installed or the queues module needs stubbing. This is blocking CI.","status":"closed","priority":0,"issue_type":"bug","assignee":"copperhead/polecats/basalt","created_at":"2026-01-29T01:26:43.97266711-06:00","created_by":"mayor","updated_at":"2026-01-29T01:41:29.080444127-06:00","closed_at":"2026-01-29T01:41:29.080444127-06:00","close_reason":"Fixed by running npm install in apps/api, apps/shared/contracts, and root. Module resolution issues resolved - bullmq now loads correctly. Tests run with 359 passing.","dependencies":[{"issue_id":"co-3p8vw","depends_on_id":"co-wisp-q40u","type":"blocks","created_at":"2026-01-29T01:26:56.406492682-06:00","created_by":"mayor"}]}
{"id":"co-3reg","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:58:58.833276161-06:00","created_by":"mayor","updated_at":"2026-01-12T18:04:35.463238202-06:00","closed_at":"2026-01-12T18:04:35.463238202-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:58:58-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-3tg","title":"AI parsing: Match parsed items to cost_items catalog","description":"After AI extracts entities from natural language, search cost_items table to find matching products. Use fuzzy matching, category filters, and attribute matching. Return match status (EXACT, CLOSE, NONE) per spec.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T19:22:10.322852738-06:00","created_by":"mayor","updated_at":"2026-01-12T00:41:31.096401269-06:00","closed_at":"2026-01-10T19:38:28.865131437-06:00","close_reason":"Enhanced matchToCostItems with pg_trgm fuzzy search, multi-factor scoring (name/category/voltage/amperage/environment/features), and hybrid SQL+embedding search","dependencies":[{"issue_id":"co-3tg","depends_on_id":"co-gdj","type":"parent-child","created_at":"2026-01-08T19:22:10.324510299-06:00","created_by":"mayor"}]}
{"id":"co-3thu","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:13:06.219897129-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.296209969-06:00","closed_at":"2026-01-12T03:09:08.296209969-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:13:06-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-3u6mz","title":"Create tenantProvisioning.service.js","description":"attached_molecule: co-wisp-h6xp\nattached_at: 2026-01-29T09:04:25Z\ndispatched_by: mayor\n\nCreate apps/api/src/services/tenantProvisioning.service.js with:\n\n```javascript\nconst bcrypt = require('bcrypt');\nconst { query } = require('../config/db');\nconst crypto = require('crypto');\n\nasync function provisionBetaTester({ companyName, adminEmail, adminName, trade }) {\n  // 1. Create tenant\n  const tenantResult = await query(\n    \\`INSERT INTO tenants (name, slug, beta_tester, is_active)\n     VALUES (\\$1, \\$2, true, true) RETURNING *\\`,\n    [companyName, companyName.toLowerCase().replace(/\\s+/g, '-')]\n  );\n  const tenant = tenantResult.rows[0];\n\n  // 2. Create admin user with temp password\n  const tempPassword = crypto.randomBytes(8).toString('hex');\n  const hash = await bcrypt.hash(tempPassword, 12);\n  const userResult = await query(\n    \\`INSERT INTO users (tenant_id, email, name, password_hash, role)\n     VALUES (\\$1, \\$2, \\$3, \\$4, 'admin') RETURNING *\\`,\n    [tenant.id, adminEmail, adminName, hash]\n  );\n\n  return { tenant, user: userResult.rows[0], tempPassword };\n}\n\nmodule.exports = { provisionBetaTester };\n```","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/copperhead-58","created_at":"2026-01-29T03:03:13.33472544-06:00","created_by":"mayor","updated_at":"2026-01-29T03:17:28.170662956-06:00","closed_at":"2026-01-29T03:17:28.170662956-06:00","close_reason":"Created tenantProvisioning.service.js with full provisioning flow: provisionBetaTester, seedTesterTenantData, reseedBetaTester, deactivateBetaTester","dependencies":[{"issue_id":"co-3u6mz","depends_on_id":"co-wisp-h6xp","type":"blocks","created_at":"2026-01-29T03:04:21.482205028-06:00","created_by":"mayor"}]}
{"id":"co-3ubg","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:35:48.063467678-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:48.319252291-06:00","closed_at":"2026-01-22T22:38:48.319252291-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:35:47-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-3vo4","title":"Merge: immortan-mkbxfhb3","description":"branch: polecat/immortan-mkbxfhb3\ntarget: main\nsource_issue: immortan-mkbxfhb3\nrig: copperhead\nagent_bead: co-copperhead-polecat-immortan\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-12T19:46:55.486477281-06:00","created_by":"copperhead/polecats/immortan","updated_at":"2026-01-12T19:58:06.709307668-06:00","closed_at":"2026-01-12T19:58:06.709307668-06:00","close_reason":"Merged to main"}
{"id":"co-3z0","title":"Generate cost items from AI response","description":"Create cost items in quote_lines table from AI parsed response. Include labor codes, quantities, and link to estimate areas.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T19:29:06.283822337-06:00","created_by":"mayor","updated_at":"2026-01-10T20:42:31.94279981-06:00","closed_at":"2026-01-10T20:42:31.94279981-06:00","close_reason":"Duplicate of co-fvi (completed)"}
{"id":"co-40fj","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T23:58:34.109764408-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:15.474030243-06:00","closed_at":"2026-01-22T22:38:15.474030243-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T23:58:33-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-41hab","title":"Fix bullmq module not found in tests","description":"attached_molecule: co-wisp-oj7j\nattached_at: 2026-01-29T07:37:20Z\ndispatched_by: mayor\n\nTests fail with 'Cannot find module bullmq from src/queues/index.js'. The bullmq dependency needs to be installed or the queues module needs to be refactored. This is blocking clean CI runs.","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/agate","created_at":"2026-01-29T01:36:19.325157526-06:00","created_by":"mayor","updated_at":"2026-01-29T01:42:04.313733015-06:00","closed_at":"2026-01-29T01:42:04.313733015-06:00","close_reason":"Fixed: install:all script now builds @field-ops/shared-domain, resolving module resolution for tests","dependencies":[{"issue_id":"co-41hab","depends_on_id":"co-wisp-oj7j","type":"blocks","created_at":"2026-01-29T01:37:17.921290948-06:00","created_by":"mayor"}]}
{"id":"co-41hd","title":"CO Request: Request Change Order button","description":"Add 'Request Change Order' button to WO mobile view. Creates Action of type CHANGE_ORDER_REQUEST linked to WO with tech description.","status":"closed","priority":3,"issue_type":"task","assignee":"/witness","created_at":"2026-01-13T02:39:09.399045795-06:00","created_by":"mayor","updated_at":"2026-01-13T05:38:18.33690969-06:00","closed_at":"2026-01-13T05:38:18.33690969-06:00","close_reason":"Implemented Request Change Order button with full backend and mobile integration"}
{"id":"co-42ar","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T19:02:11.502842516-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.734236644-06:00","closed_at":"2026-01-12T03:09:07.734236644-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T19:02:11-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-43p","title":"Electron Desktop App Setup","description":"Set up Electron wrapper for MSPP with Windows installer, auto-updater, PDF export, and email integration","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-04T22:56:33.175071723-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.257851044-06:00","closed_at":"2026-01-04T23:01:03.062799829-06:00","close_reason":"Electron desktop app setup complete with auto-updater, Windows installer config, responsive layout. Ready to test on Windows."}
{"id":"co-45b59","title":"Beta Platform Phase 1: Database migrations","description":"attached_molecule: co-wisp-ci5x\nattached_at: 2026-01-29T06:38:05Z\ndispatched_by: mayor\n\nCreate migration 082_beta_testing_platform.sql\n\n## Tables to Create\n- beta_testers (tracking beta tester accounts)\n- tenant_email_domains (custom email domains for production)\n\n## Columns to Add\n- tenants.beta_tester BOOLEAN\n- tenants.demo_seeded_at TIMESTAMPTZ\n- tenants.email_domain VARCHAR(255)\n- estimates.admin_approved_on_behalf BOOLEAN\n- estimates.admin_approval_evidence TEXT\n- estimates.admin_approved_by UUID\n\n## Reference\nSee /home/kaos/Documents/PLAN-Beta-Testing-Platform.md Phase 1","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/fluorite","created_at":"2026-01-29T00:18:15.006293232-06:00","created_by":"mayor","updated_at":"2026-01-29T00:39:39.162462124-06:00","closed_at":"2026-01-29T00:39:39.162462124-06:00","close_reason":"Created migration 085_beta_testing_platform.sql with beta_testers table, tenant_email_domains table, and columns for tenants and estimates.","dependencies":[{"issue_id":"co-45b59","depends_on_id":"co-wisp-ci5x","type":"blocks","created_at":"2026-01-29T00:38:01.710092298-06:00","created_by":"mayor"}]}
{"id":"co-45t9","title":"Session ended: gt-copperhead-cheedo","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:53:32.063931822-06:00","created_by":"copperhead/polecats/cheedo","updated_at":"2026-01-22T22:28:09.798623611-06:00","closed_at":"2026-01-22T22:28:09.798623611-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/cheedo","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:53:31-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-cheedo\",\"worker\":\"cheedo\"}"}
{"id":"co-46f","title":"Merge: nux-mk32k7u1","description":"branch: polecat/nux-mk32k7u1\ntarget: main\nsource_issue: nux-mk32k7u1\nrig: copperhead\nagent_bead: co-copperhead-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-06T15:33:46.319238281-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-08T19:31:31.266745431-06:00","closed_at":"2026-01-06T15:46:15.33578523-06:00","close_reason":"Merged to main"}
{"id":"co-480s","title":"Merge: bullet-mkbxfwje","description":"branch: polecat/bullet-mkbxfwje\ntarget: main\nsource_issue: bullet-mkbxfwje\nrig: copperhead\nagent_bead: co-copperhead-polecat-bullet\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-13T05:44:04.15767729-06:00","created_by":"copperhead/polecats/bullet","updated_at":"2026-01-14T00:36:15.874122101-06:00","closed_at":"2026-01-14T00:36:15.874122101-06:00","close_reason":"Merged to main"}
{"id":"co-4a4","title":"Digest: mol-deacon-patrol","description":"Patrol 17: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T03:18:47.857386146-06:00","updated_at":"2026-01-08T19:31:30.936801516-06:00","closed_at":"2026-01-07T03:18:47.857285905-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-4bn","title":"Digital Assessment App - Re-Mark Template Implementation","description":"Build a digital assessment tool matching the Re-Mark Technologies assessment template structure. Includes corporate background, technical POC, multi-location inventory, 4 assessment grids (Infrastructure, Security, Managed Support, Telecommunications), and baseline vs proposed comparison views.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-05T03:06:21.310381695-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.096557657-06:00","closed_at":"2026-01-06T16:09:08.004244427-06:00","close_reason":"All children complete"}
{"id":"co-4e7c7","title":"Mobile Navigation","description":"dispatched_by: mayor","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/carnelian","created_at":"2026-02-05T20:29:07.588388749-06:00","created_by":"kaos","updated_at":"2026-02-12T16:48:22.176472316-06:00","closed_at":"2026-02-12T16:48:22.176472316-06:00","close_reason":"Stale: polecat carnelian and worktree are gone, no PR found, no work product. Closing as abandoned. Can be reopened if needed."}
{"id":"co-4eg","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-08T02:23:42.728201752-06:00","created_by":"copperhead/refinery","updated_at":"2026-02-10T20:52:15.862263542-06:00","closed_at":"2026-02-10T20:52:15.862263542-06:00","close_reason":"Stale events/merge requests - cleanup"}
{"id":"co-4f7k","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:38:07.466477887-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:08.904445314-06:00","closed_at":"2026-01-12T03:09:08.904445314-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:38:07-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-4geu","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:44:53.406907023-06:00","created_by":"mayor","updated_at":"2026-01-12T14:48:09.917637427-06:00","closed_at":"2026-01-12T14:48:09.917637427-06:00","close_reason":"Stale session events - cleaned during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:44:53-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-4h6","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:28:06.569050304-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-07T03:06:37.693262807-06:00","closed_at":"2026-01-07T03:06:37.693262807-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:28:06-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-4jhyx","title":"SECURITY: Add strict rate limiting on auth endpoints","description":"attached_molecule: co-wisp-yicn\nattached_at: 2026-01-29T08:07:10Z\ndispatched_by: mayor\n\nAuth endpoints (login, forgot-password, register) use general rate limit of 100 req/15min. This is too permissive for brute force protection.\n\n## Required Fix\n\nAdd auth-specific rate limiter in apps/api/src/index.js:\n```javascript\nconst authLimiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 5,                    // 5 attempts\n  message: 'Too many login attempts, please try again later',\n  standardHeaders: true,\n});\n\n// Apply to auth endpoints\napp.use('/api/auth/login', authLimiter);\napp.use('/api/auth/register', authLimiter);\napp.use('/api/auth/forgot-password', authLimiter);\napp.use('/api/auth/sso', authLimiter);\n```\n\n## Files to modify\n- apps/api/src/index.js","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/copperhead-52","created_at":"2026-01-29T02:06:03.170140421-06:00","created_by":"mayor","updated_at":"2026-01-29T02:08:05.098371514-06:00","closed_at":"2026-01-29T02:08:05.098371514-06:00","close_reason":"Implemented auth rate limiter: 5 attempts/15min on login, register, forgot-password, SSO","dependencies":[{"issue_id":"co-4jhyx","depends_on_id":"co-wisp-yicn","type":"blocks","created_at":"2026-01-29T02:07:05.837963532-06:00","created_by":"mayor"}]}
{"id":"co-4lx","title":"Session ended: gt-copperhead-rictus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:31:20.233316704-06:00","created_by":"copperhead/polecats/rictus","updated_at":"2026-01-07T03:06:37.496572683-06:00","closed_at":"2026-01-07T03:06:37.496572683-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"copperhead/polecats/rictus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:31:20-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-rictus\",\"worker\":\"rictus\"}"}
{"id":"co-4rc","title":"W4: Build Timesheet Export","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:10:55.503606857-06:00","created_by":"kaos","updated_at":"2026-01-05T16:20:24.986550833-06:00","closed_at":"2026-01-05T16:20:24.986550833-06:00","close_reason":"Already implemented by MCP agents - see W1-W10 in features-list.md and claude-progress.md","labels":["lite-mvp","ui","web"]}
{"id":"co-4sz5","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:05:23.847656762-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.040933703-06:00","closed_at":"2026-01-12T03:09:08.040933703-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:05:23-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-4szm","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:38:21.585876484-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.962286369-06:00","closed_at":"2026-01-12T03:09:07.962286369-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:38:21-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-4t9m","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T22:21:08.517102524-06:00","created_by":"mayor","updated_at":"2026-01-12T22:24:02.791763468-06:00","closed_at":"2026-01-12T22:24:02.791763468-06:00","close_reason":"Stale session events","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T22:21:08-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-4uzd","title":"Session ended: gt-copperhead-immortan","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T19:47:09.037203019-06:00","created_by":"copperhead/polecats/immortan","updated_at":"2026-01-12T19:48:08.457234224-06:00","closed_at":"2026-01-12T19:48:08.457234224-06:00","close_reason":"Triage: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/immortan","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T19:47:08-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-immortan\",\"worker\":\"immortan\"}"}
{"id":"co-4v40t","title":"issue","description":"dispatched_by: mayor\n\n## Problem\nThe beta tenant seeding creates estimates and line items but no materials in the Bill of Materials.\n\n## Requirements\nUpdate seedBetaTenantData to add realistic materials to the line items of each seeded estimate.\n\nExample materials:\n- Electrical: wire, outlets, breakers, conduit\n- Plumbing: pipes, fittings, fixtures\n- HVAC: ductwork, thermostats, filters\n\nEach line item should have 2-4 materials with quantities and costs.\n\n## Files to modify\n- apps/api/src/services/seedBetaTenantData.js (or similar seed file)","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/calcite","created_at":"2026-02-05T00:48:00.610839095-06:00","created_by":"kaos","updated_at":"2026-02-08T20:59:46.739038753-06:00","closed_at":"2026-02-08T20:59:46.739038753-06:00","close_reason":"Added BOM entries to seeded line items for beta tenants. Links line items to inventory items via line_item_bom table."}
{"id":"co-4vp","title":"Estimate UI Header Redesign \u0026 Line Item Columns","description":"## Overview\nRedesign the estimate editor header layout and update cost item line columns.\n\n## Header Layout (Left to Right)\n\n### Left Section (Customer Info)\n- Customer dropdown selector\n- Client email address (editable, auto-populated)\n- CC/BCC count indicator (e.g., \"1Cc/1Bcc\")\n- \"Bill To\" editable: ATT: [contact picker], Address\n- \"Edit customer\" link\n\n### Middle Section (2x3 grid)\n- Estimate # | [value]\n- Estimate Date | [date]\n- Expiration Date | [date]\n\n### Right Section (Acceptance)\n- Accepted by: [name], Accepted date: [date]\n\n### Far Right (Internal - hidden on print)\n- Reviewed by: [name], Reviewed date: [date]\n\n## Cost Item Line Columns\n- SKU, Description, Quantity, Rate (replaces Unit Sell), Amount\n\n## Data Model\nMay need: cc_emails, bcc_emails, billing_attention, reviewed_by, reviewed_date\n\n## Files\n- EstimateDetailModal.jsx or AreaBasedEstimateEditor.jsx\n- AreaLineItem.jsx\n- migrations/ if schema changes","status":"closed","priority":1,"issue_type":"feature","assignee":"copperhead/polecats/dementus","created_at":"2026-01-11T01:01:49.808252781-06:00","created_by":"mayor","updated_at":"2026-01-11T04:58:07.855198962-06:00","closed_at":"2026-01-11T04:58:07.855198962-06:00","close_reason":"Header redesigned with 4-section layout (Customer/Email/BillTo | Estimate#/Dates | Acceptance | Review). Line items now show SKU|Description|Qty|Rate|Amount columns. Migration 044 adds new fields."}
{"id":"co-4vu","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T23:32:04.322342005-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.823175541-06:00","closed_at":"2026-01-12T03:09:09.823175541-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T23:32:04-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-4xnup","title":"Digest: mol-witness-patrol","description":"Patrol 7: obsidian (P1 migration fix) actively working, refinery running","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T22:23:16.117460411-06:00","updated_at":"2026-01-31T22:23:16.117460411-06:00","closed_at":"2026-01-31T22:23:16.117269692-06:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"co-4xnup","depends_on_id":"co-wisp-5ma7e","type":"parent-child","created_at":"2026-01-31T22:23:16.125360129-06:00","created_by":"copperhead/witness"}]}
{"id":"co-4yxs","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:41:54.514950028-06:00","created_by":"mayor","updated_at":"2026-01-12T14:42:17.604237599-06:00","closed_at":"2026-01-12T14:42:17.604237599-06:00","close_reason":"Triaged: stale session-ended event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:41:54-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-51v1","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T01:49:29.785744921-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:14.663927822-06:00","closed_at":"2026-01-22T22:38:14.663927822-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T01:49:29-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-52e","title":"Markup/Margin Settings - Combined or Separate for Labor and Materials","description":"## Overview\nAllow tenant to choose whether markup/margin applies to labor and materials together or separately. This is a company-level setting configured during initial setup or in Company Settings.\n\n## Location\nSettings → Pricing \u0026 Billing → Markup Configuration\n\n## UI Design\n\n### Markup Method Selector\n```\n┌─────────────────────────────────────────────────────────────┐\n│ MARKUP/MARGIN APPLICATION                                   │\n├─────────────────────────────────────────────────────────────┤\n│                                                             │\n│  How do you apply markup to your pricing?                   │\n│                                                             │\n│  ○ Combined (Single rate for all costs)                     │\n│    Overall Markup: ______%  OR  Margin: ______%             │\n│    Applied to: Labor + Materials + Equipment                │\n│                                                             │\n│  ● Separate (Different rates by cost type)                  │\n│    Material Markup: ______%  OR  Margin: ______%            │\n│    Labor Markup: ______%  OR  Margin: ______%               │\n│    Equipment Markup: ______%  OR  Margin: ______%           │\n│    Subcontractor Markup: ______%  OR  Margin: ______%       │\n│                                                             │\n│  Input Mode: ○ Markup  ● Margin  [?] What's the difference  │\n│                                                             │\n└─────────────────────────────────────────────────────────────┘\n```\n\n### Educational Tooltip\n```\nMARKUP vs MARGIN\n\nMarkup: Percentage added ON TOP of cost\n  Cost $100 + 35% markup = $135 sell price\n\nMargin: Percentage of sell price that is profit  \n  $100 cost at 25% margin = $133.33 sell price\n  (Profit is 25% of $133.33 = $33.33)\n\nConversion:\n  Margin = Markup ÷ (1 + Markup)\n  Markup = Margin ÷ (1 - Margin)\n```\n\n## Database Fields (tenant_settings)\n- markup_mode ENUM ('combined', 'separate') DEFAULT 'separate'\n- input_mode ENUM ('markup', 'margin') DEFAULT 'markup'\n\n### Combined Mode\n- combined_markup DECIMAL (e.g., 0.40 = 40%)\n\n### Separate Mode (existing fields, ensure present)\n- markup_material DECIMAL DEFAULT 0.35\n- markup_labor DECIMAL DEFAULT 0.50\n- markup_equipment DECIMAL DEFAULT 0.30\n- markup_subcontractor DECIMAL DEFAULT 0.15\n\n## Initial Setup Integration\nAdd this question to the initial company setup wizard if one exists, or create a first-run configuration modal.\n\n## Files to Modify\n- apps/api/migrations/043_markup_mode_settings.sql\n- apps/web/src/components/Settings/PricingBillingSettings.jsx\n- apps/api/src/services/pricing.service.js (apply correct mode)","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/splendid","created_at":"2026-01-10T23:23:13.594045809-06:00","created_by":"mayor","updated_at":"2026-02-10T20:53:00.131268256-06:00","closed_at":"2026-02-10T20:53:00.131268256-06:00","close_reason":"Stale - all work caught up","dependencies":[{"issue_id":"co-52e","depends_on_id":"co-v5k","type":"blocks","created_at":"2026-01-10T23:24:06.862637722-06:00","created_by":"mayor"}]}
{"id":"co-53lv","title":"Phase 3: Create crewSizing and phaseAssignment services","description":"dispatched_by: mayor\n\nCreate two services for crew management:\n\n1. crewSizing.service.js:\n   - getWorkDays(startDate, endDate) - count work days excluding weekends\n   - addWorkDays(date, days) - add work days\n   - calculateCrewOptions(laborHours, startDate, deadline, options) - generate crew size options with costs\n   - calculateProjectCrewOptions(phases, deadline, options) - per-phase calculations\n\n2. phaseAssignment.service.js:\n   - getAvailableTechnicians(criteria) - query techs with scheduled hours\n   - rankTechnicians(techs, criteria) - score by preferences, skills, workload\n   - autoAssignProjectPhases(projectId, constraints) - auto-assign crews\n   - saveCrewAssignments(assignments, assignedBy) - persist to work_order_crew\n\nFull implementation in docs/plans/EST-WO-implementation-plan.md lines 527-909","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/crew/phase3","created_at":"2026-01-23T22:27:47.455579776-06:00","created_by":"mayor","updated_at":"2026-01-23T22:54:39.295726439-06:00","closed_at":"2026-01-23T22:54:39.295726439-06:00","close_reason":"Created crewSizing.service.js and phaseAssignment.service.js per EST-WO plan.","labels":["est-wo","service"],"dependencies":[{"issue_id":"co-53lv","depends_on_id":"co-uqwd","type":"blocks","created_at":"2026-01-23T22:27:47.461570301-06:00","created_by":"mayor"}]}
{"id":"co-55gk","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:18:20.021735937-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:20.780118063-06:00","closed_at":"2026-01-12T17:27:20.780118063-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:18:19-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-563f","title":"Change Order Request Flow from Field","description":"## Summary\nTech on-site discovers additional work needed. Uses Actions system to request change order from back office.\n\n## Components\n1. One-time warning per WO - Reminder that tasks are not for additional work\n2. Request Change Order button - Creates Action of type CHANGE_ORDER_REQUEST\n3. Action linked to WO - Sales/dispatch sees in dashboard\n4. Client approval flow - Email to client for confirmation\n5. Resolution options: Schedule for later OR create on-spot and assign to tech\n\n## Action Fields\n- Type: CHANGE_ORDER_REQUEST\n- Source: field/mobile\n- Linked entity: work_order\n- Description: Tech description of additional work needed\n- Priority: HIGH (tech is on-site waiting)\n\n## Flow\nTech -\u003e Request Change Order -\u003e Action created -\u003e Sales/Dispatch notified -\u003e Client email -\u003e Approval -\u003e Change order created -\u003e Scheduled or assigned\n\n## Rules\n- Tasks are for checklist items only, not additional work\n- Additional work requires change order\n- Client must confirm before work can be scheduled/assigned\n- Estimate ceiling enforced - change order updates the ceiling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T02:25:10.013882968-06:00","created_by":"mayor","updated_at":"2026-01-13T05:42:54.007597705-06:00","closed_at":"2026-01-13T05:42:54.007597705-06:00","close_reason":"All 5 components implemented: warning banner, request button, dashboard, email approval, resolution options","dependencies":[{"issue_id":"co-563f","depends_on_id":"co-jw5z","type":"parent-child","created_at":"2026-01-13T02:39:23.666379565-06:00","created_by":"mayor"},{"issue_id":"co-563f","depends_on_id":"co-41hd","type":"parent-child","created_at":"2026-01-13T02:39:23.715940903-06:00","created_by":"mayor"},{"issue_id":"co-563f","depends_on_id":"co-z0ux","type":"parent-child","created_at":"2026-01-13T02:39:23.761702294-06:00","created_by":"mayor"},{"issue_id":"co-563f","depends_on_id":"co-ps0q","type":"parent-child","created_at":"2026-01-13T02:39:23.807779972-06:00","created_by":"mayor"},{"issue_id":"co-563f","depends_on_id":"co-ti0f","type":"parent-child","created_at":"2026-01-13T02:39:23.856502067-06:00","created_by":"mayor"}]}
{"id":"co-57a3","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:18:47.819381135-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.225482414-06:00","closed_at":"2026-01-12T03:09:08.225482414-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:18:47-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-57w","title":"Assessment UI - List/Dashboard","description":"Create assessment list and dashboard:\n- List all assessments with client name, date, type (Initial/Quarterly/Ad-hoc)\n- Risk score badges (color coded)\n- Overdue assessment alerts\n- Quick filters: All | Due | High Risk\n- Search by client name\n- New Assessment button","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:07:26.948473355-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.261203052-06:00","closed_at":"2026-01-05T03:13:01.508565594-06:00","close_reason":"Implemented navigation, dashboard, and basic assessment editor with corporate background, technical POC, and location inventory sections","dependencies":[{"issue_id":"co-57w","depends_on_id":"co-2db","type":"blocks","created_at":"2026-01-05T03:07:55.073588654-06:00","created_by":"mayor"},{"issue_id":"co-57w","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:14.002869048-06:00","created_by":"mayor"}]}
{"id":"co-59e1o","title":"E2WO: Add phase field to line items with AI suggestion","description":"Add phase column to estimate_line_items table. AI suggests phase based on item type/category (rough_in, trim, finish, service_call). Sales rep can override. This enables multi-phase work order splitting.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T17:53:51.180842848-06:00","created_by":"mayor","updated_at":"2026-01-24T18:53:25.911427687-06:00","closed_at":"2026-01-24T18:53:25.911427687-06:00","close_reason":"Closed"}
{"id":"co-59z0","title":"TemplateComparisonView - Side-by-side estimate vs work order view","description":"Create a component that shows side-by-side comparison:\n- Left: Estimate View (what customer sees - cost item descriptions, prices)\n- Right: Work Order View (what tech sees - tasks, materials, labor hours)\n- Sync status indicator showing if work template is linked to cost item\n- Located in src/components/dispatch/TemplateComparisonView.jsx\n- Used from WorkTemplatesPage and ApprovedJobsPage","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T03:29:53.405647836-06:00","created_by":"mayor","updated_at":"2026-01-09T03:33:12.582943669-06:00","closed_at":"2026-01-09T03:33:12.582943669-06:00","close_reason":"Implemented TemplateComparisonView"}
{"id":"co-5a1","title":"Rebase Phase 2 Onboarding branch (furiosa-mk3qccla) against main and resolve api.service.js conflict","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T03:00:52.748209574-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.060113329-06:00","closed_at":"2026-01-07T03:04:20.245864192-06:00","close_reason":"Rebased furiosa-mk3qccla against main, resolved api.service.js conflict (merged onboarding + addons methods)"}
{"id":"co-5eg","title":"M1: Build Login screen with email/password auth","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/furiosa","created_at":"2026-01-05T05:10:52.276711882-06:00","created_by":"kaos","updated_at":"2026-01-05T11:51:38.490932333-06:00","closed_at":"2026-01-05T11:51:38.490932333-06:00","close_reason":"M1 Login screen fully implemented: LoginScreen.tsx (307 lines) with email/password auth, AuthContext.tsx for state management, api.service.ts with JWT token handling, and backend /mobile/auth/login endpoint","labels":["lite-mvp","mobile","ui"]}
{"id":"co-5exyc","title":"Work Order Detail Page","description":"attached_molecule: co-wisp-kxz\nattached_at: 2026-01-25T05:27:59Z\ndispatched_by: mayor\n\n## Feature Request\nWork Order Detail Page based on existing Edit Work Order modal in FieldOpsApp.js\n\n## Route\n/dispatch/work-orders/:id\n\n## Data Flow: What Comes From Where\n\n### FROM ESTIMATE (auto-populated on conversion)\n- Customer / Client name\n- Contact name\n- Phone\n- Address / Site\n- Scope of Work (from estimate description)\n- Estimated Hours (calculated from line items)\n- Required Parts/Materials (from BOM)\n- Tasks (from line item tasks)\n- **Priority** ← ADD TO ESTIMATE\n- **Market** ← ADD TO ESTIMATE\n- References (Estimate number links back)\n\n### FILLED IN BY DISPATCH (after conversion)\n- Work Type\n- Work Phase\n- Scheduled Date\n- Scheduled Time\n- Assigned Technician\n- Truck\n- Details/Notes (dispatcher notes)\n- QuickBooks reference\n- Customer PO\n\n## Fields to ADD to Estimate Creation\nThese should be entered during estimate creation and carry over to work order:\n- **Priority** (low, normal, high, urgent)\n- **Market** (Commercial, Residential, Industrial)\n\n## Navigation\n- Link from ConvertToWorkOrderPage success → Work Order Detail\n- Link from Approved Jobs list → Work Order Detail (for converted estimates)\n- Back button returns to previous page\n\n## Action Buttons\n- Edit\n- Assign Technician\n- Change Status\n- View Source Estimate","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/garnet","created_at":"2026-01-24T23:16:41.56834182-06:00","created_by":"mayor","updated_at":"2026-01-25T00:21:00.207292571-06:00","closed_at":"2026-01-25T00:21:00.207292571-06:00","close_reason":"Completed - WorkOrderDetailPage.jsx exists in main","dependencies":[{"issue_id":"co-5exyc","depends_on_id":"co-hnzlu","type":"blocks","created_at":"2026-01-24T23:21:19.903106295-06:00","created_by":"mayor"}]}
{"id":"co-5ggd","title":"Session ended: gt-polecat-coma","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:14:14.417298692-06:00","created_by":"kaos","updated_at":"2026-01-22T22:38:16.180405868-06:00","closed_at":"2026-01-22T22:38:16.180405868-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"polecat/polecats/coma","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:14:14-06:00\",\"rig\":\"polecat\",\"role\":\"polecat\",\"session_id\":\"gt-polecat-coma\",\"worker\":\"coma\"}"}
{"id":"co-5gl","title":"Labor Cost Calculator - Reference Tool with Disclaimer","description":"## Overview\nAdd a Soft Cost Calculator page that helps tenants determine their blended labor rate. This is a REFERENCE TOOL that feeds into the standard labor settings.\n\n## Location\nNavigation: PRICING section → 💰 Labor Costs\n\n## UI Components\n\n### 1. Employee Roster Table (editable)\n- Columns: Role/Name, Annual Salary, Calculated Total Cost\n- Total Cost = Salary × (1 + burden_multiplier)\n- Add/Remove employee buttons\n- Common presets: Tech Level 1/2/3, Service Manager, Admin Support\n\n### 2. Settings Section\n- Burden Multiplier % input (default 35%)\n  - Tooltip: Includes payroll taxes, workers comp, benefits, PTO\n- Utilization Rate % input (default 80%)\n  - Tooltip: Percentage of work hours that are billable\n\n### 3. Hours Per Unit Section (optional, for per-unit pricing)\n- Editable inputs for common unit types\n- Trades examples: per outlet, per panel, per 100ft conduit\n\n### 4. Calculated Results Display (read-only, live updates)\n- Total Employees\n- Total Annual Labor Cost\n- Blended Annual Salary\n- Billable Hours (2080 × utilization_rate)\n- **Blended Hourly Rate** (key output)\n- Soft Cost per Unit (if hours_per_unit configured)\n\n### 5. Action Buttons\n- 'Apply to Labor Settings' → copies blended rate to tenant settings\n- 'Save Calculator Data' → persists employee roster for future reference\n- 'Reset to Defaults' → clears to starting values\n\n## Disclaimer (REQUIRED - display prominently)\n```\n⚠️ REFERENCE CALCULATOR ONLY\n\nThis calculator is provided as a planning tool to help estimate labor costs.\nResults are for informational purposes only and do not constitute financial,\nlegal, or accounting advice.\n\nBefore making business decisions based on these calculations, consult with\na qualified CPA, CFO, or financial advisor who understands your specific\nbusiness circumstances, tax obligations, and regulatory requirements.\n```\n\n## Data Model\n```json\n{\n  \"employees\": [\n    { \"role\": \"Tech Level 2\", \"salary\": 52000 },\n    { \"role\": \"Tech Level 1\", \"salary\": 33280 }\n  ],\n  \"burden_multiplier\": 0.35,\n  \"utilization_rate\": 0.80,\n  \"hours_per_unit\": {}\n}\n```\n\n## Formulas\n1. Total Annual Labor Cost = Σ(salary × (1 + burden_multiplier))\n2. Blended Annual Salary = Total Annual Labor Cost ÷ employee_count\n3. Billable Hours = 2080 × utilization_rate\n4. Blended Hourly Rate = Blended Annual Salary ÷ Billable Hours\n\n## Files to Create/Modify\n- apps/web/src/pages/pricing/LaborCostCalculator.jsx (new)\n- apps/web/src/nav/appNav.js (add nav item)\n- apps/api/src/routes/laborCalculator.routes.js (persist data)\n- apps/api/migrations/043_labor_calculator_data.sql (storage)","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/coma","created_at":"2026-01-10T23:22:38.756204024-06:00","created_by":"mayor","updated_at":"2026-02-10T20:53:01.898945514-06:00","closed_at":"2026-02-10T20:53:01.898945514-06:00","close_reason":"Stale - all work caught up","dependencies":[{"issue_id":"co-5gl","depends_on_id":"co-v5k","type":"blocks","created_at":"2026-01-10T23:24:06.79818065-06:00","created_by":"mayor"}]}
{"id":"co-5gt","title":"Merge: furiosa-mk3qccla","description":"branch: polecat/furiosa-mk3qccla\ntarget: main\nsource_issue: furiosa-mk3qccla\nrig: copperhead","status":"closed","priority":1,"issue_type":"merge-request","created_at":"2026-01-07T03:09:13.626923938-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.082533465-06:00","closed_at":"2026-01-07T03:11:15.51972671-06:00","close_reason":"Merged via PR #14 - Phase 2 Onboarding"}
{"id":"co-5i6","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-08T02:20:56.173956809-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-02-10T20:52:16.82270567-06:00","closed_at":"2026-02-10T20:52:16.82270567-06:00","close_reason":"Stale events/merge requests - cleanup"}
{"id":"co-5jeah","title":"Implement QuickBooks export for timesheets","description":"dispatched_by: unknown\n\nExport to QuickBooks button shows 'coming soon' alert instead of actual export.\n\n## Location\n- File: apps/web/src/pages/dispatch/TimesheetsPage.jsx:167-172\n- Current: alert('Export to QuickBooks coming soon')\n\n## Implementation\n1. Create QuickBooks IIF or CSV export service\n2. Format time entries per QuickBooks import spec\n3. Include employee, hours, date, job info\n4. Trigger file download on button click\n5. Add loading state during export generation\n\n## Acceptance\n- Export button generates downloadable file\n- File format compatible with QuickBooks import\n- Loading indicator during generation","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/zircon","created_at":"2026-02-04T10:55:45.885274404-06:00","created_by":"kaos","updated_at":"2026-02-04T11:10:04.873955435-06:00","closed_at":"2026-02-04T11:10:04.873955435-06:00","close_reason":"completed"}
{"id":"co-5jz","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:20:55.170745099-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.564081286-06:00","closed_at":"2026-01-12T03:09:09.564081286-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:20:55-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-5kba","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T06:44:25.88884419-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.708943509-06:00","closed_at":"2026-01-12T03:09:08.708943509-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T06:44:25-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-5lvyx","title":"task","description":"attached_molecule: co-wisp-45cwe\nattached_at: 2026-01-30T03:31:04Z\ndispatched_by: mayor\n\nPR #16 (polecat/garnet/co-5exyc@mktarkdd) has merge conflicts.\n\nBranch: polecat/garnet/co-5exyc@mktarkdd\nTitle: feat(dispatch): add Work Order Detail Page\n\nConflicting files:\n- apps/web/src/App.js\n- apps/web/src/pages/dispatch/WorkOrderDetailPage.jsx\n- apps/web/src/pages/dispatch/index.js\n\nFix: Rebase branch onto origin/main, resolve route import conflicts, push force.","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead-copperhead/polecats/71","created_at":"2026-01-29T21:29:37.923296692-06:00","created_by":"mayor","updated_at":"2026-01-29T21:37:44.907973962-06:00","closed_at":"2026-01-29T21:37:44.907973962-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-5lvyx","depends_on_id":"co-wisp-45cwe","type":"blocks","created_at":"2026-01-29T21:30:49.774837898-06:00","created_by":"mayor"}]}
{"id":"co-5n24e","title":"Define critical table schemas in schema-registry","description":"Add table definitions for the tables with the most seed issues.\n\n## Tables to Define\n\n### 1. line_items.ts\nThe problematic `code` vs `item_code` issue lives here. Must match actual migration schema.\n\n### 2. customers.ts  \nIssues with:\n- `type` vs `customer_type`\n- `address` vs `address_line1`\n- `zip` vs `postal_code`\n\n### 3. vendors.ts\nUses `vendor_code` - ensure consistent naming.\n\n### 4. users.ts\nRoles and statuses must match enum definitions.\n\n### 5. tenants.ts\nPlan relationships and tenant configuration.\n\n## File Structure\n```\npackages/schema-registry/src/tables/\n├── index.ts\n├── lineItems.ts\n├── customers.ts\n├── vendors.ts\n├── users.ts\n└── tenants.ts\n```\n\n## Each Table File Pattern\n```typescript\nimport { defineTable, column, fk, unique } from '../core';\nimport { TenantId, Timestamps, SoftDelete } from '../mixins';\n\nexport const vendors = defineTable('vendors', {\n  mixins: [TenantId, Timestamps, SoftDelete],\n  columns: {\n    id: column.uuid().primaryKey().default('gen_random_uuid()'),\n    vendor_code: column.varchar(50).notNull(),\n    name: column.varchar(255).notNull(),\n    // ... all columns from migration\n  },\n  constraints: [...],\n  indexes: [...],\n});\n\nexport const VendorColumns = vendors.columnNames;\n```\n\n## Verification\n1. Compare each table definition against the actual migration SQL\n2. Run `npm run build` in schema-registry\n3. Import column names in a test file to verify autocomplete works\n\n## Reference\nCheck existing migrations at: apps/api/migrations/","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T02:42:44.86153079-06:00","created_by":"mayor","updated_at":"2026-02-10T20:59:44.942257738-06:00","closed_at":"2026-02-10T20:59:44.942257738-06:00","close_reason":"Stale - all work caught up","dependencies":[{"issue_id":"co-5n24e","depends_on_id":"co-oz4o9","type":"blocks","created_at":"2026-01-31T02:43:14.106001763-06:00","created_by":"mayor"}]}
{"id":"co-5n3c","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:57:14.346975956-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.523656059-06:00","closed_at":"2026-01-12T03:09:07.523656059-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":65,\"ended_at\":\"2026-01-11T21:57:14-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-5njd","title":"Session ended: gt-copperhead-dag","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T00:26:18.940800816-06:00","created_by":"copperhead/polecats/dag","updated_at":"2026-01-22T22:38:15.220358152-06:00","closed_at":"2026-01-22T22:38:15.220358152-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/dag","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T00:26:18-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dag\",\"worker\":\"dag\"}"}
{"id":"co-5oq7","title":"Document chat support (XLSX, PDF, DOCX)","description":"Add ability for users to drop documents into AI chat and ask questions about contents. XLSX/DOCX via library parsing (xlsx, mammoth), PDF via Claude Vision. See plan: ~/.claude/plans/fizzy-questing-cocke.md","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-20T23:38:11.059938733-06:00","created_by":"kaos","updated_at":"2026-01-21T03:28:02.731507897-06:00","closed_at":"2026-01-21T03:28:02.731507897-06:00","close_reason":"Implemented document chat support with XLSX, DOCX, and PDF parsing"}
{"id":"co-5qckt","title":"Fix signup form: show password requirements and parse API validation errors","description":"dispatched_by: mayor\n\nThe signup form (Register.js) only checks password \u003e= 8 chars but the API (auth.routes.js:62-72) requires: lowercase, uppercase, number, and special character. Users get cryptic 'the string did not match the expected pattern' error. Fix: 1) Add password requirement hints below the password field showing all rules. 2) Parse the API validation errors array properly - the API returns {errors: [{msg, path}]} on 400 but the frontend only shows err.message. 3) Optionally add real-time validation indicators. Files: apps/web/src/components/auth/Register.js - add password hints and fix error parsing.","notes":"Implemented in commit aaec9532. Register.js now shows real-time password validation indicators for all 5 rules and properly parses API validation errors array. api.service.js preserves errors array on thrown Error.","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/copperhead-107","created_at":"2026-02-10T01:06:41.56756224-06:00","created_by":"kaos","updated_at":"2026-02-10T01:11:58.857329576-06:00","closed_at":"2026-02-10T01:11:58.857334442-06:00"}
{"id":"co-5rdd","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T06:40:19.262343484-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.726797202-06:00","closed_at":"2026-01-12T03:09:08.726797202-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T06:40:19-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-5sf","title":"SSO Phase 1: Database \u0026 Backend Foundation","description":"Create migration 032_sso_providers.sql, implement SSO service factory, Azure AD provider, /api/sso routes. See docs/ai/workflows/SSO-IMPLEMENTATION-PLAN.md for full spec.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T04:07:49.317467721-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.115053153-06:00","closed_at":"2026-01-06T14:55:02.234110713-06:00","close_reason":"Duplicate of ms-cvr (already completed)"}
{"id":"co-5su3","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:42:39.907151276-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:08.469352197-06:00","closed_at":"2026-01-12T03:09:08.469352197-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:42:39-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-5toy","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T20:35:44.753227058-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.624199429-06:00","closed_at":"2026-01-12T03:09:07.624199429-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":8.5,\"ended_at\":\"2026-01-11T20:35:44-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-5ws","title":"DOCS: Create LITE_TRACK.md","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/furiosa","created_at":"2026-01-05T05:10:58.984926619-06:00","created_by":"kaos","updated_at":"2026-01-06T01:16:53.964286306-06:00","closed_at":"2026-01-06T01:16:53.964286306-06:00","close_reason":"Created docs/LITE_TRACK.md documenting Lite MVP scope, features, database schema, API endpoints, and mobile screens","labels":["docs","lite-mvp"]}
{"id":"co-5zdt","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:11:59.935953585-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:21.041590054-06:00","closed_at":"2026-01-12T17:27:21.041590054-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:11:59-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-605","title":"PLAN-001 Phase 2: Onboarding Flow","description":"Trade selection step, starter catalog upsell step, purchase to import flow","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T01:23:55.442057252-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.167780361-06:00","closed_at":"2026-01-07T02:09:46.73358207-06:00","close_reason":"Phase 2 complete - Onboarding flow implemented with trade selection, starter pack offer, and activation flow","dependencies":[{"issue_id":"co-605","depends_on_id":"co-srk","type":"blocks","created_at":"2026-01-07T01:25:15.388202079-06:00","created_by":"mayor"}]}
{"id":"co-609x","title":"Add RSB extensions to ApprovedJobsPage","description":"Add Right Sidebar extensions to the Approved Jobs page following the pattern used in AreaBasedEstimateEditor.\n\n## Context\n- Target: apps/web/src/pages/dispatch/ApprovedJobsPage.jsx\n- Pattern: apps/web/src/components/salesops/AreaBasedEstimateEditor.jsx (lines 505-651)\n- Context Provider: apps/web/src/context/RightSidebarContext.jsx\n\n## Suggested Extensions\n\n### 1. Conversion Queue\n- Approved estimates awaiting conversion\n- Sort by date, customer, value\n- Quick status badges\n- Icon: FileCheck or List\n\n### 2. Template Matcher\n- Suggested templates for selected estimate\n- Match by line items/categories\n- Quick apply template\n- Icon: Link2 or Sparkles\n\n### 3. Tech Availability\n- Available technicians for scheduling\n- Next open slots\n- Skill matching\n- Icon: Users or Calendar\n\n### 4. Parts Check\n- Materials needed for selected job\n- Stock availability summary\n- Procurement alerts\n- Icon: Package or AlertTriangle\n\n## Implementation Notes\n- Use existing approvedEstimates and workTemplates state\n- Badge showing pending conversion count\n- Follow icon/badge patterns from estimate editor","status":"closed","priority":2,"issue_type":"task","assignee":"coma","created_at":"2026-01-15T04:54:45.193054027-06:00","created_by":"mayor","updated_at":"2026-01-15T05:18:29.832979963-06:00","closed_at":"2026-01-15T05:18:29.832979963-06:00","close_reason":"Added RSB extensions (Conversion Queue, Template Matcher, Tech Availability, Parts Check) to ApprovedJobsPage following AreaBasedEstimateEditor pattern"}
{"id":"co-60c9","title":"Procurement - Inventory Item Management Pages","description":"attached_molecule: co-wisp-cx7a\nattached_at: 2026-01-27T08:52:49Z\ndispatched_by: mayor\n\n## Phase 3: Procurement Inventory Management\n\nCreate full CRUD pages for procurement to manage inventory items, with AI-assist (Torey fills in details).\n\n### Tasks:\n1. Add missing inventory CRUD methods to api.service.js\n2. Create InventoryItemsPage.jsx - List/search/filter (follow CostItemsPage pattern)\n3. Create InventoryItemDetailPage.jsx - Create/edit with AI-assist\n4. Create InventoryItemRequestsPage.jsx - Request queue from sales reps\n5. Add routes to App.js\n\n### Plan Reference:\n/home/kaos/.claude/plans/snoopy-baking-wind.md - Phase 3\n\n### Files to Create/Modify:\n- apps/web/src/services/api.service.js (add methods)\n- apps/web/src/pages/procurement/InventoryItemsPage.jsx\n- apps/web/src/pages/procurement/InventoryItemDetailPage.jsx\n- apps/web/src/pages/procurement/InventoryItemRequestsPage.jsx\n- apps/web/src/App.js (add routes)\n\n### AI-Assist Feature:\nThe InventoryItemDetailPage should have an 'Ask Torey' button that calls /ai/lookup-product-info to auto-fill item details from SKU or manufacturer part number.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/amber","created_at":"2026-01-20T23:59:38.191967335-06:00","created_by":"mayor","updated_at":"2026-01-27T09:45:16.411250249-06:00","closed_at":"2026-01-27T09:45:16.411250249-06:00","close_reason":"Completed by polecat amber","dependencies":[{"issue_id":"co-60c9","depends_on_id":"co-wisp-cx7a","type":"blocks","created_at":"2026-01-27T02:52:45.965333864-06:00","created_by":"mayor"}]}
{"id":"co-626v","title":"Session ended: gt-copperhead-dementus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:45:00.774187437-06:00","created_by":"copperhead/polecats/dementus","updated_at":"2026-01-12T03:09:09.185006608-06:00","closed_at":"2026-01-12T03:09:09.185006608-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/dementus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T04:45:00-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dementus\",\"worker\":\"dementus\"}"}
{"id":"co-62l48","title":"Commit nginx.conf fix: change api to fieldops-api for K8s service name","description":"Staging deployment fixes needed:\n\n**1. nginx.conf fix (DONE locally)**\n- Line 38: `proxy_pass http://api:3001/api/;` → `proxy_pass http://fieldops-api:3001/api/;`\n\n**2. Migration file renaming needed**\n- Rename `030_cost_items_foundation.sql` → `030_line_items_foundation.sql`\n- Rename `032_cost_items.sql` → `032_line_items.sql`\n- Rename `035_quote_lines_cost_item_id.sql` → `035_quote_lines_line_item_id.sql`\n- Update any internal references from cost_items to line_items\n\n**3. Database migration state**\n- Staging DB has records for old file names, blocking new migrations\n- Need to either update migration tracking or run migrations fresh\n\n**Files:**\n- apps/web/nginx.conf\n- apps/api/migrations/030_cost_items_foundation.sql\n- apps/api/migrations/032_cost_items.sql  \n- apps/api/migrations/035_quote_lines_cost_item_id.sql","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T02:14:38.271786444-06:00","created_by":"mayor","updated_at":"2026-02-10T20:59:47.246462868-06:00","closed_at":"2026-02-10T20:59:47.246462868-06:00","close_reason":"Stale - all work caught up"}
{"id":"co-64le","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:27:35.330348064-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.951325257-06:00","closed_at":"2026-01-12T03:09:08.951325257-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:27:35-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-64xn","title":"Session ended: gt-polecat-splendid","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:14:30.006926364-06:00","created_by":"kaos","updated_at":"2026-01-22T22:38:16.139710331-06:00","closed_at":"2026-01-22T22:38:16.139710331-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"polecat/polecats/splendid","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:14:29-06:00\",\"rig\":\"polecat\",\"role\":\"polecat\",\"session_id\":\"gt-polecat-splendid\",\"worker\":\"splendid\"}"}
{"id":"co-658","title":"Fix AI service missing DB tables/functions","description":"The AI service fails due to missing check_ai_quota function and ai_usage_logs table. Either create migration for these tables or bypass gracefully in dev mode.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T19:29:05.24682843-06:00","created_by":"mayor","updated_at":"2026-01-10T20:42:31.612978085-06:00","closed_at":"2026-01-10T20:42:31.612978085-06:00","close_reason":"Duplicate of co-dlu (completed)"}
{"id":"co-699i","title":"Digest: mol-witness-patrol","description":"Patrol 2: all clear - inbox empty, no cleanups, refinery running, no polecats, no timer gates, no swarm, deacon pinged","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T22:41:26.953162028-06:00","updated_at":"2026-01-23T22:41:26.953162028-06:00","closed_at":"2026-01-23T22:41:26.952970043-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-69p","title":"Session ended: gt-copperhead-forge","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T16:30:30.068629326-06:00","created_by":"copperhead/polecats/forge","updated_at":"2026-01-06T01:15:21.140314012-06:00","closed_at":"2026-01-06T01:15:21.140314012-06:00","close_reason":"Acknowledged - stale session events","event_kind":"session.ended","actor":"copperhead/polecats/forge","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T16:30:29-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-forge\",\"worker\":\"forge\"}"}
{"id":"co-6b8","title":"Session ended: gt-copperhead-nux","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-08T02:15:24.613393779-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-02-10T20:52:17.737859398-06:00","closed_at":"2026-02-10T20:52:17.737859398-06:00","close_reason":"Stale events/merge requests - cleanup"}
{"id":"co-6co","title":"Digest: mol-deacon-patrol","description":"Patrol 10: all healthy, copperhead refinery has stale MR mail","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T03:00:27.815958819-06:00","updated_at":"2026-01-08T19:31:31.282837948-06:00","closed_at":"2026-01-07T03:00:27.815817743-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-6eqq","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:35:45.592386855-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:08.914389148-06:00","closed_at":"2026-01-12T03:09:08.914389148-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:35:45-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-6f8v","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:15:22.427776338-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.3328791-06:00","closed_at":"2026-01-12T03:09:07.3328791-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:15:22-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-6fo","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-05T04:27:48.334986128-06:00","created_by":"kaos","updated_at":"2026-01-05T04:27:48.334986128-06:00"}
{"id":"co-6g6x","title":"Merge: capable-mkeldu1t","description":"branch: polecat/capable-mkeldu1t\ntarget: main\nsource_issue: capable-mkeldu1t\nrig: copperhead\nagent_bead: co-copperhead-polecat-capable\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-16T03:42:15.746357152-06:00","created_by":"copperhead/polecats/capable","updated_at":"2026-01-16T03:44:11.287740059-06:00","closed_at":"2026-01-16T03:44:11.287740059-06:00","close_reason":"Merged to main"}
{"id":"co-6ge","title":"Assessment UI - Corporate Background \u0026 Issues","description":"Create UI section for Corporate Background matching template:\n- Company name, nature of business\n- 3 Issues table with columns: Issue, Impact (1-10 scale), Urgency (1-10 scale)\n- Issues identified during discovery/assessment\n- Summary view showing top concerns","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:06:46.278976299-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.158651749-06:00","closed_at":"2026-01-05T03:13:01.512264142-06:00","close_reason":"Implemented navigation, dashboard, and basic assessment editor with corporate background, technical POC, and location inventory sections","dependencies":[{"issue_id":"co-6ge","depends_on_id":"co-2db","type":"blocks","created_at":"2026-01-05T03:07:51.911383714-06:00","created_by":"mayor"},{"issue_id":"co-6ge","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:10.948465931-06:00","created_by":"mayor"}]}
{"id":"co-6h6u","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:17:43.270785949-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.008068502-06:00","closed_at":"2026-01-12T03:09:08.008068502-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:17:43-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-6ij","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T23:27:10.460094066-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.851012903-06:00","closed_at":"2026-01-12T03:09:09.851012903-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T23:27:10-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-6il3","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:30:41.772610326-06:00","created_by":"mayor","updated_at":"2026-01-12T18:50:01.344346894-06:00","closed_at":"2026-01-12T18:50:01.344346894-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:30:41-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-6ka","title":"Cost Item AI Search Service (OpenAI Embeddings)","description":"## Overview\nImplement AI-powered cost item search using OpenAI embeddings for natural language matching.\n\n## Requirements\n- Generate embeddings for cost items using text-embedding-3-small\n- Store embeddings in pgvector column\n- Search by semantic similarity\n- Fallback to text search if pgvector unavailable\n- Context boosting (area type, category, recent usage)\n- Record search selections for learning\n- Handle new item requests when no match found\n\n## Key Files\n- apps/api/src/services/ai/costItemSearch.service.js (CREATE)\n- apps/api/src/routes/ai.routes.js (MODIFY)\n\n## API Endpoints\nPOST /api/ai/cost-item-search        - Search cost items by natural language\nPOST /api/ai/cost-item-search/select - Record selection for learning\nPOST /api/ai/new-cost-item-request   - Request new item when not found\n\n## Dependencies\n- OpenAI API key configured\n- pgvector extension (optional, graceful fallback)\n- co-np5 (Cost Item CRUD Service)\n\n## Acceptance Criteria\n- Natural language queries return relevant results\n- 'half inch bbc elbow' matches appropriate cost item\n- Top results ranked by relevance\n- Selection tracking improves future results","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/furiosa","created_at":"2026-01-06T01:04:28.978794413-06:00","created_by":"mayor","updated_at":"2026-01-08T02:32:36.379517921-06:00","closed_at":"2026-01-08T02:32:36.379517921-06:00","close_reason":"Closed","labels":["ai","backend","feature"],"dependencies":[{"issue_id":"co-6ka","depends_on_id":"co-np5","type":"blocks","created_at":"2026-01-06T01:04:28.987014521-06:00","created_by":"mayor"}]}
{"id":"co-6mmsf","title":"PeekPanel 3.6: Retrofit WorkTemplatesPage with PeekPanel","description":"attached_molecule: co-wisp-18h68\nattached_at: 2026-02-12T08:17:49Z\ndispatched_by: mayor\n\nFile: pages/dispatch/WorkTemplatesPage.jsx\nCurrent: Split view with tabs, RSB for libraries\nChange: Template comparison modal → PeekPanel with contextType=\"comparison\" (center default)\n- Template detail: peekType=\"template-detail\", contextType=\"list\"\n- Template comparison: peekType=\"template-compare\", contextType=\"comparison\" (center)\n- Line item cross-reference peek when viewing linked items\n- Import PeekPanel from components/panels\n- PeekPanelProvider already in MainLayout (PR #218)\n\n## Testing\n- Click template → side peek opens with template details\n- Compare templates → center panel opens with side-by-side\n- Position switcher works\n- Existing tab navigation preserved\n- No regressions","notes":"Implemented PeekPanel retrofit for WorkTemplatesPage: template detail opens in side peek, comparison opens in center peek. Removed RSB. Added embedded mode to TemplateComparisonView. Registered with PeekPanelContext for keyboard shortcuts.","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/quartz","created_at":"2026-02-12T02:16:53.233075663-06:00","created_by":"mayor","updated_at":"2026-02-12T02:29:28.350002834-06:00","closed_at":"2026-02-12T02:29:28.350002834-06:00","close_reason":"Completed — merged via PR #224","dependencies":[{"issue_id":"co-6mmsf","depends_on_id":"co-wisp-18h68","type":"blocks","created_at":"2026-02-12T02:17:44.965890078-06:00","created_by":"mayor"}]}
{"id":"co-6ntx","title":"Estimate Editor: Left Navigation Framework","description":"attached_molecule: co-wisp-8e1\nattached_at: 2026-01-24T20:58:14Z\ndispatched_by: mayor\n\nCreate the left navigation framework for the estimate editor.\n\n**Components to create:**\n- EstimateLeftNav.jsx - Collapsible left nav component\n- EstimateNavContext.jsx - Navigation state management\n- Modify AreaBasedEstimateEditor.jsx to wrap with new layout\n\n**Features:**\n- Nav items: Summary | Review | Editor\n- Auto-collapse on mobile/tablet (responsive)\n- Active state highlighting\n- Hamburger menu on small screens\n\n**Files:**\n- apps/web/src/components/salesops/EstimateLeftNav.jsx (new)\n- apps/web/src/contexts/EstimateNavContext.jsx (new)\n- apps/web/src/components/salesops/AreaBasedEstimateEditor.jsx (modify)\n\n**Reference:** See plan at ~/.claude/plans/flickering-meandering-beaver.md","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/jasper","created_at":"2026-01-24T11:40:00.698074469-06:00","created_by":"mayor","updated_at":"2026-01-24T15:04:03.331439663-06:00","closed_at":"2026-01-24T15:04:03.331439663-06:00","close_reason":"Closed","labels":["estimate-editor","navigation","ui"]}
{"id":"co-6o2a","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:07:15.390649427-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.357079631-06:00","closed_at":"2026-01-12T03:09:07.357079631-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:07:15-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-6qh1","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:42:36.664718609-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.806344953-06:00","closed_at":"2026-01-12T03:09:07.806344953-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:42:36-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-6r1d1","title":"Merge: co-0p2wu","description":"branch: polecat/obsidian/co-0p2wu@mku28lfx\ntarget: main\nsource_issue: co-0p2wu\nrig: copperhead\nworker: obsidian","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-25T12:49:46.458848848-06:00","created_by":"mayor","updated_at":"2026-01-25T12:51:15.246825835-06:00","closed_at":"2026-01-25T12:51:15.246829104-06:00"}
{"id":"co-6sbb","title":"Merge: splendid-mkbtq1cs","description":"branch: polecat/splendid-mkbtq1cs\ntarget: main\nsource_issue: splendid-mkbtq1cs\nrig: copperhead\nagent_bead: co-copperhead-polecat-splendid\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-15T05:20:31.130536594-06:00","created_by":"copperhead/witness","updated_at":"2026-01-15T05:24:40.427505059-06:00","closed_at":"2026-01-15T05:24:40.427505059-06:00","close_reason":"Merged to main"}
{"id":"co-6sqa","title":"Session ended: gt-copperhead-nightrider","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T01:56:52.078075392-06:00","created_by":"copperhead/polecats/nightrider","updated_at":"2026-01-22T22:38:14.377514056-06:00","closed_at":"2026-01-22T22:38:14.377514056-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/nightrider","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T01:56:51-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-nightrider\",\"worker\":\"nightrider\"}"}
{"id":"co-6tva","title":"Merge: nightrider-mkgkv7oz","description":"branch: polecat/nightrider-mkgkv7oz\ntarget: main\nsource_issue: nightrider-mkgkv7oz\nrig: copperhead\nagent_bead: co-copperhead-polecat-nightrider\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-16T01:56:30.161023939-06:00","created_by":"copperhead/polecats/nightrider","updated_at":"2026-01-16T01:59:01.721524204-06:00","closed_at":"2026-01-16T01:59:01.721524204-06:00","close_reason":"Merged to main"}
{"id":"co-6u0o","title":"Session ended: gt-copperhead-organic","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:10:17.624522539-06:00","created_by":"copperhead/polecats/organic","updated_at":"2026-01-12T17:27:21.172674752-06:00","closed_at":"2026-01-12T17:27:21.172674752-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"copperhead/polecats/organic","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:10:17-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-organic\",\"worker\":\"organic\"}"}
{"id":"co-6u1m","title":"Run tests and create tests for new EST-WO services","description":"dispatched_by: mayor\n\n1. Create test files for the new services:\n   - installTimeAI.service.test.js\n   - crewSizing.service.test.js  \n   - phaseAssignment.service.test.js\n\n2. Run the full test suite: cd apps/api \u0026\u0026 npm test\n\n3. Fix any failing tests\n\n4. Report results summary\n\nReference existing test patterns in apps/api/src/services/__tests__/","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/crew/testing","created_at":"2026-01-23T23:31:22.461379422-06:00","created_by":"mayor","updated_at":"2026-01-23T23:43:42.229422113-06:00","closed_at":"2026-01-23T23:43:42.229422113-06:00","close_reason":"Created comprehensive test suites for 3 new EST-WO services:\n\ncrewSizing.service.test.js (28 tests): getWorkDays, addWorkDays, calculateCrewOptions, calculateProjectCrewOptions\ninstallTimeAI.service.test.js (17 tests): suggestInstallTime, bulkSuggestInstallTimes, learnFromJobHistory, resolveInstallTime\nphaseAssignment.service.test.js (23 tests): rankTechnicians, getAvailableTechnicians, autoAssignProjectPhases, saveCrewAssignments\n\nAll 68 new tests pass. Used mocking for DB-dependent tests, local date helpers for timezone safety.","labels":["est-wo","testing"]}
{"id":"co-6us","title":"Add compliance requirements section to intake form","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-05T01:58:59.497995061-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.170404356-06:00","closed_at":"2026-01-05T02:14:07.493528382-06:00","close_reason":"Added compliance requirements section with HIPAA, PCI-DSS, SOC2, CMMC, NIST, GDPR, CCPA, FERPA checkboxes, cyber insurance dropdown, and compliance notes field"}
{"id":"co-6vyi","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:17:13.299926923-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:15.948288001-06:00","closed_at":"2026-01-22T22:38:15.948288001-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:17:13-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-6w9","title":"Merge: furiosa-mk98h9av","description":"branch: polecat/furiosa-mk98h9av\ntarget: main\nsource_issue: furiosa-mk98h9av\nrig: copperhead\nagent_bead: co-copperhead-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-10T22:35:15.912505796-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-10T22:49:12.303723692-06:00","closed_at":"2026-01-10T22:49:12.303723692-06:00","close_reason":"Merged to main at 1662c5b8"}
{"id":"co-6zd","title":"QA: S4 Customer Approval Portal - E2E Testing","description":"## Objective\nVerify S4 EstimateApprovalPage.jsx works end-to-end.\n\n## Test Scenarios\n1. Load page with valid tracking token\n2. Verify company branding displays (logo, colors)\n3. Test estimate line items display correctly\n4. Verify terms and conditions display\n5. Test signature capture pad functionality\n6. Test Accept flow with signature\n7. Test Decline flow with signature\n8. Test Request Changes flow with comments\n9. Verify status updates propagate to backend\n10. Test invalid/expired token handling\n11. Test mobile responsiveness\n\n## Files to Test\n- apps/web/src/pages/public/EstimateApprovalPage.jsx\n- apps/api/src/services/publicEstimate.service.js\n- Related API endpoints\n\n## Deliverables\n- Unit tests if missing\n- E2E test coverage\n- Bug report for any issues found","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/slit","created_at":"2026-01-10T22:27:57.778149348-06:00","created_by":"mayor","updated_at":"2026-01-10T22:36:38.629548676-06:00","closed_at":"2026-01-10T22:36:38.629548676-06:00","close_reason":"Completed S4 Estimate Approval Portal E2E testing: 40+ unit tests, 12 E2E scenarios, QA report with 4 bugs documented"}
{"id":"co-712","title":"PLAN-002 Phase 3: Area Organization + WO Conversion","description":"AreaManager integration, area subtotals, ConvertToWorkOrderPage using cost_item_products","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T01:23:57.09984441-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.997991502-06:00","closed_at":"2026-01-07T09:46:53.026210685-06:00","close_reason":"PLAN-002 Phase 3 completed: Area assignment in QuoteLineItem, AreaSummary cost_item display, expand-products endpoint for WO conversion","dependencies":[{"issue_id":"co-712","depends_on_id":"co-9qy","type":"blocks","created_at":"2026-01-07T01:25:15.565013429-06:00","created_by":"mayor"}]}
{"id":"co-7191","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:40:38.476115733-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:08.885405035-06:00","closed_at":"2026-01-12T03:09:08.885405035-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:40:38-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-719q","title":"Session ended: gt-copperhead-scrotus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:49:37.359583139-06:00","created_by":"copperhead/polecats/scrotus","updated_at":"2026-01-12T17:55:57.864274807-06:00","closed_at":"2026-01-12T17:55:57.864281403-06:00","event_kind":"session.ended","actor":"copperhead/polecats/scrotus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:49:37-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-scrotus\",\"worker\":\"scrotus\"}"}
{"id":"co-72j","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T16:32:09.487322072-06:00","created_by":"mayor","updated_at":"2026-01-06T01:15:21.157258308-06:00","closed_at":"2026-01-06T01:15:21.157258308-06:00","close_reason":"Acknowledged - stale session events","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T16:32:08-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-77xe","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:26:21.047467831-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.961373062-06:00","closed_at":"2026-01-12T03:09:08.961373062-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:26:20-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-782","title":"AI: Procurement Invoice OCR \u0026 Inventory","description":"AI-powered invoice processing with OCR and inventory management.\n\n## Features: invoice_ocr, invoice_processing, inventory_matching, po_reconciliation, cost_averaging\n\n## Workflow\n\n### 1. Invoice OCR (invoice_ocr)\n- Upload scanned invoice image/PDF\n- Claude Vision extracts:\n  - Vendor name and info\n  - Invoice number and date\n  - Line items (description, qty, unit price, total)\n  - Tax, shipping, total\n- Returns structured JSON\n\n### 2. Invoice Processing (invoice_processing)\n- Parse OCR output into inventory transactions\n- Validate totals match\n- Flag discrepancies for review\n\n### 3. Inventory Matching (inventory_matching)\n- Match invoice line items to existing inventory SKUs\n- Fuzzy matching for vendor part numbers\n- Suggest new SKU creation for unknown items\n- Handle unit of measure conversions\n\n### 4. PO Reconciliation (po_reconciliation)\n- Match invoice to open purchase orders\n- Flag quantity/price discrepancies\n- Support partial receipts\n- Track backorders\n\n### 5. Cost Averaging (cost_averaging)\n- Calculate weighted average cost:\n  existing_qty * existing_cost + new_qty * new_cost / total_qty\n- Update inventory item cost\n- Track cost history for reporting\n\n## API\n- POST /api/ai/invoice-ocr - Upload and extract invoice\n- POST /api/ai/match-invoice-items - Match to inventory\n- POST /api/ai/reconcile-po - Match to PO\n- GET /api/inventory/:id/cost-history - View cost changes\n\n## Reports\n- When was item X last received?\n- What was the price history?\n- Average cost over time\n- Vendor price comparison\n\n## Token Usage\n- Invoice OCR uses Claude Vision: ~10-20K tokens per image\n- Pro plan has 2M tokens/month to accommodate","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T01:20:55.815681085-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.729372224-06:00","closed_at":"2026-01-08T01:59:16.614918059-06:00","close_reason":"Moved to co-qdo"}
{"id":"co-797","title":"Merge: slit-mk353bw8","description":"branch: polecat/slit-mk353bw8\ntarget: main\nsource_issue: slit-mk353bw8\nrig: copperhead\nagent_bead: co-copperhead-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-06T16:16:14.55770273-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-08T19:31:31.015446254-06:00","closed_at":"2026-01-06T16:33:41.816406748-06:00","close_reason":"stale: branch polecat/slit-mk353bw8 does not exist"}
{"id":"co-79c5","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:22:34.89440704-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:28:10.252638786-06:00","closed_at":"2026-01-22T22:28:10.252638786-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:22:34-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-79iv","title":"Merge: slit-fresh","description":"branch: polecat/slit-fresh-1768138914\ntarget: main\nsource_issue: slit-fresh\nrig: copperhead\nagent_bead: co-copperhead-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-11T07:42:07.831355036-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-11T15:03:14.188289691-06:00","closed_at":"2026-01-11T15:03:14.188289691-06:00","close_reason":"Work already merged to main"}
{"id":"co-7a6z","title":"Phase 2: Create installTimeAI.service.js","description":"dispatched_by: mayor\n\nCreate AI-assisted install time suggestion service:\n\n- suggestInstallTime(item) - single item AI suggestion via Claude\n- bulkSuggestInstallTimes(items) - batch processing by category\n- learnFromJobHistory(tenantId, itemId) - historical data learning (5+ jobs threshold)\n- resolveInstallTime(item, category, tenantId) - resolution chain: tenant override → historical → category default → AI\n\nAlso add inventory routes:\n- POST /api/inventory/items/:id/suggest-install-time\n- POST /api/inventory/items/bulk-suggest-times\n- PATCH /api/inventory/items/:id/install-time\n\nFull implementation in docs/plans/EST-WO-implementation-plan.md lines 286-525","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/crew/phase2","created_at":"2026-01-23T22:27:38.243412388-06:00","created_by":"mayor","updated_at":"2026-01-23T22:55:39.132587273-06:00","closed_at":"2026-01-23T22:55:39.132587273-06:00","close_reason":"Created installTimeAI.service.js with suggestInstallTime, bulkSuggestInstallTimes, learnFromJobHistory, and resolveInstallTime. Added routes: POST /api/inventory/items/:id/suggest-install-time, POST /api/inventory/items/bulk-suggest-times, PATCH /api/inventory/items/:id/install-time, GET /api/inventory/items/:id/install-time-history","labels":["est-wo","service"],"dependencies":[{"issue_id":"co-7a6z","depends_on_id":"co-uqwd","type":"blocks","created_at":"2026-01-23T22:27:38.249370886-06:00","created_by":"mayor"}]}
{"id":"co-7d24b","title":"PeekPanel 3.5: Retrofit EstimateEditor lookups with PeekPanel","description":"attached_molecule: co-wisp-4a7ty\nattached_at: 2026-02-12T08:03:41Z\ndispatched_by: mayor\n\nFile: components/salesops/AreaBasedEstimateEditor.jsx\nCurrent: Uses LookupSlidePanel for customer/inventory lookups\nChange: Wrap lookup content in PeekPanel for position flexibility\n- Customer info peek from header: peekType=\"estimate-customer\", contextType=\"form\"\n- Material availability peek from BOM view\n- DO NOT break existing LookupSlidePanel — wrap it, don't replace it\n\n## Testing\n- Estimate editor still works normally\n- Customer lookup opens in peek panel\n- Position switcher works\n- Existing slide panel behavior preserved where PeekPanel not applied\n- No regressions","notes":"Implemented: Added PeekPanel integration to AreaBasedEstimateEditor. Customer info peek from header (Eye/Peek button next to Edit Customer), material availability peek from BOM view (Eye icon on each BOM item). Uses usePeekPanel hook with localStorage position persistence, registers with PeekPanelContext for Ctrl+Shift+P cycling. Existing LookupSlidePanel preserved — PeekPanel wraps, doesn't replace. Build passes. 3 files changed: AreaBasedEstimateEditor.jsx, EstimateAreaSection.jsx, EstimateHeader.jsx.","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/ruby","created_at":"2026-02-12T01:49:57.434866366-06:00","created_by":"mayor","updated_at":"2026-02-12T02:21:06.053617352-06:00","closed_at":"2026-02-12T02:21:06.053617352-06:00","close_reason":"Completed — merged via PR #221","dependencies":[{"issue_id":"co-7d24b","depends_on_id":"co-wisp-4a7ty","type":"blocks","created_at":"2026-02-12T02:03:36.702153598-06:00","created_by":"mayor"}]}
{"id":"co-7db","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T22:08:15.474671062-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.953470529-06:00","closed_at":"2026-01-12T03:09:09.953470529-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T22:08:15-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-7ly","title":"PLAN-002 Phase 4: AI-Assisted Features","description":"Phase 4 of PLAN-002:\n\n14. Implement /api/estimates/:id/ai-suggest endpoint\n    - Rule-based initially (if panel upgrade, suggest ground rod)\n    - Use cost_item_aliases for natural language matching\n15. Show suggestions panel in estimate editor\n16. One-click add suggested items\n\nSee: docs/plans/PLAN-002-cost-items-estimate-integration.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T12:42:39.696273584-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.5319591-06:00","closed_at":"2026-01-07T12:50:45.570384781-06:00","close_reason":"PLAN-002 Phase 4 completed: AI suggestions with rule-based logic, SuggestionPanel, QuoteEditorPage integration"}
{"id":"co-7ma","title":"Assessment UI - Managed Support Grid (3x3)","description":"Create Managed Support assessment grid matching template (3x3 format):\nRow 1: Onsite Support | Help Desk | Monitoring\nRow 2: Inventory Mgmt | Updates/Patching | vCIO Services\nRow 3: Maintenance | MDM | Vendor Management\n\nEach cell has:\n- Current state (dropdown: None/Basic/Standard/Advanced)\n- Notes field\n- Recommendation checkbox\n- Color coding based on state","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:07:10.73294166-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.190129151-06:00","closed_at":"2026-01-05T03:15:48.142414255-06:00","close_reason":"Implemented all assessment grids (3x3 format with state dropdowns, notes, recommend checkboxes) and connectivity/LOB tables","dependencies":[{"issue_id":"co-7ma","depends_on_id":"co-2db","type":"blocks","created_at":"2026-01-05T03:07:54.458379931-06:00","created_by":"mayor"},{"issue_id":"co-7ma","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:13.288952207-06:00","created_by":"mayor"}]}
{"id":"co-7n4p","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T01:19:59.007761976-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.176688482-06:00","closed_at":"2026-01-12T03:09:07.176688482-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T01:19:58-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-7odb","title":"Merge: dag-mkauqn8d","description":"branch: polecat/dag-mkauqn8d\ntarget: main\nsource_issue: dag-mkauqn8d\nrig: copperhead\nagent_bead: co-copperhead-polecat-dag\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-12T01:44:35.233089542-06:00","created_by":"copperhead/polecats/dag","updated_at":"2026-01-12T05:47:25.382907357-06:00","closed_at":"2026-01-12T05:47:25.382907357-06:00","close_reason":"Already merged to main (864e54f6)"}
{"id":"co-7ose2","title":"Estimate conversion to WO fails: chk_work_order_status constraint violation","description":"## Bug Report\n\n**Estimate:** Lakeside Restaurant and Bar\n\n**Error:**\n```\nnew row for relation \"work_orders\" violates check constraint \"chk_work_order_status\"\n```\n\n## Steps to Reproduce\n1. Open estimate for Lakeside Restaurant and Bar\n2. Click Convert to Work Order\n3. Error appears on submission\n\n## Expected Behavior\nEstimate should convert to a work order with valid initial status.\n\n## Root Cause (Likely)\nThe conversion is setting an invalid status value that doesn't match the allowed values in the `chk_work_order_status` check constraint.\n\n## Investigation Needed\n1. Check `chk_work_order_status` constraint definition in migrations\n2. Find what status value the conversion code is setting\n3. Align conversion code with allowed status values\n\n## Files to Check\n- `apps/api/src/routes/estimates.routes.js` or `crm.routes.js` - conversion endpoint\n- `apps/api/migrations/` - check constraint definition\n- `apps/web/src/pages/salesops/ConvertToWorkOrderPage.jsx` - frontend form","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-24T16:49:11.625771623-06:00","created_by":"mayor","updated_at":"2026-01-24T16:52:23.716453331-06:00","closed_at":"2026-01-24T16:52:23.716453331-06:00","close_reason":"Closed"}
{"id":"co-7sc1j","title":"Inventory/Procurement/Warehouse ↔ Work Orders Integration","description":"## Overview\nComplete integration between inventory/procurement systems and work order lifecycle.\n\n## User Needs (from handoff)\n1. **Backorder alerts** - Notify estimate makers when parts will be backordered\n2. **Department notifications** - Alert procurement/warehouse when orders need attention  \n3. **Scheduling integration** - Proper scheduling once parts arrival dates are known\n4. **Procurement workflow** - Full flow from estimate to PO to receiving to WO assignment\n\n## Current State\n- Work order ↔ parts junction exists (work_order_parts table)\n- Procurement workflow service exists (procurementWorkflow.service.js)\n- Event/notification infrastructure in place (DEI events, BullMQ queues)\n- parts_status field on work orders (not_required/pending/partial/ready)\n\n## Gap Analysis\n- Missing: Backorder detection when creating estimates\n- Missing: Notifications to procurement/warehouse departments\n- Missing: ETA tracking for parts and scheduling integration\n- Missing: UI for procurement → WO allocation visibility","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-27T14:26:00.79834048-06:00","created_by":"mayor","updated_at":"2026-01-27T21:32:27.668638554-06:00","closed_at":"2026-01-27T21:32:27.668638554-06:00","close_reason":"Covered by co-vx7dx and co-7sc1j.4 (both completed)"}
{"id":"co-7sc1j.1","title":"Backorder alerts for estimate makers","description":"## Goal\nNotify estimate makers when parts they need will be backordered.\n\n## Requirements\n- When creating/updating an estimate BOM, check inventory availability\n- If any item has insufficient stock and no pending PO, flag as potential backorder\n- Show backorder warning in estimate UI before conversion to WO\n- Emit notification to estimate creator with affected items list\n- Include expected restock dates if available from pending POs\n\n## Technical Approach\n1. Add availability check to estimate BOM validation\n2. Create `checkBackorderStatus(bomItems)` service function\n3. Add DEI event: `ESTIMATE_BACKORDER_WARNING`\n4. Create notification handler for estimate makers\n5. Add backorder indicator to estimate line items UI\n\n## Files Likely Affected\n- apps/api/src/services/estimate.service.js\n- apps/api/src/services/inventory.service.js (availability check)\n- apps/api/src/dei/events.js (new event)\n- apps/web/src/components/estimates/* (UI indicators)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-27T14:26:38.340189634-06:00","created_by":"mayor","updated_at":"2026-01-27T21:32:29.320800701-06:00","closed_at":"2026-01-27T21:32:29.320800701-06:00","close_reason":"Covered by co-mhkh2 (detection) and co-w00qa (notification)","dependencies":[{"issue_id":"co-7sc1j.1","depends_on_id":"co-7sc1j","type":"parent-child","created_at":"2026-01-27T14:26:38.3430974-06:00","created_by":"mayor"}]}
{"id":"co-7sc1j.2","title":"Department notifications for procurement/warehouse","description":"## Goal\nAlert procurement and warehouse departments when orders need their attention.\n\n## Requirements\n- Notify procurement when:\n  - Material request created with HIGH/URGENT urgency\n  - PO needs approval\n  - PO received (partial or full)\n  - Vendor shipment tracking updated\n- Notify warehouse when:\n  - Items ready for picking (work_order_parts status = reserved → ready to pick)\n  - PO received and needs putaway\n  - Cycle count discrepancy detected\n  - Low stock alert for reorder items\n\n## Technical Approach\n1. Create department notification targets (procurement@, warehouse@)\n2. Add notification preferences by department/role\n3. Extend existing DEI events with department routing\n4. Create notification digest for batch alerts (don't spam)\n5. Add notification center UI for department views\n\n## Files Likely Affected\n- apps/api/src/services/notifications/service.js\n- apps/api/src/dei/handlers/procurement.handler.js (new)\n- apps/api/src/dei/handlers/warehouse.handler.js (new)\n- Database: notification_preferences table","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-27T14:26:38.692578472-06:00","created_by":"mayor","updated_at":"2026-01-27T21:32:31.232837368-06:00","closed_at":"2026-01-27T21:32:31.232837368-06:00","close_reason":"Covered by co-xdjix (routing) and co-a9u1v (notification center)","dependencies":[{"issue_id":"co-7sc1j.2","depends_on_id":"co-7sc1j","type":"parent-child","created_at":"2026-01-27T14:26:38.693951167-06:00","created_by":"mayor"}]}
{"id":"co-7sc1j.3","title":"Scheduling integration with parts availability","description":"## Goal\nEnable proper work order scheduling based on parts arrival dates.\n\n## Requirements\n- Track expected arrival date for each work_order_part\n- Show parts ETA in scheduling UI\n- Prevent scheduling before parts_status = ready (or allow override with warning)\n- Auto-suggest earliest schedulable date based on parts ETAs\n- Update WO parts_status automatically when PO items received\n\n## Technical Approach\n1. Add `expected_arrival_date` to work_order_parts table\n2. Create `calculateEarliestScheduleDate(workOrderId)` function\n3. Add parts availability indicator to dispatch calendar/scheduler\n4. Modify scheduling validation to check parts_status\n5. Add PO receiving → WO parts status update flow\n\n## Files Likely Affected\n- apps/api/migrations/XXX_work_order_parts_eta.sql\n- apps/api/src/services/scheduling.service.js\n- apps/api/src/services/procurementWorkflow.service.js\n- apps/web/src/components/dispatch/ScheduleCalendar.js (or similar)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-27T14:26:39.048977926-06:00","created_by":"mayor","updated_at":"2026-01-27T21:32:32.774273767-06:00","closed_at":"2026-01-27T21:32:32.774273767-06:00","close_reason":"Covered by co-3ajwl (scheduling UI with parts status)","dependencies":[{"issue_id":"co-7sc1j.3","depends_on_id":"co-7sc1j","type":"parent-child","created_at":"2026-01-27T14:26:39.051876109-06:00","created_by":"mayor"}]}
{"id":"co-7sc1j.4","title":"Full procurement workflow: Estimate → PO → Receiving → WO","description":"attached_molecule: co-wisp-qvbw\nattached_at: 2026-01-27T22:11:47Z\ndispatched_by: mayor\n\n## Goal\nComplete end-to-end flow from estimate creation through parts assignment to work order.\n\n## Requirements\n- Estimate BOM automatically creates material requests for unavailable items\n- Material requests consolidated into draft POs by vendor\n- PO approval workflow with notifications\n- Receiving process tracks quantities and allocates to waiting WOs\n- Dashboard showing procurement pipeline (what's pending, what's en route, what's allocated)\n\n## Technical Approach\n1. Wire estimate conversion to auto-create MRs for BOM items\n2. Add MR → draft PO consolidation job (group by vendor)\n3. Implement PO approval states with notifications\n4. Create receiving flow that updates work_order_parts\n5. Build procurement dashboard with pipeline visualization\n\n## Existing Foundation\n- procurementWorkflow.service.js has some of this\n- material_request_po_links table exists\n- PO state machine defined\n\n## Files Likely Affected\n- apps/api/src/services/procurementWorkflow.service.js (extend)\n- apps/api/src/routes/procurement.routes.js\n- apps/web/src/pages/Procurement/* (dashboard)\n- apps/api/src/jobs/consolidateMaterialRequests.job.js (new)","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/malachite","created_at":"2026-01-27T14:26:39.388508802-06:00","created_by":"mayor","updated_at":"2026-01-27T17:51:53.770645219-06:00","closed_at":"2026-01-27T17:51:53.770645219-06:00","close_reason":"implemented","dependencies":[{"issue_id":"co-7sc1j.4","depends_on_id":"co-7sc1j","type":"parent-child","created_at":"2026-01-27T14:26:39.389920316-06:00","created_by":"mayor"},{"issue_id":"co-7sc1j.4","depends_on_id":"co-wisp-uvrl","type":"blocks","created_at":"2026-01-27T16:11:45.24279004-06:00","created_by":"mayor"},{"issue_id":"co-7sc1j.4","depends_on_id":"co-wisp-n00c","type":"blocks","created_at":"2026-01-27T17:13:01.928131946-06:00","created_by":"mayor"},{"issue_id":"co-7sc1j.4","depends_on_id":"co-wisp-qvbw","type":"blocks","created_at":"2026-01-27T17:45:29.278258276-06:00","created_by":"mayor"}]}
{"id":"co-7sz4","title":"Session ended: gt-copperhead-splendid","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:03:45.169510032-06:00","created_by":"copperhead/polecats/splendid","updated_at":"2026-01-12T18:04:35.22255859-06:00","closed_at":"2026-01-12T18:04:35.22255859-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"copperhead/polecats/splendid","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:03:45-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-splendid\",\"worker\":\"splendid\"}"}
{"id":"co-7t4y","title":"Merge: furiosa-mkntd11p","description":"branch: polecat/furiosa-mkntd11p\ntarget: main\nsource_issue: furiosa-mkntd11p\nrig: copperhead\nagent_bead: co-copperhead-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","notes":"Already merged via commit 5af451c6","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-21T03:29:13.484171022-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-21T04:47:46.286062341-06:00","closed_at":"2026-01-21T04:47:46.286066952-06:00"}
{"id":"co-7tao","title":"Session ended: gt-copperhead-nightrider","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:18:27.980632147-06:00","created_by":"copperhead/polecats/nightrider","updated_at":"2026-01-22T22:28:10.570400224-06:00","closed_at":"2026-01-22T22:28:10.570400224-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/nightrider","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:18:27-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-nightrider\",\"worker\":\"nightrider\"}"}
{"id":"co-7vl","title":"Merge: nux-mk3qcsqq","description":"branch: polecat/nux-mk3qcsqq\ntarget: main\nsource_issue: nux-mk3qcsqq\nrig: copperhead\nagent_bead: co-copperhead-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-08T02:23:28.677185756-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-08T19:31:31.275746827-06:00","closed_at":"2026-01-08T19:30:17.788681596-06:00","close_reason":"Merged to main: PLAN-002 Phase 4 UI"}
{"id":"co-7w18","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-14T16:38:58.17535848-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:48.186130454-06:00","closed_at":"2026-01-22T22:38:48.186130454-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-14T16:38:58-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-7wbp","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T10:22:07.992978884-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.441501597-06:00","closed_at":"2026-01-12T03:09:08.441501597-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T10:22:07-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-7wqn","title":"Session ended: gt-copperhead-capable","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:18:09.586453333-06:00","created_by":"copperhead/polecats/capable","updated_at":"2026-01-22T22:28:10.716449396-06:00","closed_at":"2026-01-22T22:28:10.716449396-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/capable","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:18:09-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-capable\",\"worker\":\"capable\"}"}
{"id":"co-7zhw","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:44:02.749791258-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-12T03:09:09.203377674-06:00","closed_at":"2026-01-12T03:09:09.203377674-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T04:44:02-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-807","title":"Action Items System: Core implementation","description":"Implement the Action Items system per /home/kaos/Documents/action-items-system-spec.md. Non-billable internal tracking for follow-ups, requests, and tasks. Creates links to estimates, POs, clients. Used by AI estimate assistant for MISSING_PRODUCT alerts.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T19:22:22.33430707-06:00","created_by":"mayor","updated_at":"2026-01-10T19:24:56.305139355-06:00","closed_at":"2026-01-10T19:24:56.305139355-06:00","close_reason":"Already implemented - migration, service, routes all exist and are wired up"}
{"id":"co-81hn8","title":"Department notifications for procurement/warehouse","description":"attached_molecule: co-wisp-k6vi\nattached_at: 2026-01-29T07:45:36Z\ndispatched_by: mayor\n\nAlert procurement and warehouse departments when orders need attention - new POs to process, items to receive, parts ready for pickup. Use role-based notification routing.","notes":"Implemented department notifications for procurement/warehouse","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/amazonite","created_at":"2026-01-29T01:43:18.760082128-06:00","created_by":"mayor","updated_at":"2026-01-29T01:51:15.414313835-06:00","closed_at":"2026-01-29T01:51:15.41431826-06:00","dependencies":[{"issue_id":"co-81hn8","depends_on_id":"co-wisp-k6vi","type":"blocks","created_at":"2026-01-29T01:45:33.868522193-06:00","created_by":"mayor"}]}
{"id":"co-82pw","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:29:22.261371293-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.888437883-06:00","closed_at":"2026-01-12T03:09:07.888437883-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:29:22-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-82v1z","title":"Fix migrations 085/087/097 - missing inventory_categories table","description":"attached_molecule: co-wisp-oim34\nattached_at: 2026-02-01T16:49:26Z\ndispatched_by: mayor\n\nMigrations 085, 087, and 097 are skipped because they reference inventory_categories table that doesn't exist.\n\n**To fix:**\n1. Find or create the migration that should create inventory_categories\n2. Ensure it runs BEFORE 085/087/097\n3. Update migrations if needed\n4. Remove from SKIP_MIGRATIONS in migrate.js\n5. Test on staging\n\n**Files:**\n- apps/api/scripts/migrate.js (SKIP_MIGRATIONS line 58)\n- apps/api/migrations/085_*.sql\n- apps/api/migrations/087_*.sql  \n- apps/api/migrations/097_*.sql","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/garnet","created_at":"2026-02-01T10:47:35.894701575-06:00","created_by":"mayor","updated_at":"2026-02-01T10:53:44.707669272-06:00","closed_at":"2026-02-01T10:53:44.707669272-06:00","close_reason":"Enabled migrations 097/098 for inventory labor attributes. Updated installTimeAI.service.js to query category_install_defaults. Pushed to polecat/garnet/co-82v1z@ml3z6fbk. Ready for staging test.","dependencies":[{"issue_id":"co-82v1z","depends_on_id":"co-wisp-oim34","type":"blocks","created_at":"2026-02-01T10:49:20.40181147-06:00","created_by":"mayor"}]}
{"id":"co-85d","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:26:55.773776168-06:00","created_by":"mayor","updated_at":"2026-01-07T03:06:37.722942815-06:00","closed_at":"2026-01-07T03:06:37.722942815-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:26:55-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-86f4","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T10:27:41.017676354-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:08.423405482-06:00","closed_at":"2026-01-12T03:09:08.423405482-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T10:27:40-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-88zr","title":"Session ended: gt-copperhead-valkyrie","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T03:29:12.217093863-06:00","created_by":"copperhead/polecats/valkyrie","updated_at":"2026-01-22T22:38:14.227862604-06:00","closed_at":"2026-01-22T22:38:14.227862604-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/valkyrie","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T03:29:12-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-valkyrie\",\"worker\":\"valkyrie\"}"}
{"id":"co-8a3","title":"Digest: mol-deacon-patrol","description":"Patrol 2 complete: idle town, all agents healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T02:38:34.592637286-06:00","updated_at":"2026-01-08T19:31:31.185845229-06:00","closed_at":"2026-01-07T02:38:34.592514411-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-8ab","title":"SSO Phase 2: Azure AD Complete","description":"- Implement group fetching from Microsoft Graph\n- Create role mapping service (Azure groups → Field Ops roles)\n- Add admin endpoints for SSO configuration\n- Create admin UI for Azure AD setup\n- Test with real Azure AD tenant","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T03:22:43.973710042-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.214429842-06:00","closed_at":"2026-01-06T15:25:01.164037653-06:00","close_reason":"Merged PR #6","dependencies":[{"issue_id":"co-8ab","depends_on_id":"co-cvr","type":"blocks","created_at":"2026-01-06T03:22:59.235536323-06:00","created_by":"mayor"}]}
{"id":"co-8avu","title":"Merge: rictus-mkcih847","description":"branch: polecat/rictus-mkcih847\ntarget: main\nsource_issue: rictus-mkcih847\nrig: copperhead\nagent_bead: co-copperhead-polecat-rictus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-13T05:36:22.604257184-06:00","created_by":"copperhead/polecats/rictus","updated_at":"2026-01-14T00:34:38.626669016-06:00","closed_at":"2026-01-14T00:34:38.626669016-06:00","close_reason":"Merged to main"}
{"id":"co-8avw","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T23:58:26.083957459-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:15.522243901-06:00","closed_at":"2026-01-22T22:38:15.522243901-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T23:58:25-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-8bip","title":"Merge: dag-mkghholv","description":"branch: polecat/dag-mkghholv\ntarget: main\nsource_issue: dag-mkghholv\nrig: copperhead\nagent_bead: co-copperhead-polecat-dag\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-16T17:40:02.884811023-06:00","created_by":"copperhead/polecats/dag","updated_at":"2026-01-16T17:44:44.749409712-06:00","closed_at":"2026-01-16T17:44:44.749409712-06:00","close_reason":"Merged to main: AI Chat Assistant for Office Staff"}
{"id":"co-8box","title":"Epic: Comprehensive Demo Company Seed","description":"T1-CMD-10064: Create complete interconnected demo company data for all modules.\n\nSource of Truth: docs/COMPREHENSIVE-DEMO-SEED-PLAN.md\n\nFull business flow coverage:\n- Sales (Leads → Estimates)  \n- Procurement (Material Requests → POs)\n- Warehouse (Receiving → Transfers to Trucks)\n- Dispatch (Work Orders → Assignments)\n- Field (Time entries, parts consumption)\n\nTarget: 85% table coverage (currently 62%)","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-11T07:34:18.121165459-06:00","created_by":"mayor","updated_at":"2026-01-11T15:02:50.687178621-06:00","closed_at":"2026-01-11T15:02:50.687178621-06:00","close_reason":"Epic complete: All 8 children closed. Demo seed orchestrator with 15 scripts (12 working, 3 pre-existing FK issues to fix separately).","labels":["demo-seed","epic"]}
{"id":"co-8box.1","title":"Create seedLeads.js - Sales Pipeline Demo Data","description":"Create new seed script for sales pipeline demo data.\n\nTables to seed:\n- leads (5-10 leads across pipeline stages)\n- lead_sources (web, referral, cold_call)\n- lead_activities (calls, emails, meetings)\n- pipeline_stages (new, qualified, proposal, negotiation, won, lost)\n\nSample data:\n- Tech Startup Office Build (won, $45k)\n- Restaurant Renovation (qualified, $28k)\n- Medical Clinic Upgrade (proposal, $67k)\n\nAgent: fullstack\nReference: docs/COMPREHENSIVE-DEMO-SEED-PLAN.md Section 5.1","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/dementus","created_at":"2026-01-11T07:34:31.410033118-06:00","created_by":"mayor","updated_at":"2026-01-11T07:40:44.213763543-06:00","closed_at":"2026-01-11T07:40:44.213763543-06:00","close_reason":"Created seedLeads.js with pipeline stages, lead sources, 8 leads, and 20+ activities. Added npm script 'seed:leads' to package.json.","labels":["fullstack","seed"],"dependencies":[{"issue_id":"co-8box.1","depends_on_id":"co-8box","type":"parent-child","created_at":"2026-01-11T07:34:31.412472776-06:00","created_by":"mayor"}]}
{"id":"co-8box.2","title":"Create seedSkills.js - Technician Skills Matrix","description":"Create new seed script for technician skills.\n\nTables to seed:\n- skills (7 skill definitions)\n- technician_skills (assignments to techs)\n\nSkills:\n- ELEC-RES: Residential Electrical\n- ELEC-COM: Commercial Electrical  \n- ELEC-IND: Industrial Electrical\n- PANEL: Panel Upgrades\n- EV-CHARGER: EV Charger Installation\n- SOLAR: Solar Systems\n- LOW-VOLT: Low Voltage/Data\n\nAssign to existing technicians from seedDevAccounts.\n\nAgent: fullstack\nReference: docs/COMPREHENSIVE-DEMO-SEED-PLAN.md Section 5.2","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/furiosa","created_at":"2026-01-11T07:34:40.197038404-06:00","created_by":"mayor","updated_at":"2026-01-11T07:38:54.072809658-06:00","closed_at":"2026-01-11T07:38:54.072809658-06:00","close_reason":"Created seedSkills.js with 7 skill definitions and 13 technician assignments. Added npm run seed:skills script.","labels":["fullstack","seed"],"dependencies":[{"issue_id":"co-8box.2","depends_on_id":"co-8box","type":"parent-child","created_at":"2026-01-11T07:34:40.202250422-06:00","created_by":"mayor"}]}
{"id":"co-8box.3","title":"Create seedAssets.js - Company Equipment","description":"Create new seed script for company assets and equipment.\n\nTables to seed:\n- company_assets (15 items: generators, lifts, meters, tools)\n- asset_inspection_templates (Daily Equipment Check)\n- asset_inspection_runs (sample inspections)\n- asset_custody_events (assignments to techs)\n\nSample assets:\n- GEN-001: Honda EU7000is Generator\n- LIFT-001: Genie AWP-30S Lift\n- METER-001: Fluke 87V Multimeter\n- SCOPE-001: Fluke ScopeMeter 190\n- BENDER-001: Greenlee 882 Bender\n\nAgent: fullstack\nReference: docs/COMPREHENSIVE-DEMO-SEED-PLAN.md Section 5.3","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/nux","created_at":"2026-01-11T07:34:49.082692413-06:00","created_by":"mayor","updated_at":"2026-01-11T07:39:26.857013405-06:00","closed_at":"2026-01-11T07:39:26.857013405-06:00","close_reason":"Created seedAssets.js with 15 company assets, inspection template, sample inspection runs, and custody events.","labels":["fullstack","seed"],"dependencies":[{"issue_id":"co-8box.3","depends_on_id":"co-8box","type":"parent-child","created_at":"2026-01-11T07:34:49.087874117-06:00","created_by":"mayor"}]}
{"id":"co-8box.4","title":"Create seedSLA.js - Service Level Agreements","description":"Create new seed script for SLA profiles.\n\nTables to seed:\n- sla_profiles (3 profiles)\n- sla_breaches (sample breaches for reporting)\n\nSLA Profiles:\n- Standard: 48hr response, 120hr resolution\n- Priority: 24hr response, 72hr resolution  \n- Emergency: 4hr response, 24hr resolution\n\nAssign SLA profiles to customers.\n\nAgent: fullstack\nReference: docs/COMPREHENSIVE-DEMO-SEED-PLAN.md Section 5.4","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/rictus","created_at":"2026-01-11T07:34:55.999860155-06:00","created_by":"mayor","updated_at":"2026-01-11T07:38:37.200932967-06:00","closed_at":"2026-01-11T07:38:37.200932967-06:00","close_reason":"Created seedSLA.js with 3 SLA profiles and sample breaches","labels":["fullstack","seed"],"dependencies":[{"issue_id":"co-8box.4","depends_on_id":"co-8box","type":"parent-child","created_at":"2026-01-11T07:34:56.00495682-06:00","created_by":"mayor"}]}
{"id":"co-8box.5","title":"Enhance seedCostItems.js - Add Labor Codes LAB1-LAB4","description":"Add labor codes and difficulty multipliers to existing seedCostItems.js.\n\nNew cost items to add:\n- LAB1: Apprentice Labor ($45/hr, cost $25)\n- LAB2: Journeyman Labor ($85/hr, cost $45)\n- LAB3: Master Electrician ($125/hr, cost $65)\n- LAB4: Emergency/OT Labor ($175/hr, cost $95)\n\nDifficulty multipliers:\n- DIFF-STD: Standard (1.0x)\n- DIFF-MOD: Moderate (1.25x)\n- DIFF-HIGH: High (1.5x)\n- DIFF-EXT: Extreme (2.0x)\n\nThese are CRITICAL for estimate calculations.\n\nAgent: fullstack\nReference: docs/COMPREHENSIVE-DEMO-SEED-PLAN.md Section 5.5","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/capable","created_at":"2026-01-11T07:35:05.775724725-06:00","created_by":"mayor","updated_at":"2026-01-11T07:38:25.689125864-06:00","closed_at":"2026-01-11T07:38:25.689125864-06:00","close_reason":"Added LAB1-LAB4 labor codes and DIFF-STD/MOD/HIGH/EXT difficulty multipliers to cost-items-seed.json. Commit a0cfbf99.","labels":["fullstack","seed"],"dependencies":[{"issue_id":"co-8box.5","depends_on_id":"co-8box","type":"parent-child","created_at":"2026-01-11T07:35:05.784517257-06:00","created_by":"mayor"}]}
{"id":"co-8box.6","title":"Enhance seedComprehensiveDemo.js - Add WO Tasks and Parts","description":"Enhance existing seedComprehensiveDemo.js to add:\n\n1. Work order tasks with task_steps\n   - Each WO should have 3-5 tasks\n   - Tasks have completion status\n   \n2. BOM/Parts checklists  \n   - task_parts associations\n   - work_order_parts with quantities\n   \n3. Time entries\n   - Clock in/out records for each WO\n   - GPS coordinates\n   \n4. Safety checklist submissions\n   - Pre-work safety checks\n\nThis makes work orders fully populated for demo.\n\nAgent: fullstack\nReference: docs/COMPREHENSIVE-DEMO-SEED-PLAN.md","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/slit","created_at":"2026-01-11T07:35:14.194045514-06:00","created_by":"mayor","updated_at":"2026-01-11T07:39:28.027784436-06:00","closed_at":"2026-01-11T07:39:28.027784436-06:00","close_reason":"Enhanced seedComprehensiveDemo.js with: work order tasks (3-5 per WO), BOM parts, time entries with GPS, safety checklist submissions","labels":["fullstack","seed"],"dependencies":[{"issue_id":"co-8box.6","depends_on_id":"co-8box","type":"parent-child","created_at":"2026-01-11T07:35:14.19999908-06:00","created_by":"mayor"}]}
{"id":"co-8box.7","title":"Create seed-demo-company.js - Master Orchestrator","description":"Create master seed script that orchestrates all demo seeds in correct order.\n\nExecution order:\n1. seedDemoUser.js (tenant + user)\n2. seedDevAccounts.js (dev accounts)\n3. seedCostItems.js (with LAB1-LAB4)\n4. seedMaterials.js (inventory items)\n5. seedProcurementDemo.js (vendors, POs)\n6. seedInventoryLocations.js (warehouse, trucks)\n7. seedSalesOpsDemo.js (customers, estimates)\n8. seedAreaTemplates.js (area templates)\n9. seedEstimateAreas.js (estimate areas, BOM)\n10. seedLeads.js (sales pipeline) - NEW\n11. seedComprehensiveDemo.js (work orders)\n12. seedSkills.js (technician skills) - NEW\n13. seedAssets.js (equipment) - NEW\n14. seedSLA.js (service levels) - NEW\n15. seedMobileDemo.js (transfers, photos)\n\nAdd npm script: npm run seed:demo-company\n\nAgent: fullstack\nReference: docs/COMPREHENSIVE-DEMO-SEED-PLAN.md","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/toast","created_at":"2026-01-11T07:35:26.273736621-06:00","created_by":"mayor","updated_at":"2026-01-11T07:44:31.50047819-06:00","closed_at":"2026-01-11T07:44:31.50047819-06:00","close_reason":"Created seed-demo-company.js orchestrator with npm script seed:demo-company","labels":["fullstack","seed"],"dependencies":[{"issue_id":"co-8box.7","depends_on_id":"co-8box","type":"parent-child","created_at":"2026-01-11T07:35:26.27952773-06:00","created_by":"mayor"},{"issue_id":"co-8box.7","depends_on_id":"co-8box.5","type":"blocks","created_at":"2026-01-11T07:35:44.525831798-06:00","created_by":"mayor"},{"issue_id":"co-8box.7","depends_on_id":"co-8box.1","type":"blocks","created_at":"2026-01-11T07:35:44.563223243-06:00","created_by":"mayor"},{"issue_id":"co-8box.7","depends_on_id":"co-8box.2","type":"blocks","created_at":"2026-01-11T07:35:44.595252826-06:00","created_by":"mayor"},{"issue_id":"co-8box.7","depends_on_id":"co-8box.3","type":"blocks","created_at":"2026-01-11T07:35:44.632575403-06:00","created_by":"mayor"},{"issue_id":"co-8box.7","depends_on_id":"co-8box.4","type":"blocks","created_at":"2026-01-11T07:35:44.665455433-06:00","created_by":"mayor"},{"issue_id":"co-8box.7","depends_on_id":"co-8box.6","type":"blocks","created_at":"2026-01-11T07:35:44.703360734-06:00","created_by":"mayor"}]}
{"id":"co-8box.8","title":"Test Demo Company Seed - Full Validation","description":"Run complete demo seed and validate all screens.\n\nValidation checklist:\n- [ ] Login as admin@fieldops.dev works\n- [ ] Sales Dashboard shows leads and estimates\n- [ ] Estimates list shows 12+ estimates\n- [ ] Opening estimate shows areas with items\n- [ ] Procurement shows vendors and POs\n- [ ] Inventory shows items with stock\n- [ ] Warehouse shows locations with balances\n- [ ] Work Orders list shows 50+ orders\n- [ ] Opening WO shows tasks and parts\n- [ ] Technician skills are assigned\n- [ ] Assets show with custody\n- [ ] SLA profiles are applied\n- [ ] Mobile transfer flow works\n\nAgent: test\nReference: docs/COMPREHENSIVE-DEMO-SEED-PLAN.md Section 8","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T07:35:35.735838357-06:00","created_by":"mayor","updated_at":"2026-01-11T15:02:39.95172453-06:00","closed_at":"2026-01-11T15:02:39.95172453-06:00","close_reason":"Validation complete: All 5 new seed scripts passed (seedCostItems LAB1-4, seedLeads, seedSkills, seedAssets, seedSLA). 3 pre-existing scripts have FK constraint issues unrelated to this epic.","labels":["qa","test"],"dependencies":[{"issue_id":"co-8box.8","depends_on_id":"co-8box","type":"parent-child","created_at":"2026-01-11T07:35:35.740929038-06:00","created_by":"mayor"},{"issue_id":"co-8box.8","depends_on_id":"co-8box.7","type":"blocks","created_at":"2026-01-11T07:35:44.738049439-06:00","created_by":"mayor"}]}
{"id":"co-8df8","title":"Session ended: gt-copperhead-dag","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T01:44:57.108899478-06:00","created_by":"copperhead/polecats/dag","updated_at":"2026-01-12T03:09:07.128702439-06:00","closed_at":"2026-01-12T03:09:07.128702439-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/dag","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T01:44:56-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dag\",\"worker\":\"dag\"}"}
{"id":"co-8dp4","title":"Add RSB extensions to WorkTemplatesPage","description":"Add Right Sidebar extensions to the Work Templates page following the pattern used in AreaBasedEstimateEditor.\n\n## Context\n- Target: apps/web/src/pages/dispatch/WorkTemplatesPage.jsx\n- Pattern: apps/web/src/components/salesops/AreaBasedEstimateEditor.jsx (lines 505-651)\n- Context Provider: apps/web/src/context/RightSidebarContext.jsx\n\n## Suggested Extensions\n\n### 1. Template Index\n- List of all templates\n- Click to jump to template\n- Filter by category/phase\n- Icon: FileText or List\n\n### 2. Task Library\n- Common tasks to add\n- Drag to add to template\n- Recently used tasks\n- Icon: CheckCircle or ClipboardList\n\n### 3. Material Catalog\n- Materials to attach to tasks\n- Search materials\n- Frequently used materials\n- Icon: Package\n\n### 4. Usage Stats\n- Which work orders use this template\n- Completion times average\n- Success rate\n- Icon: BarChart3 or TrendingUp\n\n## Implementation Notes\n- Use existing templates and selectedTemplate state\n- Badge showing template count\n- Follow icon/badge patterns from estimate editor","status":"closed","priority":2,"issue_type":"task","assignee":"splendid","created_at":"2026-01-15T04:54:36.311296211-06:00","created_by":"mayor","updated_at":"2026-01-15T05:19:27.859333244-06:00","closed_at":"2026-01-15T05:19:27.859333244-06:00","close_reason":"Implemented RSB extensions for WorkTemplatesPage with 4 sections: Template Index, Task Library, Material Catalog, and Usage Stats"}
{"id":"co-8e8a","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:59:58.746842833-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.743660652-06:00","closed_at":"2026-01-12T03:09:07.743660652-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:59:58-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-8g1","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:28:40.089718078-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.767267866-06:00","closed_at":"2026-01-12T03:09:09.767267866-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:28:39-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-8gsf","title":"Add LAB1-LAB4 labor codes to seedCostItems.js","description":"Enhance apps/api/scripts/seedCostItems.js to add labor codes.\n\nAdd these labor codes to cost_items table:\n- LAB1: Apprentice Labor (rate: $45, cost: $25)\n- LAB2: Journeyman Labor (rate: $85, cost: $45)  \n- LAB3: Master Electrician (rate: $125, cost: $65)\n- LAB4: Emergency/OT Labor (rate: $175, cost: $95)\n\nAlso add difficulty multipliers:\n- DIFF-STD: Standard (1.0x)\n- DIFF-MOD: Moderate (1.25x)\n- DIFF-HIGH: High (1.5x)\n- DIFF-EXT: Extreme (2.0x)\n\nThese are required for estimates to calculate labor costs.\nFollow existing pattern in the seed file.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T19:41:16.328255706-06:00","created_by":"mayor","updated_at":"2026-01-12T19:43:03.805171068-06:00","closed_at":"2026-01-12T19:43:03.805171068-06:00","close_reason":"Already implemented"}
{"id":"co-8ilo","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:27:49.154270773-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.607867289-06:00","closed_at":"2026-01-12T03:09:08.607867289-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:27:48-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-8j66","title":"Merge: valkyrie-mkgj7a80","description":"branch: polecat/valkyrie-mkgj7a80\ntarget: main\nsource_issue: valkyrie-mkgj7a80\nrig: copperhead\nagent_bead: co-copperhead-polecat-valkyrie\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-16T01:10:49.268234126-06:00","created_by":"copperhead/polecats/valkyrie","updated_at":"2026-01-16T01:12:26.074878513-06:00","closed_at":"2026-01-16T01:12:26.074878513-06:00","close_reason":"Merged to main"}
{"id":"co-8kog","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:13:31.682929834-06:00","created_by":"mayor","updated_at":"2026-01-12T18:16:08.251728354-06:00","closed_at":"2026-01-12T18:16:08.251728354-06:00","close_reason":"Stale session events cleaned during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:13:31-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-8lmf","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:14:37.898856317-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:16.096228923-06:00","closed_at":"2026-01-22T22:38:16.096228923-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:14:37-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-8m16","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:13:35.871917719-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.021716571-06:00","closed_at":"2026-01-12T03:09:09.021716571-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:13:35-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-8mih","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:38:51.389177528-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.237902351-06:00","closed_at":"2026-01-12T03:09:07.237902351-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:38:51-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-8nol","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:56:30.690408896-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.762442476-06:00","closed_at":"2026-01-12T03:09:08.762442476-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:56:30-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-8oi","title":"AI: Smart Dispatch Scheduling","description":"AI-powered dispatch scheduling and optimization.\n\n## Features: smart_scheduling, schedule_optimization\n\n## Capabilities\n\n### smart_scheduling\n- Suggest optimal technician for a work order based on:\n  - Skills/certifications required\n  - Current location/route\n  - Existing schedule gaps\n  - Customer preferences\n  - Work order priority\n\n### schedule_optimization\n- Optimize daily/weekly schedule:\n  - Minimize drive time between jobs\n  - Balance workload across technicians\n  - Respect time windows and SLAs\n  - Handle multi-day jobs\n  - Account for LAB2+ crew requirements\n\n## AI Prompt Considerations\n- Include technician skill matrix\n- Consider traffic patterns by time of day\n- Factor in job duration estimates from labor hours\n- Handle emergency/urgent prioritization\n\n## API\n- POST /api/ai/suggest-technician - Best tech for a WO\n- POST /api/ai/optimize-schedule - Optimize day's schedule\n- POST /api/ai/rebalance-routes - Rebalance after changes\n\n## Data Needed\n- Technician locations (GPS)\n- Skill certifications\n- Current schedule\n- Work order requirements\n- Historical job durations","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T01:20:33.055298552-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.731185248-06:00","closed_at":"2026-01-08T01:59:17.562557853-06:00","close_reason":"Moved to co-dsd"}
{"id":"co-8qnn","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:20:03.716328465-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:15.804743049-06:00","closed_at":"2026-01-22T22:38:15.804743049-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:20:03-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-8r8","title":"Bug: S5 useEffect dependency missing searchParams","description":"## Bug Description\nIn ConvertToWorkOrderPage.jsx, the main data-fetching useEffect (line 124-126) has `[estimateId]` as its dependency array.\n\nHowever, the estimate ID can also come from URL search params (line 140):\n```js\nconst estId = estimateId || searchParams.get('estimate');\n```\n\nIf the user navigates using `?estimate=xxx` search param instead of the route param, and the search param changes, the effect will NOT re-run.\n\n## Location\napps/web/src/pages/salesops/ConvertToWorkOrderPage.jsx:124-126\n\n## Impact\nLow - Most users navigate via route params, but this could cause stale data if using search params.\n\n## Suggested Fix\nAdd `searchParams` to the dependency array:\n```js\nuseEffect(() =\u003e {\n  fetchData();\n}, [estimateId, searchParams]);\n```\n\nOr use a memoized estimate ID:\n```js\nconst estId = useMemo(() =\u003e estimateId || searchParams.get('estimate'), [estimateId, searchParams]);\n```","status":"closed","priority":2,"issue_type":"bug","assignee":"copperhead/polecats/rictus","created_at":"2026-01-10T22:33:34.610327271-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-10T22:48:29.596177991-06:00","closed_at":"2026-01-10T22:48:29.596177991-06:00","close_reason":"Fixed by adding searchParams to useEffect dependency array"}
{"id":"co-8tk3","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:37:04.571799535-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.288663606-06:00","closed_at":"2026-01-12T03:09:09.288663606-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":10.5,\"ended_at\":\"2026-01-11T03:37:04-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-8u4","title":"Assessment UI - Baseline vs Proposed Comparison","description":"Create comparison view showing baseline vs proposed improvements:\n- Side-by-side view of all grid sections\n- Baseline column (from initial assessment)\n- Proposed column (recommended improvements)\n- Visual diff highlighting changes\n- Summary of recommended improvements\n- Cost implications where applicable","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:07:24.779716192-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.205093505-06:00","closed_at":"2026-01-05T03:35:51.706298241-06:00","close_reason":"Implemented comparison view with side-by-side baseline vs current display, change indicators, and print support","dependencies":[{"issue_id":"co-8u4","depends_on_id":"co-sgs","type":"blocks","created_at":"2026-01-05T03:07:57.462800024-06:00","created_by":"mayor"},{"issue_id":"co-8u4","depends_on_id":"co-iob","type":"blocks","created_at":"2026-01-05T03:07:57.830705759-06:00","created_by":"mayor"},{"issue_id":"co-8u4","depends_on_id":"co-7ma","type":"blocks","created_at":"2026-01-05T03:07:58.626125464-06:00","created_by":"mayor"},{"issue_id":"co-8u4","depends_on_id":"co-edp","type":"blocks","created_at":"2026-01-05T03:07:58.919215321-06:00","created_by":"mayor"},{"issue_id":"co-8u4","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:13.784302728-06:00","created_by":"mayor"}]}
{"id":"co-8uk","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T22:37:24.299177367-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-12T03:09:09.898683273-06:00","closed_at":"2026-01-12T03:09:09.898683273-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T22:37:24-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-8us7","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:53:08.901657533-06:00","created_by":"mayor","updated_at":"2026-01-12T15:04:00.98177285-06:00","closed_at":"2026-01-12T15:04:00.98177285-06:00","close_reason":"acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:53:08-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-8v3","title":"Merge: furiosa-mk2fdo9t","description":"branch: polecat/furiosa-mk2fdo9t\ntarget: main\nsource_issue: furiosa-mk2fdo9t\nrig: copperhead\nagent_bead: co-copperhead-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-06T04:15:36.773977707-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-08T19:31:31.063441693-06:00","closed_at":"2026-01-06T15:44:23.539909759-06:00","close_reason":"superseded"}
{"id":"co-8xhn","title":"Merge: capable-mkeldu1t","description":"branch: polecat/capable-mkeldu1t\ntarget: main\nsource_issue: capable-mkeldu1t\nrig: copperhead\nagent_bead: co-copperhead-polecat-capable\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-16T17:29:42.894316082-06:00","created_by":"copperhead/polecats/capable","updated_at":"2026-01-16T17:31:11.967138491-06:00","closed_at":"2026-01-16T17:31:11.967138491-06:00","close_reason":"Merged to main"}
{"id":"co-8xmf","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:39:47.938676281-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:08.894895654-06:00","closed_at":"2026-01-12T03:09:08.894895654-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:39:47-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-8yl","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T22:35:39.438756498-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-12T03:09:09.925931465-06:00","closed_at":"2026-01-12T03:09:09.925931465-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/furiosa","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T22:35:39-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-furiosa\",\"worker\":\"furiosa\"}"}
{"id":"co-8z43","title":"Session ended: gt-copperhead-toast","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:46:21.503494512-06:00","created_by":"copperhead/polecats/toast","updated_at":"2026-01-12T03:09:08.450664937-06:00","closed_at":"2026-01-12T03:09:08.450664937-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/toast","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:46:21-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-toast\",\"worker\":\"toast\"}"}
{"id":"co-91st","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:35:10.464977186-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.560255837-06:00","closed_at":"2026-01-12T03:09:07.560255837-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T21:35:10-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-921vh","title":"API 500: /api/dispatch/available-technicians and /unassigned-work-orders crash","description":"attached_molecule: co-wisp-hae4y\nattached_at: 2026-02-12T17:20:59Z\ndispatched_by: mayor\n\nTwo endpoints return HTTP 500 on the Scheduling Dashboard (/dispatch/scheduling):\n1. GET /api/dispatch/available-technicians?date=2026-02-12\n2. GET /api/dispatch/unassigned-work-orders?date=2026-02-12\nPage renders but scheduling data is empty.","notes":"Fixed: smartScheduling.service.js queries referenced non-existent columns (service_latitude, service_longitude, service_address on work_orders; current_work_order_id, last_location_updated_at on users) because migrations 001-012 were never applied. Fixed by joining sites table for location/address data, using correct column name last_location_at. Also fixed dispatch.routes.js /map endpoint with same last_location_updated_at bug.","status":"closed","priority":2,"issue_type":"bug","assignee":"copperhead/polecats/onyx","created_at":"2026-02-12T11:19:21.298813899-06:00","created_by":"mayor","updated_at":"2026-02-12T11:33:40.838931836-06:00","closed_at":"2026-02-12T11:33:40.838931836-06:00","close_reason":"Completed — merged via PR #236","dependencies":[{"issue_id":"co-921vh","depends_on_id":"co-wisp-hae4y","type":"blocks","created_at":"2026-02-12T11:20:53.802379319-06:00","created_by":"mayor"}]}
{"id":"co-92m","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:10:56.112179148-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.621381051-06:00","closed_at":"2026-01-12T03:09:09.621381051-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T01:10:56-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-932","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:16:30.842446904-06:00","created_by":"mayor","updated_at":"2026-01-07T03:06:37.958545992-06:00","closed_at":"2026-01-07T03:06:37.958545992-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:16:30-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-93b7","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:38:15.852069753-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.246836799-06:00","closed_at":"2026-01-12T03:09:07.246836799-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:38:15-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-94mwy","title":"task","description":"attached_molecule: co-wisp-e5m2n\nattached_at: 2026-01-30T02:34:02Z\ndispatched_by: mayor\n\nCreate seedBetaTesterScenarios.js that clears existing demo data before seeding and creates 4 customer scenarios for beta testers. See hq-pztm for full details.","notes":"Task already completed. Seed script committed in 5d730fc4. Verified syntax check passes.","status":"closed","priority":0,"issue_type":"task","assignee":"copperhead-copperhead/polecats/77","created_at":"2026-01-29T20:33:01.167675463-06:00","created_by":"mayor","updated_at":"2026-01-29T20:35:46.852063586-06:00","closed_at":"2026-01-29T20:35:46.852073356-06:00","dependencies":[{"issue_id":"co-94mwy","depends_on_id":"co-wisp-e5m2n","type":"blocks","created_at":"2026-01-29T20:33:49.512690021-06:00","created_by":"mayor"}]}
{"id":"co-94s","title":"Digest: mol-deacon-patrol","description":"Patrol 5 complete: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T02:47:20.518974372-06:00","updated_at":"2026-01-08T19:31:30.980681155-06:00","closed_at":"2026-01-07T02:47:20.518824602-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-961w","title":"Drag-drop cost items between estimate areas","description":"Enable drag-and-drop of cost items between areas in estimates, with their child items (BOM, tasks) moving together. Support copying items to create instances in other areas.\n\nRequirements:\n1. Drag cost items between areas (items + BOM move together)\n2. Copy cost items to create new instance in another area (Ctrl+drag)\n3. Backend APIs: POST /estimates/:id/lines/:lineId/move and /copy\n4. Frontend: HTML5 drag-drop on AreaLineItem and EstimateAreaSection","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/dementus","created_at":"2026-01-14T00:29:40.554892346-06:00","created_by":"mayor","updated_at":"2026-01-14T00:36:05.167310756-06:00","closed_at":"2026-01-14T00:36:05.167310756-06:00","close_reason":"Implemented drag-drop cost items between estimate areas with move/copy APIs and HTML5 frontend handlers"}
{"id":"co-97bb8","title":"task","description":"attached_molecule: co-wisp-8foya\nattached_at: 2026-01-30T02:41:49Z\ndispatched_by: mayor\n\nCreate services for beta tester management:\n\nFiles:\n- apps/api/src/services/tenantProvisioning.service.js\n- apps/api/src/services/betaTester.service.js\n\ntenantProvisioning.service.js:\n- provisionBetaTenant() - Create tenant + admin user + seed scenarios\n- generateTempPassword() - Secure random password\n- slugify() - Company name to slug\n\nbetaTester.service.js:\n- createBetaTester() - Full provisioning flow\n- listBetaTesters() - Query with filters\n- getBetaTester() - Single tester details\n- deactivateBetaTester() - Soft delete\n- reseedBetaTester() - Clear and re-seed demo data\n\nFollow existing service patterns (getClient() transactions).","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead-copperhead/polecats/73","created_at":"2026-01-29T20:40:41.836365432-06:00","created_by":"mayor","updated_at":"2026-01-29T21:17:21.592136837-06:00","closed_at":"2026-01-29T21:17:21.592136837-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-97bb8","depends_on_id":"co-wisp-h69w5","type":"blocks","created_at":"2026-01-29T20:41:38.339945109-06:00","created_by":"mayor"},{"issue_id":"co-97bb8","depends_on_id":"co-wisp-8foya","type":"blocks","created_at":"2026-01-29T21:08:42.947956598-06:00","created_by":"mayor"}]}
{"id":"co-982o","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:01:16.39749039-06:00","created_by":"mayor","updated_at":"2026-01-12T18:04:35.344594469-06:00","closed_at":"2026-01-12T18:04:35.344594469-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:01:16-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-99d","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:22:11.983357786-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-07T03:06:37.812008079-06:00","closed_at":"2026-01-07T03:06:37.812008079-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:22:11-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-9bnc","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:44:09.661116155-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-12T03:09:09.193999546-06:00","closed_at":"2026-01-12T03:09:09.193999546-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/furiosa","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T04:44:09-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-furiosa\",\"worker\":\"furiosa\"}"}
{"id":"co-9e6","title":"Assessment UI - Internet Connectivity","description":"Create internet connectivity section per location:\n- Primary connection: type, provider, speed\n- Failover connection: type, provider, speed\n- Table format with one row per location\n- Status indicators (adequate/needs upgrade)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:06:51.44090803-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.23317046-06:00","closed_at":"2026-01-05T03:15:48.15092986-06:00","close_reason":"Implemented all assessment grids (3x3 format with state dropdowns, notes, recommend checkboxes) and connectivity/LOB tables","dependencies":[{"issue_id":"co-9e6","depends_on_id":"co-2db","type":"blocks","created_at":"2026-01-05T03:07:53.01010505-06:00","created_by":"mayor"},{"issue_id":"co-9e6","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:11.898649237-06:00","created_by":"mayor"}]}
{"id":"co-9ec","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:17:44.039135909-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.583910008-06:00","closed_at":"2026-01-12T03:09:09.583910008-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T01:17:43-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-9g96l","title":"Update deploy-staging.yml to include SendGrid, OpenAI, and APP_URL secrets","description":"dispatched_by: mayor\n\nThe CI workflow at .github/workflows/deploy-staging.yml deletes and recreates fieldops-secrets on every deploy, but only includes DB_PASSWORD, JWT_SECRET, and REFRESH_TOKEN_SECRET.\n\nAdd these 5 new secrets (already added to GitHub repo secrets):\n- SENDGRID_API_KEY\n- SENDGRID_FROM_EMAIL  \n- SENDGRID_FROM_NAME\n- APP_URL\n- OPENAI_API_KEY\n\nChanges needed in deploy-staging.yml:\n1. Add to the env block at line ~129-134: SENDGRID_API_KEY, SENDGRID_FROM_EMAIL, SENDGRID_FROM_NAME, APP_URL, OPENAI_API_KEY\n2. Add to the envs line at ~140: include all new vars\n3. Add --from-literal entries at lines 154-159 for each new secret\n4. Add env entries in the API deployment spec (lines ~280-295) so the pod gets the values from the secret\n\nThis ensures env vars persist across CI deploys instead of being lost every time.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/copperhead-101","created_at":"2026-02-09T17:32:42.337348756-06:00","created_by":"kaos","updated_at":"2026-02-09T17:35:54.456561285-06:00","closed_at":"2026-02-09T17:35:54.456561285-06:00","close_reason":"Closed"}
{"id":"co-9g9h","title":"Session ended: gt-copperhead-bullet","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T19:43:51.56191516-06:00","created_by":"copperhead/polecats/bullet","updated_at":"2026-01-12T19:48:08.605628967-06:00","closed_at":"2026-01-12T19:48:08.605628967-06:00","close_reason":"Triage: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/bullet","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T19:43:51-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-bullet\",\"worker\":\"bullet\"}"}
{"id":"co-9hgv","title":"Add RSB extensions to AlertsDashboardPage","description":"Add Right Sidebar extensions to the Alerts Dashboard page following the pattern used in AreaBasedEstimateEditor.\n\n## Context\n- Target: apps/web/src/pages/procurement/AlertsDashboardPage.jsx\n- Pattern: apps/web/src/components/salesops/AreaBasedEstimateEditor.jsx (lines 505-651)\n- Context Provider: apps/web/src/context/RightSidebarContext.jsx\n\n## Requirements\n1. Import useRightSidebar from context\n2. Register sections using registerSections() in useEffect\n3. Clean up with clearSections() on unmount\n\n## Suggested Extensions\n\n### 1. Quick Actions\n- Bulk resolve selected alerts\n- Create PO from selected low-stock items\n- Bulk ignore/snooze alerts\n- Icon: Zap or Send\n- Badge: selected count\n\n### 2. Restock Queue\n- Items currently being restocked\n- POs in progress for alert items\n- ETA for incoming stock\n- Icon: Truck or Package\n\n### 3. Vendor Contacts\n- Quick access to supplier contact info\n- Preferred vendors for alert items\n- One-click email/call\n- Icon: Building2 or Phone\n\n### 4. Alert Stats\n- Alerts by category breakdown\n- Trend over time (increasing/decreasing)\n- Average resolution time\n- Icon: BarChart3 or TrendingUp\n\n## Implementation Notes\n- Use existing state (alerts, selectedAlerts, counts)\n- Use useAlerts hook data\n- Follow icon/badge patterns from estimate editor\n- Keep extensions actionable for alert triage workflow","status":"closed","priority":2,"issue_type":"task","assignee":"bullet","created_at":"2026-01-15T04:49:20.424003673-06:00","created_by":"mayor","updated_at":"2026-01-15T05:10:04.589103257-06:00","closed_at":"2026-01-15T05:10:04.589103257-06:00","close_reason":"Implemented RightSidebarContext and 4 RSB extensions for AlertsDashboardPage: Quick Actions, Restock Queue, Vendor Contacts, Alert Stats"}
{"id":"co-9k4x6","title":"API 500: /api/vehicles/needs-restock crashes","description":"attached_molecule: co-wisp-hdar5\nattached_at: 2026-02-12T17:21:37Z\ndispatched_by: mayor\n\nGET /api/vehicles/needs-restock returns HTTP 500. Trucks page (/procurement/trucks) renders but shows no data. Repeated 3 times during page load.","notes":"Fixed: Rewrote /api/vehicles/needs-restock and /api/vehicles/:id/mark-restocked to use inventory_balances + inventory_locations (holder_type=TRUCK) instead of non-existent vehicle_inventory table. Root cause: schema evolved but routes were not updated.","status":"closed","priority":2,"issue_type":"bug","assignee":"copperhead/polecats/opal","created_at":"2026-02-12T11:19:22.52133345-06:00","created_by":"mayor","updated_at":"2026-02-12T11:31:08.432317938-06:00","closed_at":"2026-02-12T11:31:08.432317938-06:00","close_reason":"Completed — merged via PR #235","dependencies":[{"issue_id":"co-9k4x6","depends_on_id":"co-wisp-hdar5","type":"blocks","created_at":"2026-02-12T11:21:31.89702352-06:00","created_by":"mayor"}]}
{"id":"co-9l5y","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:14:28.877347159-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.644993154-06:00","closed_at":"2026-01-12T03:09:08.644993154-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:14:28-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-9l9","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T16:33:09.877511833-06:00","created_by":"mayor","updated_at":"2026-01-06T01:15:21.173602731-06:00","closed_at":"2026-01-06T01:15:21.173602731-06:00","close_reason":"Acknowledged - stale session events","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T16:33:09-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-9m54","title":"Merge: warboy-mkbn64q7","description":"branch: polecat/warboy-mkbn64q7\ntarget: main\nsource_issue: warboy-mkbn64q7\nrig: copperhead\nagent_bead: co-copperhead-polecat-warboy\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-12T14:57:59.767455472-06:00","created_by":"copperhead/polecats/warboy","updated_at":"2026-01-12T15:07:17.642194803-06:00","closed_at":"2026-01-12T15:07:17.642194803-06:00","close_reason":"Merged to main"}
{"id":"co-9md","title":"API: Implement auth routes (register, login, JWT)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:10:56.568105018-06:00","created_by":"kaos","updated_at":"2026-01-05T11:23:10.412572116-06:00","closed_at":"2026-01-05T11:23:10.412572116-06:00","close_reason":"Auth routes already fully implemented: POST /api/auth/register, /login, /refresh, /logout. Routes mounted in index.js at line 140. Uses JWT with bcrypt password hashing, refresh token rotation, and role-based permissions from @field-ops/shared-domain.","labels":["api","backend","lite-mvp"]}
{"id":"co-9mwq","title":"Implement account lockout after failed login attempts","description":"Add account lockout mechanism after N failed login attempts to prevent brute force attacks. Currently no lockout exists - unlimited attempts allowed.","acceptance_criteria":"- Accounts locked after 5 failed attempts\n- Lockout duration: 15 minutes\n- Failed attempt counter resets on successful login\n- Locked accounts return generic error (no enumeration)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T01:22:25.057746654-06:00","created_by":"mayor","updated_at":"2026-01-18T01:38:22.846946727-06:00","closed_at":"2026-01-18T01:38:22.846946727-06:00","close_reason":"Implemented in commit b52149b2","labels":["authentication","security"]}
{"id":"co-9n8gr","title":"Gas Town agents stall on permission prompts - need --permission-mode flag","description":"## Problem\nSpawned agents (polecats, refinery, witness) stall at Claude Code permission prompts instead of running autonomously.\n\n## Root Cause\nWhen `gt sling` or `gt polecat` spawns a Claude Code session, it doesn't pass `--permission-mode` flag. Sessions inherit global settings from the user's Claude Code config.\n\nIf user is in plan mode or has restrictive permissions, spawned workers also get restricted and wait for confirmation instead of executing.\n\n## Observed Behavior\n- Polecat completes work, then stops at 'commit this?' prompt\n- Refinery sits idle at prompt instead of polling merge queue\n- Manual intervention required to send Enter/commands to each session\n- Defeats the purpose of autonomous agents\n\n## Expected Behavior\nWorker agents should run with `--permission-mode bypassPermissions` or `--permission-mode dontAsk` so they execute without prompts.\n\n## Proposed Fix\n1. Add `permission_mode` config option to daemon.json or town.json\n2. When spawning sessions, pass `claude --permission-mode \u003cmode\u003e`\n3. Default to `bypassPermissions` for polecats/refinery/witness\n4. Allow override per-agent type if needed\n\n## Claude Code Flags Available\n```\n--permission-mode \u003cmode\u003e  # choices: acceptEdits, bypassPermissions, default, delegate, dontAsk, plan\n--dangerously-skip-permissions  # bypass all checks\n```\n\n## Workaround\nManually send commands to stuck sessions via tmux, or modify global ~/.claude/settings.local.json to allow all commands.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-24T23:54:45.700376168-06:00","created_by":"mayor","updated_at":"2026-01-27T14:22:32.823503705-06:00","closed_at":"2026-01-27T14:22:32.823503705-06:00","close_reason":"wontfix"}
{"id":"co-9pk","title":"Digest: mol-deacon-patrol","description":"Patrol 14: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T03:10:54.42796698-06:00","updated_at":"2026-01-08T19:31:30.963722582-06:00","closed_at":"2026-01-07T03:10:54.427871496-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-9pt","title":"S5: Convert Estimate to Work Order with Availability Matrix","description":"## Overview\nImplement the S5 screen for converting accepted estimates to work orders.\n\n## Requirements\n- Display estimate summary (read-only)\n- Work order configuration: single WO or split into multiple\n- Work type selection, technician assignment, scheduling\n- Parts availability check against inventory (from estimate_line_products)\n- Technician availability check against calendar/WIP\n- Scheduling optimization suggestions\n- Parts pre-population from confirmed products\n\n## Key Files\n- apps/web/src/pages/salesops/ConvertToWorkOrderPage.jsx (CREATE)\n- apps/api/src/services/estimateConversion.service.js (MODIFY)\n\n## Acceptance Criteria\n- Availability matrix shows parts status (in_stock, on_order, backorder)\n- Tech availability shows calendar conflicts\n- System suggests optimal start date\n- WO created with parts pre-reserved\n- Estimate status updates to converted","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T01:01:56.593364989-06:00","created_by":"mayor","updated_at":"2026-01-06T01:30:37.135335704-06:00","closed_at":"2026-01-06T01:30:37.135335704-06:00","close_reason":"S5 Convert Estimate to Work Order with Availability Matrix implemented","labels":["feature","priority:high","salesops"]}
{"id":"co-9q5","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:19:05.042894856-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-07T03:06:37.867633442-06:00","closed_at":"2026-01-07T03:06:37.867633442-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"copperhead/polecats/furiosa","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:19:04-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-furiosa\",\"worker\":\"furiosa\"}"}
{"id":"co-9qy","title":"PLAN-002 Phase 2: Estimate Editor UI","description":"CostItemSearchPicker.jsx, integrate into QuoteSectionEditor, line item display","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T01:23:56.613568655-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.052467946-06:00","closed_at":"2026-01-07T03:43:34.399472434-06:00","close_reason":"Complete - CostItemSearchPicker.jsx created, estimate editor integrated","dependencies":[{"issue_id":"co-9qy","depends_on_id":"co-3gd","type":"blocks","created_at":"2026-01-07T01:25:15.520145746-06:00","created_by":"mayor"}]}
{"id":"co-9r6","title":"Generate BoM materials from AI response","description":"Create bill of materials entries from AI parsed response. Link materials to areas, calculate quantities for wire/cable based on area dimensions, handle material substitutions.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T19:22:12.01222094-06:00","created_by":"mayor","updated_at":"2026-01-12T00:41:31.101148245-06:00","closed_at":"2026-01-10T19:42:59.417753455-06:00","close_reason":"Implemented AI BoM generation with inventory matching, wire/cable quantity calculations, and material substitutions","dependencies":[{"issue_id":"co-9r6","depends_on_id":"co-gdj","type":"parent-child","created_at":"2026-01-08T19:22:12.017837315-06:00","created_by":"mayor"}]}
{"id":"co-9rl","title":"Fix failing unit tests (54 failures)","description":"Test run shows 54 failing tests out of 356 total (83% pass rate).\n\n## Failing Categories\n\n### E2E Tests (need infrastructure)\n- salesNavigation.e2e.test.js - connection refused (needs running frontend)\n- Various Puppeteer tests - need Docker/servers\n\n### Integration Tests\n- mobileMvp.integration.test.js - auth token returning 401 instead of expected codes\n- Status code mismatches in PATCH endpoints\n\n### Unit Tests  \n- estimateWorkflowStability.e2e.test.js - pricing snapshot expects 0.3000, got 0.6000\n- Possible data/seed issue\n\n## To Reproduce\n```bash\ncd apps/api\nnpm install\nnpm test\n```\n\n## Notes\n- Root npm install required first for shared packages\n- E2E tests require Docker infrastructure per CLAUDE.md","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-08T03:38:59.633112352-06:00","created_by":"mayor","updated_at":"2026-01-12T00:41:31.103264315-06:00","closed_at":"2026-01-10T19:48:41.020620198-06:00","close_reason":"Closed"}
{"id":"co-9x9g","title":"Merge: angharad-mkbxen0p","description":"branch: polecat/angharad-mkbxen0p\ntarget: main\nsource_issue: angharad-mkbxen0p\nrig: copperhead\nagent_bead: co-copperhead-polecat-angharad\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-12T19:44:53.254546785-06:00","created_by":"copperhead/polecats/angharad","updated_at":"2026-01-12T19:58:00.219790599-06:00","closed_at":"2026-01-12T19:58:00.219790599-06:00","close_reason":"Merged to main"}
{"id":"co-9y7t","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T22:30:00.309086136-06:00","created_by":"mayor","updated_at":"2026-01-12T22:33:19.809277853-06:00","closed_at":"2026-01-12T22:33:19.809277853-06:00","close_reason":"Stale session event from previous mayor session","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T22:30:00-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-9zq","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T16:24:58.01829604-06:00","created_by":"mayor","updated_at":"2026-01-06T01:15:21.113243568-06:00","closed_at":"2026-01-06T01:15:21.113243568-06:00","close_reason":"Acknowledged - stale session events","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T16:24:57-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-a034","title":"Merge: dag-mkghholv","description":"branch: polecat/dag-mkghholv\ntarget: main\nsource_issue: dag-mkghholv\nrig: copperhead\nagent_bead: co-copperhead-polecat-dag\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-16T00:25:50.444585209-06:00","created_by":"copperhead/polecats/dag","updated_at":"2026-01-16T00:27:21.082956574-06:00","closed_at":"2026-01-16T00:27:21.082956574-06:00","close_reason":"Merged to main"}
{"id":"co-a2seb","title":"Progressive Invoicing","description":"attached_molecule: co-wisp-g0ue\nattached_at: 2026-01-25T22:32:51Z\ndispatched_by: mayor\n\nGenerate invoices per phase completion (milestone billing).\n\nRequirements:\n1. Add phase_invoice_id column to work_orders (links to invoice when phase billed)\n2. Create POST /api/projects/:id/phases/:phaseType/invoice endpoint\n3. When phase signed off, allow generating phase invoice\n4. Invoice amount = sum of line items assigned to that phase\n5. Track invoiced_amount per phase on project\n6. Support 33/33/34 split or custom percentages\n\nExisting infrastructure:\n- projects.total_invoiced_amount exists\n- work_orders have phase_type linked to project\n- estimate_line_items have phase column for item assignment\n\nFiles to create/modify:\n- migrations/077_progressive_invoicing.sql\n- apps/api/src/services/progressiveInvoicing.service.js (new)\n- apps/api/src/routes/project.routes.js\n- apps/web/src/pages/dispatch/ProjectDetailPage.jsx","status":"closed","priority":1,"issue_type":"feature","assignee":"copperhead/polecats/jasper","created_at":"2026-01-25T16:30:49.076698771-06:00","created_by":"mayor","updated_at":"2026-01-25T16:39:53.452991657-06:00","closed_at":"2026-01-25T16:39:53.452991657-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-a2seb","depends_on_id":"co-wisp-g0ue","type":"blocks","created_at":"2026-01-25T16:32:50.819353916-06:00","created_by":"mayor"}]}
{"id":"co-a3bi","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:43:14.725219298-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:08.808450723-06:00","closed_at":"2026-01-12T03:09:08.808450723-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:43:14-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-a5lb","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:46:15.461668102-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:08.459936287-06:00","closed_at":"2026-01-12T03:09:08.459936287-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:46:15-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-a5m9","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:37:00.66055421-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:48.297224763-06:00","closed_at":"2026-01-22T22:38:48.297224763-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:37:00-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-a65t","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:50:51.792484498-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.130789201-06:00","closed_at":"2026-01-12T03:09:09.130789201-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":31.62,\"ended_at\":\"2026-01-11T04:50:51-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-a6a5m","title":"Estimate conversion allows duplicates - no idempotency check","description":"## Problem\nThe `convert_estimate_to_work_order()` SQL function doesn't check if the estimate has already been converted. Users can click Convert multiple times and create duplicate work orders.\n\n## Current Behavior\n- Function checks: estimate exists, status = 'approved'\n- Function does NOT check: `work_order_id IS NOT NULL`\n\n## Expected Behavior\n- If `v_estimate.work_order_id IS NOT NULL`, either:\n  1. Return existing work_order_id (idempotent)\n  2. Raise exception 'Estimate already converted'\n\n## Fix Location\n- `apps/api/migrations/069_fix_convert_estimate_status.sql` - add check after status validation\n\n## Code to Add\n```sql\nIF v_estimate.work_order_id IS NOT NULL THEN\n    RAISE EXCEPTION 'Estimate already converted to work order %', v_estimate.work_order_id;\nEND IF;\n```","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-24T16:53:24.394126888-06:00","created_by":"mayor","updated_at":"2026-01-24T16:53:46.213637074-06:00","closed_at":"2026-01-24T16:53:46.213637074-06:00","close_reason":"Closed"}
{"id":"co-a7myr","title":"Demo Data Seeding - Complete Implementation","description":"dispatched_by: mayor","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/heliodor","created_at":"2026-02-05T21:04:11.880128667-06:00","created_by":"kaos","updated_at":"2026-02-05T21:12:04.689169835-06:00","closed_at":"2026-02-05T21:12:04.689169835-06:00","close_reason":"Integrated comprehensive seeding into beta tenant provisioning. New tenants now get 4 customers, 8 sites, 5 estimates, 10 work orders, 8 POs, and more realistic demo data."}
{"id":"co-a7ww","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:58:07.215660369-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.751961257-06:00","closed_at":"2026-01-12T03:09:07.751961257-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:58:07-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-a9u1v","title":"In-app notification center: React component for viewing/acknowledging notifications","description":"attached_molecule: co-wisp-w822\nattached_at: 2026-01-27T23:24:11Z\ndispatched_by: mayor","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/turquoise","created_at":"2026-01-27T16:44:35.604163683-06:00","created_by":"mayor","updated_at":"2026-01-27T17:52:24.445875521-06:00","closed_at":"2026-01-27T17:52:24.445875521-06:00","close_reason":"Implemented NotificationCenter React component integrated into RightSidebar. Features: unread count badge, filtering (all/unread/procurement/warehouse), mark-as-read (individual/bulk), priority indicators, navigation to linked entities. Uses BellRing icon to distinguish from Actions Inbox.","dependencies":[{"issue_id":"co-a9u1v","depends_on_id":"co-xdjix","type":"blocks","created_at":"2026-01-27T16:44:50.370104632-06:00","created_by":"mayor"},{"issue_id":"co-a9u1v","depends_on_id":"co-wisp-uo8x","type":"blocks","created_at":"2026-01-27T17:24:07.993337258-06:00","created_by":"mayor"},{"issue_id":"co-a9u1v","depends_on_id":"co-wisp-w822","type":"blocks","created_at":"2026-01-27T17:46:05.371084529-06:00","created_by":"mayor"}]}
{"id":"co-a9zf","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:58:05.229274878-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.255898698-06:00","closed_at":"2026-01-12T03:09:09.255898698-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:58:05-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-aarso","title":"issue","description":"dispatched_by: mayor\n\n## Summary\n1. Feedback bubble hidden - AIChatPanel overlaps BugReportButton\n2. AI Copilot - screen-aware assistant always present in RSB with voice I/O\n3. Message notification links to non-existent route - needs redirect\n4. Email invite system for new users via SendGrid\n\n## Implementation Tasks\n\n### Task 1: Remove AIChatPanel from MainLayout\n- DELETE import and usage of AIChatPanel from MainLayout.jsx\n- This fixes the feedback bubble overlap\n\n### Task 2: Create AICopilot Component  \n- New file: apps/web/src/components/rsb/AICopilot.jsx\n- Based on EstimateAIChat architecture but universal\n- Screen-aware via location.pathname detection\n- Voice input (VoiceButton), TTS output toggle\n- Screen-specific quick actions and lookups\n\n### Task 3: Update RightSidebar\n- Import AICopilot\n- Use as default AI for all screens (except specialized screens like estimates)\n\n### Task 4: Delete AIChatPanel.jsx\n- Remove obsolete floating chat panel\n\n### Task 5: Add Legacy Route Redirects (App.js)\n- /work-orders/:id/messages -\u003e /dispatch/work-orders/:id\n- /work-orders/:id -\u003e /dispatch/work-orders/:id\n\n### Task 6: Create SendGrid Email Service\n- New file: apps/api/src/services/email/sendgridService.js\n- Install @sendgrid/mail dependency\n\n### Task 7: Update User Creation Route\n- Send invite email when admin creates user\n- Include temp password, login link, company name\n\n## Files to Create/Modify\n- CREATE: apps/web/src/components/rsb/AICopilot.jsx\n- MODIFY: apps/web/src/components/MainLayout.jsx\n- MODIFY: apps/web/src/components/Sidebar/RightSidebar.jsx\n- DELETE: apps/web/src/components/AIChatPanel.jsx\n- MODIFY: apps/web/src/App.js\n- CREATE: apps/api/src/services/email/sendgridService.js\n- MODIFY: apps/api/src/routes/user.routes.js\n- MODIFY: apps/api/package.json","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/magnetite","created_at":"2026-02-04T23:51:54.960676983-06:00","created_by":"kaos","updated_at":"2026-02-05T00:09:49.213377778-06:00","closed_at":"2026-02-05T00:09:49.213386341-06:00"}
{"id":"co-ae61","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T15:35:59.086691804-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.368742719-06:00","closed_at":"2026-01-12T03:09:08.368742719-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T15:35:59-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-afgm","title":"Evaluate moving tokens from localStorage to httpOnly cookies","description":"Tokens are currently stored in localStorage which is vulnerable to XSS attacks. Evaluate migrating to httpOnly cookies for better security. This is a tradeoff - cookies have CSRF concerns but are not accessible to JavaScript.","acceptance_criteria":"- Research httpOnly cookie implementation for SPAs\n- Document tradeoffs (XSS vs CSRF)\n- Implement if benefits outweigh costs\n- Or document decision to keep localStorage with mitigations","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T01:22:40.660863898-06:00","created_by":"mayor","updated_at":"2026-01-18T01:39:43.427252797-06:00","closed_at":"2026-01-18T01:39:43.427252797-06:00","close_reason":"Evaluated - keeping localStorage with mitigations. See docs/testing/security/evaluations/TOKEN-STORAGE-EVALUATION.md","labels":["authentication","security"]}
{"id":"co-aglvr","title":"Fix non-functional Edit buttons across app","description":"dispatched_by: mayor\n\nE2E tests found 5 Edit buttons that don't open modals when clicked.\n\n## Known non-functional Edit buttons:\n1. Clients page - Edit button on client rows\n2. Work Orders page - Edit buttons  \n3. Other pages with Edit buttons\n\n## Fix:\n- Find all Edit buttons that should open edit modals\n- Wire onClick handlers to open the appropriate modal\n- Test that clicking Edit opens the correct modal with data pre-populated\n\n## Reference:\nThe Edit Client fix was done in PR #72/87 - use similar pattern for other Edit buttons.","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/moonstone","created_at":"2026-02-04T15:15:40.131264143-06:00","created_by":"kaos","updated_at":"2026-02-04T15:54:57.190016921-06:00","closed_at":"2026-02-04T15:54:57.190016921-06:00","close_reason":"PR #91 merged - Edit buttons fixed and deployed to staging"}
{"id":"co-ahmq","title":"Merge: dementus-mkdn5j58","description":"branch: polecat/dementus-mkdn5j58\ntarget: main\nsource_issue: dementus-mkdn5j58\nrig: copperhead\nagent_bead: co-copperhead-polecat-dementus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-14T00:36:24.52834752-06:00","created_by":"copperhead/polecats/dementus","updated_at":"2026-01-14T00:36:49.67304387-06:00","closed_at":"2026-01-14T00:36:49.67304387-06:00","close_reason":"Merged to main"}
{"id":"co-ahy5","title":"Digest: mol-witness-patrol","description":"Patrol 11: obsidian task 2 ongoing (~4m), healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T11:47:32.386322859-06:00","updated_at":"2026-01-24T11:47:32.386322859-06:00","closed_at":"2026-01-24T11:47:32.386148681-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-aie","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:20:20.355531257-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.573285865-06:00","closed_at":"2026-01-12T03:09:09.573285865-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:20:20-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-aigkq","title":"Dashboard KPIs Frontend","description":"dispatched_by: mayor","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/chalcedony","created_at":"2026-02-05T15:40:08.638915102-06:00","created_by":"kaos","updated_at":"2026-02-05T15:46:39.000612179-06:00","closed_at":"2026-02-05T15:46:39.000612179-06:00","close_reason":"PR created: https://github.com/FrankAtGHub/copperhead/pull/103"}
{"id":"co-akjc","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:53:44.668488492-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.770531612-06:00","closed_at":"2026-01-12T03:09:07.770531612-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:53:44-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-anp2","title":"Phase 4: Update estimateConversion.service.js","description":"dispatched_by: mayor\n\nIntegrate new services into project conversion flow:\n\n- Calculate labor hours per phase from BOM items (using install_time from inventory_items)\n- Apply crew sizing based on deadline (using crewSizing.service)\n- Set trade blockers per phase (using trade_blockers table)\n- Call auto-assign for technicians (using phaseAssignment.service)\n\nIntegration points with existing conversion flow - enhance existing service, don't replace.\n\nReference: docs/plans/EST-WO-implementation-plan.md Phase 4 section","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/crew/phase4","created_at":"2026-01-23T22:27:55.098789886-06:00","created_by":"mayor","updated_at":"2026-01-23T23:04:31.69822486-06:00","closed_at":"2026-01-23T23:04:31.69822486-06:00","close_reason":"Updated estimateConversion.service.js to integrate labor hours calculation, crew sizing, trade blockers, and auto-assignment per EST-WO plan.","labels":["est-wo","service"],"dependencies":[{"issue_id":"co-anp2","depends_on_id":"co-7a6z","type":"blocks","created_at":"2026-01-23T22:27:55.104362089-06:00","created_by":"mayor"},{"issue_id":"co-anp2","depends_on_id":"co-53lv","type":"blocks","created_at":"2026-01-23T22:27:55.108341978-06:00","created_by":"mayor"}]}
{"id":"co-anu59","title":"Implement Help Center link in sidebar","description":"dispatched_by: unknown\n\nHelp Center button only logs to console instead of opening help.\n\n## Location\n- File: apps/web/src/components/Sidebar/Sidebar.jsx:279\n- Current: console.log('Help clicked') only\n\n## Implementation Options (pick one):\nA. External docs: window.open('https://docs.numeruspro.com', '_blank')\nB. In-app help drawer/modal with FAQ and support contact\nC. Navigate to /help route with help content\n\n## Acceptance\n- Help button opens help content\n- User can access documentation or support","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/diamond","created_at":"2026-02-04T10:55:53.2794615-06:00","created_by":"kaos","updated_at":"2026-02-04T10:59:50.331861636-06:00","closed_at":"2026-02-04T10:59:50.331861636-06:00","close_reason":"Implemented Help Center link - opens external docs at https://docs.numeruspro.com in new tab. Uses window.open pattern consistent with rest of codebase."}
{"id":"co-ao7y","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:01:28.104181196-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.085189398-06:00","closed_at":"2026-01-12T03:09:09.085189398-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:01:27-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-aqso","title":"Merge: nux-1768130173","description":"branch: polecat/nux-1768130173\ntarget: main\nsource_issue: nux-1768130173\nrig: copperhead\nagent_bead: co-copperhead-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-11T05:18:02.608183858-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-11T05:34:58.381921696-06:00","closed_at":"2026-01-11T05:34:58.381921696-06:00","close_reason":"Merged to main"}
{"id":"co-aqvi","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:47:56.117901966-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.148771509-06:00","closed_at":"2026-01-12T03:09:09.148771509-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":31.62,\"ended_at\":\"2026-01-11T04:47:56-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-arj","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T16:21:33.861123205-06:00","created_by":"mayor","updated_at":"2026-01-06T01:15:21.099898362-06:00","closed_at":"2026-01-06T01:15:21.099898362-06:00","close_reason":"Acknowledged - stale session events","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T16:21:33-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-aro","title":"Labor Rate Settings - Simple vs Advanced Toggle","description":"## Overview\nAdd labor rate configuration to Company Settings with two methods:\n- Simple: Direct entry or burden component calculation\n- Advanced: Link to Soft Cost Calculator\n\n## Location\nSettings → Company Preferences → Labor Rate Configuration\n\n## UI Design\n\n### Method Selector\n```\n┌─────────────────────────────────────────────────────────────┐\n│ LABOR COST METHOD                                           │\n├─────────────────────────────────────────────────────────────┤\n│                                                             │\n│  ● Simple (Recommended for most contractors)                │\n│    ○ Direct Entry: $______/hr fully-loaded                  │\n│    ○ Calculate from Components:                             │\n│      Base Wage: $______/hr                                  │\n│      + PTO/Vacation: ______%                                │\n│      + Taxes/Insurance: ______%                             │\n│      + Benefits: ______%                                    │\n│      = Fully-Loaded Rate: $XX.XX/hr (calculated)           │\n│                                                             │\n│  ○ Advanced (Soft Cost Calculator)                          │\n│    Uses blended rate from employee roster calculation       │\n│    [Open Calculator] → Current Rate: $XX.XX/hr             │\n│                                                             │\n│  ⚠️ Reference only - consult CFO/CPA for actual rates       │\n│                                                             │\n└─────────────────────────────────────────────────────────────┘\n```\n\n## Database Fields (tenant_settings)\nFrom electrical-estimating-config-formulas.md:\n\n### Labor Burden Components\n- base_hourly_wage DECIMAL (default 36.52)\n- taxable_fringe_pct DECIMAL (default 6.73) -- PTO/vacation\n- taxes_insurance_pct DECIMAL (default 19.14) -- Employer taxes\n- nontaxable_fringe_pct DECIMAL (default 5.63) -- Benefits\n- burdened_rate DECIMAL (computed or manual entry)\n- labor_rate_method ENUM ('direct', 'components', 'calculator')\n\n### Calculator Link\n- calculator_blended_rate DECIMAL (from soft cost calculator)\n- calculator_data_id UUID (FK to saved calculator state)\n\n## Calculation\n```\nIF labor_rate_method = 'direct':\n  effective_rate = burdened_rate (manual entry)\nELIF labor_rate_method = 'components':\n  effective_rate = base_hourly_wage × (1 + taxable_fringe_pct + taxes_insurance_pct + nontaxable_fringe_pct)\nELIF labor_rate_method = 'calculator':\n  effective_rate = calculator_blended_rate\n```\n\n## Files to Modify\n- apps/api/migrations/043_labor_rate_settings.sql\n- apps/web/src/components/Settings/CompanyPreferencesSettings.jsx\n- apps/api/src/services/tenantSettings.service.js","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/scrotus","created_at":"2026-01-10T23:22:56.596770256-06:00","created_by":"mayor","updated_at":"2026-02-10T20:53:01.044399343-06:00","closed_at":"2026-02-10T20:53:01.044399343-06:00","close_reason":"Stale - all work caught up","dependencies":[{"issue_id":"co-aro","depends_on_id":"co-v5k","type":"blocks","created_at":"2026-01-10T23:24:06.831381796-06:00","created_by":"mayor"}]}
{"id":"co-au4","title":"Digest: mol-deacon-patrol","description":"Patrol 16: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T03:16:10.245393532-06:00","updated_at":"2026-01-08T19:31:30.94036462-06:00","closed_at":"2026-01-07T03:16:10.245230547-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-aukp2","title":"issue","description":"dispatched_by: mayor\n\n## Test Scope\n\n### AICopilot (PR #96)\n- [ ] Purple AI icon visible in RSB when collapsed\n- [ ] All features from previous AI assistant extension present:\n  - Voice input (VoiceButton)\n  - TTS output toggle\n  - Screen-specific quick actions\n  - Conversation history persistence\n- [ ] Works on all screens (dispatch, sales, warehouse, procurement, etc.)\n\n### Beta Scenarios Seed Data\n- [ ] Client addresses present in estimates\n- [ ] Client addresses present in work orders\n- [ ] Materials populated in Bill of Materials for seeded estimates\n\n### General QA\n- [ ] Check for missing screens\n- [ ] Check for non-functional buttons\n- [ ] Feedback bubble (BugReportButton) visible at bottom-right\n\n## Environment\nStaging: beta.numeruspro.com","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/magnetite","created_at":"2026-02-05T00:38:33.467920422-06:00","created_by":"kaos","updated_at":"2026-02-08T21:02:33.321917695-06:00","closed_at":"2026-02-08T21:02:33.321917695-06:00","close_reason":"QA complete. Issues filed: co-0pstd (AI icon in collapsed RSB - fixed in PR #99), co-s0qdo (customer addresses - fixed in commit 4c9a2ddf). Line item BOM seeding pending calcite push."}
{"id":"co-avd","title":"Merge: nux-mk3qcsqq","description":"branch: polecat/nux-mk3qcsqq\ntarget: main\nsource_issue: nux-mk3qcsqq\nrig: copperhead\nagent_bead: co-copperhead-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null\n\n(Moved from ms-et5y)","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-08T01:59:44.131250339-06:00","created_by":"mayor","updated_at":"2026-01-10T19:37:54.353118031-06:00","closed_at":"2026-01-10T19:37:54.353122268-06:00","close_reason":"Already merged - stale MR. Content in commits ef394c7b, bbf8bd5a on main."}
{"id":"co-ax0x3","title":"Fix beta seed - missing estimates, line items, materials","description":"dispatched_by: copperhead/polecats/sunstone\n\nSignup works but beta tenant seeding is incomplete.\n\n## Missing data:\n- Estimates\n- Line items  \n- Materials\n\n## Investigate:\n- apps/api/src/services/tenantProvisioning.service.js - seedBetaTenantData()\n- Check if estimate/line item/material seeding is being called\n- Check for errors in seeding functions\n- Verify foreign key references are correct\n\n## Expected:\nBeta testers should get demo data including estimates with line items and materials to test the full workflow.","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/bloodstone","created_at":"2026-02-04T22:30:56.514079852-06:00","created_by":"kaos","updated_at":"2026-02-04T22:35:24.169732269-06:00","closed_at":"2026-02-04T22:35:24.169732269-06:00","close_reason":"Fixed beta seed to include estimates, line items, and materials. See commit 6d9889fe."}
{"id":"co-axj","title":"Merge: spark-mk1pnem4","description":"branch: polecat/spark-mk1pnem4\ntarget: main\nsource_issue: spark-mk1pnem4\nrig: copperhead\nagent_bead: co-copperhead-polecat-spark\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-05T16:27:37.081218315-06:00","created_by":"copperhead/polecats/spark","updated_at":"2026-01-06T01:15:31.581353005-06:00","closed_at":"2026-01-06T01:15:31.581353005-06:00","close_reason":"Already merged to main in commit 64fe317"}
{"id":"co-b017p","title":"Performance Optimization","description":"dispatched_by: mayor","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/aventurine","created_at":"2026-02-05T20:51:40.65853335-06:00","created_by":"kaos","updated_at":"2026-02-05T20:58:42.479761075-06:00","closed_at":"2026-02-05T20:58:42.479761075-06:00","close_reason":"Closed"}
{"id":"co-b0mq","title":"Merge: scrotus-mkbt7hai","description":"branch: polecat/scrotus-mkbt7hai\ntarget: main\nsource_issue: scrotus-mkbt7hai\nrig: copperhead\nagent_bead: co-copperhead-polecat-scrotus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-12T17:49:18.672848243-06:00","created_by":"copperhead/polecats/scrotus","updated_at":"2026-01-12T17:57:03.488926195-06:00","closed_at":"2026-01-12T17:57:03.488926195-06:00","close_reason":"Merged to main"}
{"id":"co-b101","title":"Digest: mol-witness-patrol","description":"Patrol 5: obsidian exploring (2m+), all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T11:45:15.653089934-06:00","updated_at":"2026-01-24T11:45:15.653089934-06:00","closed_at":"2026-01-24T11:45:15.652848935-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-b25b","title":"Integrate Vercel agent-browser CLI","description":"Install agent-browser npm package and create wrapper library for AI-driven E2E testing.\n\nTasks:\n1. Add agent-browser to apps/web/package.json\n2. Run npx agent-browser install to download Chromium\n3. Create apps/web/tests/agent-browser/lib/agent.js wrapper\n4. Create apps/web/tests/agent-browser/flows/login.flow.js proof of concept\n5. Test manually against localhost:3002\n\nReference: https://github.com/vercel-labs/agent-browser","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/slit","created_at":"2026-01-21T03:34:29.250122591-06:00","created_by":"mayor","updated_at":"2026-01-21T03:39:51.551714228-06:00","closed_at":"2026-01-21T03:39:51.551714228-06:00","close_reason":"Implemented agent-browser integration with wrapper library, login flow POC, and documentation","labels":["agent-browser","testing"]}
{"id":"co-b39t","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:34:37.433180014-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.30716588-06:00","closed_at":"2026-01-12T03:09:09.30716588-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":10.5,\"ended_at\":\"2026-01-11T03:34:37-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-b69g","title":"Session ended: gt-copperhead-valkyrie","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T03:01:33.560734446-06:00","created_by":"copperhead/polecats/valkyrie","updated_at":"2026-01-12T03:09:07.110702876-06:00","closed_at":"2026-01-12T03:09:07.110702876-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/valkyrie","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T03:01:33-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-valkyrie\",\"worker\":\"valkyrie\"}"}
{"id":"co-b6ny","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:33:40.733301083-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.316178774-06:00","closed_at":"2026-01-12T03:09:09.316178774-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":10.5,\"ended_at\":\"2026-01-11T03:33:40-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-b705","title":"Session ended: gt-copperhead-dag","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:40:23.246887973-06:00","created_by":"copperhead/polecats/dag","updated_at":"2026-01-22T22:28:09.982683829-06:00","closed_at":"2026-01-22T22:28:09.982683829-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/dag","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:40:23-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dag\",\"worker\":\"dag\"}"}
{"id":"co-b7f","title":"Session ended: gt-copperhead-dementus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T23:31:58.805340559-06:00","created_by":"copperhead/polecats/dementus","updated_at":"2026-01-12T03:09:09.832227062-06:00","closed_at":"2026-01-12T03:09:09.832227062-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/dementus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T23:31:58-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dementus\",\"worker\":\"dementus\"}"}
{"id":"co-b8j","title":"A2: Build CSV Import screen","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/forge","created_at":"2026-01-05T05:10:56.257129047-06:00","created_by":"kaos","updated_at":"2026-01-05T16:29:30.93114545-06:00","closed_at":"2026-01-05T16:29:30.93114545-06:00","close_reason":"CSV Import screen (A2) implemented with full UI and backend API routes","labels":["lite-mvp","ui","web"]}
{"id":"co-b8lf","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:01:10.445474209-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.094240264-06:00","closed_at":"2026-01-12T03:09:09.094240264-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:01:10-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-b92","title":"Digest: mol-deacon-patrol","description":"Patrol 11: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T03:03:03.553788692-06:00","updated_at":"2026-01-08T19:31:30.97132688-06:00","closed_at":"2026-01-07T03:03:03.553527435-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-b97y","title":"Draggable cost items with BOM/task hierarchy","description":"Enable drag-and-drop of cost items between areas in estimates. When moved, BOM items and tasks move with parent. Copy creates new instance in target area. Support WO splitting scenarios where tasks and parts follow items. Plan at ~/.claude/plans/parallel-painting-snail.md","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T00:48:15.235123768-06:00","created_by":"mayor","updated_at":"2026-01-13T02:36:34.721686435-06:00","closed_at":"2026-01-13T02:36:34.721686435-06:00","close_reason":"Implemented drag-drop for line items between areas. Backend move/copy APIs, frontend handlers. BOM follows parent."}
{"id":"co-bav3","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:47:47.690530205-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.492570006-06:00","closed_at":"2026-01-12T03:09:09.492570006-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:47:47-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-baxa","title":"Digest: mol-witness-patrol","description":"Patrol 3: obsidian active on co-kppf (Estimate Editor), refinery running, inbox clear","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T11:44:08.356914565-06:00","updated_at":"2026-01-24T11:44:08.356914565-06:00","closed_at":"2026-01-24T11:44:08.356724793-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-bbk","title":"Add equipment age/lifecycle tracking to intake form","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-05T01:59:21.233270935-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.524901915-06:00","closed_at":"2026-01-05T02:41:31.039987526-06:00","close_reason":"Added Equipment Lifecycle section: workstation age, server age, equipment condition, hardware refresh cycle, and upcoming replacement needs"}
{"id":"co-bdol","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:36:05.327245372-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.2977584-06:00","closed_at":"2026-01-12T03:09:09.2977584-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":10.5,\"ended_at\":\"2026-01-11T03:36:05-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-bf78","title":"Merge: toast-mk9j4rgp","description":"branch: polecat/toast-mk9j4rgp\ntarget: main\nsource_issue: toast-mk9j4rgp\nrig: copperhead\nagent_bead: co-copperhead-polecat-toast\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-11T03:29:12.56434182-06:00","created_by":"copperhead/polecats/toast","updated_at":"2026-01-11T03:31:17.716220859-06:00","closed_at":"2026-01-11T03:31:17.716220859-06:00","close_reason":"Merged to main at 9feed018"}
{"id":"co-bjg1q","title":"Test polecat creation","description":"attached_molecule: co-wisp-xqf8\nattached_at: 2026-01-25T22:51:58Z\ndispatched_by: mayor","status":"closed","priority":3,"issue_type":"task","assignee":"copperhead/polecats/obsidian","created_at":"2026-01-25T16:51:15.404554636-06:00","created_by":"mayor","updated_at":"2026-01-25T16:52:28.885364732-06:00","closed_at":"2026-01-25T16:52:28.885364732-06:00","close_reason":"Test completed - found bug in polecat creation","dependencies":[{"issue_id":"co-bjg1q","depends_on_id":"co-wisp-xqf8","type":"blocks","created_at":"2026-01-25T16:51:57.153703107-06:00","created_by":"mayor"}]}
{"id":"co-bls7","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T15:43:47.894679387-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.35962988-06:00","closed_at":"2026-01-12T03:09:08.35962988-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T15:43:47-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-bltmh","title":"Fix seed script: derive per-tenant UUIDs instead of hardcoded SCENARIO_IDS","description":"attached_molecule: co-wisp-rp3xt\nattached_at: 2026-02-12T03:40:04Z\ndispatched_by: mayor\n\n## Problem\nseedBetaTesterScenarios.js uses hardcoded fixed UUIDs (SCENARIO_IDS) and fixed emails for all seeded entities. When two tenants both seed demo data, the second tenant will fail on unique constraint violations:\n\n- User emails: mike.tech@fieldops.dev, sarah.tech@fieldops.dev, carlos.tech@fieldops.dev are globally unique, not per-tenant\n- UUIDs: TECH_MIKE='19000000-0000-0000-0000-000000000001' etc. will collide across tenants\n- Every entity (customers, sites, estimates, work orders, POs, vendors, locations) uses fixed UUIDs from SCENARIO_IDS\n\nThe ON CONFLICT (id) DO UPDATE handles same-tenant re-seeding (idempotency), but cross-tenant seeding will crash or corrupt data.\n\n## Solution\nReplace hardcoded SCENARIO_IDS with per-tenant deterministic UUIDs using UUID v5 (namespace-based):\n\n1. Use the tenant_id as the UUID v5 namespace\n2. Derive each entity UUID from a stable name string: `uuidv5(tenantId, 'TECH_MIKE')` \n3. This keeps idempotency within a tenant (same tenant always gets same UUIDs) while ensuring uniqueness across tenants\n4. For emails, prefix or suffix with tenant slug or short ID: `mike.tech+{tenant_slug}@fieldops.dev` or `mike.tech@{tenant_slug}.fieldops.dev`\n\n## Files to modify\n- apps/api/scripts/seedBetaTesterScenarios.js\n  - Add uuid v5 dependency (already have uuid package for v4)\n  - Replace `const SCENARIO_IDS = { ... }` with a function `getScenarioIds(tenantId)` that derives UUIDs via v5\n  - Replace hardcoded tech emails with tenant-scoped versions\n  - Update all references from `SCENARIO_IDS.X` to use the derived IDs\n  - setTenantConfig() should also regenerate the IDs\n\n## Verification\n1. Seed tenant A - all data created with tenant-A-derived UUIDs\n2. Seed tenant B - all data created with tenant-B-derived UUIDs, no conflicts\n3. Re-seed tenant A - idempotent, ON CONFLICT updates work correctly\n4. Tech users have unique emails per tenant","notes":"Implemented: Replaced hardcoded SCENARIO_IDS with getScenarioIds(tenantId) using UUID v5 derivation. Uses RFC 4122 DNS namespace with tenant_id:name composite string to produce deterministic, tenant-unique UUIDs. Demo tech emails now use +subaddressing (e.g. mike.tech+{shortId}@fieldops.dev). setTenantConfig() regenerates IDs on tenant change.","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/onyx","created_at":"2026-02-11T21:39:42.935641234-06:00","created_by":"mayor","updated_at":"2026-02-11T21:50:30.928773988-06:00","closed_at":"2026-02-11T21:50:30.928773988-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-bltmh","depends_on_id":"co-wisp-rp3xt","type":"blocks","created_at":"2026-02-11T21:40:00.78202574-06:00","created_by":"mayor"}]}
{"id":"co-bqbe","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:18:28.040154726-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:08.998091703-06:00","closed_at":"2026-01-12T03:09:08.998091703-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:18:27-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-bqqt","title":"Session ended: gt-copperhead-dementus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-14T00:36:43.68655046-06:00","created_by":"copperhead/polecats/dementus","updated_at":"2026-01-22T22:38:48.207945602-06:00","closed_at":"2026-01-22T22:38:48.207945602-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/dementus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-14T00:36:43-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dementus\",\"worker\":\"dementus\"}"}
{"id":"co-bqvf","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:27:27.194238219-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.57925894-06:00","closed_at":"2026-01-12T03:09:07.57925894-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":8.5,\"ended_at\":\"2026-01-11T21:27:27-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-bsm0e","title":"Implement Work Order Merge functionality","description":"attached_molecule: co-wisp-piu\nattached_at: 2026-01-25T01:39:32Z\ndispatched_by: mayor\n\n## Feature Request\nAdd ability to merge multiple work orders into one.\n\n## Use Case\n- Multiple small jobs for same customer/site can be combined\n- Consolidate related work for efficiency\n- Undo accidental splits\n\n## Requirements\n1. API endpoint: `POST /api/work-orders/merge`\n2. Service function: `mergeWorkOrders(woIds, mergeConfig)`\n3. Create lineage edges with `MERGED_INTO` type\n4. Record `work_order_merged` lineage event\n5. UI for selecting WOs to merge\n\n## Schema Ready\nMigration 017 already has:\n- `MERGED_INTO` edge type\n- `work_order_merged` event type\n- `WorkOrderMergedDTO` in event-dtos.js","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/obsidian","created_at":"2026-01-24T16:53:35.162904942-06:00","created_by":"mayor","updated_at":"2026-01-24T19:45:16.74192498-06:00","closed_at":"2026-01-24T19:45:16.741928687-06:00"}
{"id":"co-bsow","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:28:09.866199113-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.897496667-06:00","closed_at":"2026-01-12T03:09:07.897496667-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:28:09-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-byd","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:29:36.419339495-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.758380209-06:00","closed_at":"2026-01-12T03:09:09.758380209-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:29:36-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-bzg","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:05:40.280955718-06:00","created_by":"mayor","updated_at":"2026-01-06T01:15:57.743184786-06:00","closed_at":"2026-01-06T01:15:57.743184786-06:00","close_reason":"Acknowledged - stale session events","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:05:40-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-c2c9","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:29:21.027925164-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.237541327-06:00","closed_at":"2026-01-12T03:09:09.237541327-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":31.62,\"ended_at\":\"2026-01-11T04:29:20-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-c3pd","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T20:09:36.988641208-06:00","created_by":"mayor","updated_at":"2026-01-12T20:15:35.980688497-06:00","closed_at":"2026-01-12T20:15:35.980688497-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T20:09:36-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-c4y","title":"Merge: nux-mk1f9rjn","description":"branch: polecat/nux-mk1f9rjn\ntarget: main\nsource_issue: nux-mk1f9rjn\nrig: copperhead\nagent_bead: co-copperhead-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-05T11:28:32.873698577-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-06T01:15:32.076886551-06:00","closed_at":"2026-01-06T01:15:32.076886551-06:00","close_reason":"Already merged to main in commit 0b52eb0"}
{"id":"co-c7z","title":"Customer Intake Form","description":"Build a customer intake form to collect client information: company details, current IT environment (users, computers, servers, sites), pain points, and requirements. Data feeds into quote builder.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-04T22:58:50.209020464-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.652152364-06:00","closed_at":"2026-01-04T23:05:59.613534005-06:00","close_reason":"Customer intake form complete with company info, IT environment, pain points, save/load history, and Start Quote integration"}
{"id":"co-c9mo4","title":"Fix SQL: elp.estimate_id does not exist in estimate_line_products","description":"attached_molecule: co-wisp-uatzv\nattached_at: 2026-02-12T17:02:27Z\ndispatched_by: mayor\n\nThe estimate_line_products table (alias elp) has estimate_line_id, NOT estimate_id. 4 queries incorrectly reference elp.estimate_id and crash at runtime.\n\nBroken queries (all need to JOIN through estimate_line_items to reach estimate_id):\n\n1. apps/api/src/routes/estimateArea.routes.js:1448\n   WHERE elp.estimate_id = $1 → needs JOIN eli ON eli.id = elp.estimate_line_id, then WHERE eli.estimate_id = $1\n\n2. apps/api/src/services/pdf/estimatePdf.service.js:256\n   WHERE elp.estimate_id = $1 → same fix\n\n3. apps/api/src/services/pdf/estimatePdf.service.js:281\n   WHERE elp.estimate_id = $1 → same fix\n\n4. apps/api/src/services/smartScheduling.service.js:152\n   LEFT JOIN estimate_line_products elp ON elp.estimate_id = wo.estimate_id\n   → needs: LEFT JOIN estimate_line_items eli2 ON eli2.estimate_id = wo.estimate_id LEFT JOIN estimate_line_products elp ON elp.estimate_line_id = eli2.id\n\nTable schema (from migration 034): estimate_line_products has columns: id, tenant_id, estimate_line_id (FK→estimate_line_items), inventory_item_id (FK→inventory_items), quantity, unit_cost, notes, created_at, updated_at. NO estimate_id column.\n\nThe correct queries elsewhere in the codebase already JOIN: elp → estimate_line_items eli ON eli.id = elp.estimate_line_id, then filter on eli.estimate_id. See estimateArea.routes.js:1259-1264 for a working example.\n\nAlso check the warehouse.service.js:211 endpoint — there's a separate API error there that may be related or independent.","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/obsidian","created_at":"2026-02-12T11:02:04.294955687-06:00","created_by":"mayor","updated_at":"2026-02-12T11:04:17.437050587-06:00","closed_at":"2026-02-12T11:04:17.437050587-06:00","close_reason":"Fixed all 4 broken SQL queries referencing elp.estimate_id. Changed WHERE clauses in estimateArea.routes.js, estimatePdf.service.js (2 queries), and added intermediate JOIN through estimate_line_items in smartScheduling.service.js.","dependencies":[{"issue_id":"co-c9mo4","depends_on_id":"co-wisp-uatzv","type":"blocks","created_at":"2026-02-12T11:02:22.392292553-06:00","created_by":"mayor"}]}
{"id":"co-ca16","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T03:42:42.185151325-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:14.151939645-06:00","closed_at":"2026-01-22T22:38:14.151939645-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T03:42:42-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-cblp","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:03:57.763132087-06:00","created_by":"mayor","updated_at":"2026-01-12T18:04:35.182305657-06:00","closed_at":"2026-01-12T18:04:35.182305657-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:03:57-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ccwsr","title":"Work Order Edit Page - full page form for editing work orders","description":"attached_molecule: co-wisp-ehv\nattached_at: 2026-01-25T06:20:15Z\ndispatched_by: mayor\n\n## Work Order Edit Page\n\nCreate a full-page form for editing work orders at `/dispatch/work-orders/:id/edit`.\n\n### Why\n- Current edit is a modal in FieldOpsApp.js (~600 lines, lines 4281-4878)\n- Modals don't work well on tablets/smaller screens\n- Need a proper page-based edit experience\n\n### Requirements\n1. Create `WorkOrderEditPage.jsx` in `apps/web/src/pages/dispatch/`\n2. Add route `/dispatch/work-orders/:id/edit` in App.js\n3. Include ALL fields from the current modal:\n\n**From Estimate (read-only or pre-filled):**\n- Client, Contact, Phone, Address\n- Reference Number (Estimate #)\n- Scope of Work\n- Estimated Hours\n- Priority, Market\n- Tasks, Required Parts\n- QB Estimate, Customer PO references\n\n**Dispatch-side (editable):**\n- Work Type, Work Phase\n- Status\n- Scheduled Date/Time\n- Assigned Technician, Truck\n- Details/Notes\n\n**Features to include:**\n- Template application\n- Parts management (add/remove)\n- Tasks management (add/remove/reorder/complete)\n- Customer signature display (if exists)\n- Action buttons: Materials, Messages, Hold, Cancel\n- Save/Cancel buttons\n\n### Reference\n- Modal code: `apps/web/src/components/FieldOpsApp.js:4281-4878`\n- Detail page: `apps/web/src/pages/dispatch/WorkOrderDetailPage.jsx`\n\n### After completion\n- Edit button on WorkOrderDetailPage should link to `/dispatch/work-orders/:id/edit`\n- Save should redirect back to detail page\n- Cancel should navigate back to detail page","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/garnet","created_at":"2026-01-25T00:15:54.048269422-06:00","created_by":"mayor","updated_at":"2026-01-25T00:25:42.856231295-06:00","closed_at":"2026-01-25T00:25:42.856231295-06:00","close_reason":"Closed","labels":["dispatch","feature","ui"]}
{"id":"co-cdihq","title":"Dispatcher scheduling dashboard UI","description":"attached_molecule: co-wisp-clqp\nattached_at: 2026-01-29T20:02:46Z\ndispatched_by: mayor\n\nBackend smart scheduling is complete but has no UI for dispatchers.\n\n## Current State\n- `smartScheduling.service.js` - Traffic-aware, skill-matched scheduling ready\n- `schedulingWorker.js` - Parts availability triggers ready\n- `customer_preferences` table - Ready but unused in UI\n\n## Requirements\n1. **Dashboard view** showing:\n   - Unscheduled work orders with parts_status = 'ready'\n   - Suggested technician assignments (skill + proximity)\n   - Traffic-aware travel time estimates\n   - Customer preference indicators\n\n2. **Optimize My Day** button:\n   - Reorder a tech's schedule to minimize travel\n   - Show before/after travel time comparison\n\n3. **Drag-and-drop scheduling**:\n   - Visual calendar for each technician\n   - Drag WOs to time slots\n   - Show conflicts (double-booking, skill mismatch)\n\n## Technical Notes\n- Use existing `/api/scheduling/*` endpoints\n- Frontend: React components in apps/mobile or apps/web\n- Consider mobile-first (dispatchers may use tablets)","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/copperhead-63","created_at":"2026-01-29T13:54:19.909223832-06:00","created_by":"mayor","updated_at":"2026-01-29T14:08:31.311155528-06:00","closed_at":"2026-01-29T14:08:31.311155528-06:00","close_reason":"Implemented dispatcher scheduling dashboard with all required features: unscheduled WO view with parts status, technician suggestions, Optimize My Day button, drag-drop calendar","labels":["scheduling","ui"],"dependencies":[{"issue_id":"co-cdihq","depends_on_id":"co-wisp-clqp","type":"blocks","created_at":"2026-01-29T14:02:40.055192483-06:00","created_by":"mayor"}]}
{"id":"co-cgki","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:23:03.095745269-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.304837043-06:00","closed_at":"2026-01-12T03:09:07.304837043-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:23:03-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ciys","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T06:59:28.701552541-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.672306053-06:00","closed_at":"2026-01-12T03:09:08.672306053-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T06:59:28-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-cjaw","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T15:05:10.547351144-06:00","created_by":"mayor","updated_at":"2026-01-12T15:24:56.86769552-06:00","closed_at":"2026-01-12T15:24:56.86769552-06:00","close_reason":"Session ended - stale event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T15:05:10-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ck2","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:44:30.304645853-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.704925352-06:00","closed_at":"2026-01-12T03:09:09.704925352-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:44:30-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ckg","title":"AI parsing: Match parsed items to cost_items catalog","description":"After AI extracts entities from natural language, search cost_items table to find matching products. Use fuzzy matching, category filters, and attribute matching.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T19:29:05.781456606-06:00","created_by":"mayor","updated_at":"2026-01-10T20:42:31.817741009-06:00","closed_at":"2026-01-10T20:42:31.817741009-06:00","close_reason":"Duplicate of co-3tg (completed)"}
{"id":"co-ckn3","title":"Session ended: gt-copperhead-nightrider","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:16:38.254529769-06:00","created_by":"copperhead/polecats/nightrider","updated_at":"2026-01-22T22:28:11.001676235-06:00","closed_at":"2026-01-22T22:28:11.001676235-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/nightrider","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:16:38-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-nightrider\",\"worker\":\"nightrider\"}"}
{"id":"co-copperhead-polecat-ace","title":"co-copperhead-polecat-ace","description":"co-copperhead-polecat-ace\n\nrole_type: polecat\nrig: copperhead\nagent_state: running\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-05T11:22:53.11762589-06:00","created_by":"copperhead/polecats/ace","updated_at":"2026-02-10T20:52:22.731918492-06:00","closed_at":"2026-02-10T20:52:22.731918492-06:00","close_reason":"Stale agent/convoy - cleanup","labels":["agent_state:idle"],"deleted_at":"2026-01-21T01:46:47.828465843-06:00","deleted_by":"mayor","delete_reason":"delete","original_type":"agent","agent_state":"running","last_activity":"2026-01-15T04:57:11.034039815-06:00"}
{"id":"co-copperhead-polecat-ace.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: triage: normalizing missing state","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T22:09:36.768559155-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T22:21:07.013105963-06:00","closed_at":"2026-01-12T22:21:07.013105963-06:00","close_reason":"triage: stale event"}
{"id":"co-copperhead-polecat-agate","title":"co-copperhead-polecat-agate","description":"co-copperhead-polecat-agate\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-27T17:44:33.667657194-06:00","created_by":"mayor","updated_at":"2026-02-10T18:53:33.450369496-06:00","closed_at":"2026-02-10T18:53:33.450369496-06:00","close_reason":"nuked","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-amazonite","title":"co-copperhead-polecat-amazonite","description":"co-copperhead-polecat-amazonite\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-81hn8\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T01:45:08.71185068-06:00","created_by":"mayor","updated_at":"2026-02-05T14:48:54.016145615-06:00","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-05T14:45:21.098788195-06:00"}
{"id":"co-copperhead-polecat-amber","title":"co-copperhead-polecat-amber","description":"co-copperhead-polecat-amber\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-27T02:52:25.725975304-06:00","created_by":"mayor","updated_at":"2026-02-12T02:25:15.028967778-06:00","closed_at":"2026-02-12T02:25:15.028967778-06:00","close_reason":"nuked","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-12T02:10:40.723681869-06:00"}
{"id":"co-copperhead-polecat-amethyst","title":"co-copperhead-polecat-amethyst","description":"co-copperhead-polecat-amethyst\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-27T21:57:34.36997595-06:00","created_by":"mayor","updated_at":"2026-02-04T11:47:38.964698976-06:00","closed_at":"2026-02-04T11:07:45.852667724-06:00","close_reason":"polecat removed","labels":["gt:agent"],"hook_bead":"co-sqjje"}
{"id":"co-copperhead-polecat-angharad.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: Triage: reset stuck spawning polecat to idle","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T19:45:39.957231973-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T19:48:12.842311808-06:00","closed_at":"2026-01-12T19:48:12.842311808-06:00","close_reason":"Triage: state change event"}
{"id":"co-copperhead-polecat-aventurine","title":"co-copperhead-polecat-aventurine","description":"co-copperhead-polecat-aventurine\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-y2vb2\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T01:50:42.332798932-06:00","created_by":"mayor","updated_at":"2026-02-05T20:53:02.290573197-06:00","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-05T20:52:58.074179399-06:00"}
{"id":"co-copperhead-polecat-basalt","title":"co-copperhead-polecat-basalt","description":"co-copperhead-polecat-basalt\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-27T02:55:11.482189618-06:00","created_by":"mayor","updated_at":"2026-02-03T22:12:19.015629912-06:00","closed_at":"2026-01-29T00:47:21.665272693-06:00","close_reason":"nuked","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-bloodstone","title":"co-copperhead-polecat-bloodstone","description":"co-copperhead-polecat-bloodstone\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-28T02:45:52.363125959-06:00","created_by":"mayor","updated_at":"2026-02-04T22:35:46.378133749-06:00","closed_at":"2026-01-29T00:47:33.59857652-06:00","close_reason":"nuked","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-bullet.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: Triage: reset stuck spawning polecat to idle","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T19:45:39.9992757-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T19:48:12.792561462-06:00","closed_at":"2026-01-12T19:48:12.792561462-06:00","close_reason":"Triage: state change event"}
{"id":"co-copperhead-polecat-calcite","title":"co-copperhead-polecat-calcite","description":"co-copperhead-polecat-calcite\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-ter0n\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-28T18:56:59.152752197-06:00","created_by":"mayor","updated_at":"2026-02-05T00:49:15.158495123-06:00","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-05T00:49:10.818721106-06:00"}
{"id":"co-copperhead-polecat-capable","title":"co-copperhead-polecat-capable","description":"co-copperhead-polecat-capable\n\nrole_type: polecat\nrig: copperhead\nagent_state: idle\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: has_stash\nactive_mr: co-8xhn\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-05T11:22:23.422129622-06:00","created_by":"copperhead/polecats/capable","updated_at":"2026-02-10T20:52:24.618769254-06:00","closed_at":"2026-02-10T20:52:24.618769254-06:00","close_reason":"Stale agent/convoy - cleanup","labels":["agent_state:idle"],"deleted_at":"2026-01-21T01:46:49.751724345-06:00","deleted_by":"mayor","delete_reason":"delete","original_type":"agent","agent_state":"done","last_activity":"2026-01-16T17:29:44.030726667-06:00"}
{"id":"co-copperhead-polecat-capable.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: Triage cleanup - marking idle","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T14:34:08.359062262-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T14:43:21.454277984-06:00","closed_at":"2026-01-12T14:43:21.454277984-06:00","close_reason":"Triaged: state change event acknowledged"}
{"id":"co-copperhead-polecat-carnelian","title":"co-copperhead-polecat-carnelian","description":"co-copperhead-polecat-carnelian\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-29T01:47:12.892709841-06:00","created_by":"mayor","updated_at":"2026-02-08T21:01:15.686156549-06:00","closed_at":"2026-02-05T20:38:48.945941342-06:00","close_reason":"polecat removed","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-05T20:42:29.285599746-06:00"}
{"id":"co-copperhead-polecat-chalcedony","title":"co-copperhead-polecat-chalcedony","description":"co-copperhead-polecat-chalcedony\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-rrvnb\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T01:46:11.623535225-06:00","created_by":"mayor","updated_at":"2026-02-05T15:41:38.521472953-06:00","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-05T15:41:31.217180129-06:00"}
{"id":"co-copperhead-polecat-chrysoprase","title":"co-copperhead-polecat-chrysoprase","description":"co-copperhead-polecat-chrysoprase\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-plctl\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T01:51:44.381902058-06:00","created_by":"mayor","updated_at":"2026-02-05T20:54:18.113973606-06:00","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-05T20:54:13.74001955-06:00"}
{"id":"co-copperhead-polecat-citrine","title":"co-copperhead-polecat-citrine","description":"co-copperhead-polecat-citrine\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-jkr8f\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-28T01:41:17.434598504-06:00","created_by":"mayor","updated_at":"2026-01-28T01:41:18.468374827-06:00","labels":["gt:agent"],"hook_bead":"co-jkr8f"}
{"id":"co-copperhead-polecat-coma.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: triage: normalizing missing state","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T22:09:36.564489948-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T22:21:07.215208161-06:00","closed_at":"2026-01-12T22:21:07.215208161-06:00","close_reason":"triage: stale event"}
{"id":"co-copperhead-polecat-copperhead-100","title":"co-copperhead-polecat-copperhead-100","description":"co-copperhead-polecat-copperhead-100\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-02-09T17:29:58.338073513-06:00","created_by":"kaos","updated_at":"2026-02-10T17:56:48.049376389-06:00","closed_at":"2026-02-10T17:56:48.049376389-06:00","close_reason":"nuked","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-09T17:30:19.881102501-06:00"}
{"id":"co-copperhead-polecat-copperhead-101","title":"co-copperhead-polecat-copperhead-101","description":"co-copperhead-polecat-copperhead-101\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-9g96l\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-09T17:34:00.048326734-06:00","created_by":"kaos","updated_at":"2026-02-09T17:34:21.194436853-06:00","labels":["gt:agent"],"hook_bead":"co-9g96l","agent_state":"working","last_activity":"2026-02-09T17:34:21.19409233-06:00"}
{"id":"co-copperhead-polecat-copperhead-102","title":"co-copperhead-polecat-copperhead-102","description":"co-copperhead-polecat-copperhead-102\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-dffvg\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-09T18:33:50.133114195-06:00","created_by":"kaos","updated_at":"2026-02-09T18:34:12.154238354-06:00","labels":["gt:agent"],"hook_bead":"co-dffvg","agent_state":"working","last_activity":"2026-02-09T18:34:12.153891026-06:00"}
{"id":"co-copperhead-polecat-copperhead-103","title":"co-copperhead-polecat-copperhead-103","description":"co-copperhead-polecat-copperhead-103\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-xfce6\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-09T18:37:04.344864679-06:00","created_by":"kaos","updated_at":"2026-02-09T18:37:25.613872728-06:00","labels":["gt:agent"],"hook_bead":"co-xfce6","agent_state":"working","last_activity":"2026-02-09T18:37:25.613502387-06:00"}
{"id":"co-copperhead-polecat-copperhead-104","title":"co-copperhead-polecat-copperhead-104","description":"co-copperhead-polecat-copperhead-104\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-rqctv\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-09T19:41:43.001047795-06:00","created_by":"kaos","updated_at":"2026-02-09T19:42:05.087182146-06:00","labels":["gt:agent"],"hook_bead":"co-rqctv","agent_state":"working","last_activity":"2026-02-09T19:42:05.086794433-06:00"}
{"id":"co-copperhead-polecat-copperhead-105","title":"co-copperhead-polecat-copperhead-105","description":"co-copperhead-polecat-copperhead-105\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-gr2mn\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-10T00:53:15.533115881-06:00","created_by":"kaos","updated_at":"2026-02-10T00:53:16.544481196-06:00","labels":["gt:agent"],"hook_bead":"co-gr2mn"}
{"id":"co-copperhead-polecat-copperhead-106","title":"co-copperhead-polecat-copperhead-106","description":"co-copperhead-polecat-copperhead-106\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-gr2mn\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-10T00:55:12.823421228-06:00","created_by":"kaos","updated_at":"2026-02-10T00:55:34.561330092-06:00","labels":["gt:agent"],"hook_bead":"co-gr2mn","agent_state":"working","last_activity":"2026-02-10T00:55:34.560990855-06:00"}
{"id":"co-copperhead-polecat-copperhead-107","title":"co-copperhead-polecat-copperhead-107","description":"co-copperhead-polecat-copperhead-107\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-5qckt\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-10T01:08:03.23690036-06:00","created_by":"kaos","updated_at":"2026-02-10T01:08:24.940653981-06:00","labels":["gt:agent"],"hook_bead":"co-5qckt","agent_state":"working","last_activity":"2026-02-10T01:08:24.940166452-06:00"}
{"id":"co-copperhead-polecat-copperhead-51","title":"co-copperhead-polecat-copperhead-51","description":"co-copperhead-polecat-copperhead-51\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-xqh9r\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T01:54:29.611733014-06:00","created_by":"mayor","updated_at":"2026-01-29T01:54:30.730110159-06:00","labels":["gt:agent"],"hook_bead":"co-xqh9r"}
{"id":"co-copperhead-polecat-copperhead-52","title":"co-copperhead-polecat-copperhead-52","description":"co-copperhead-polecat-copperhead-52\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-4jhyx\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T02:06:39.541972029-06:00","created_by":"mayor","updated_at":"2026-01-29T02:08:19.451587644-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-53","title":"co-copperhead-polecat-copperhead-53","description":"co-copperhead-polecat-copperhead-53\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-f0zrp\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T02:31:09.430649221-06:00","created_by":"mayor","updated_at":"2026-01-29T02:31:10.051592826-06:00","labels":["gt:agent"],"hook_bead":"co-f0zrp"}
{"id":"co-copperhead-polecat-copperhead-54","title":"co-copperhead-polecat-copperhead-54","description":"co-copperhead-polecat-copperhead-54\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-y2vb2\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T02:41:01.873484466-06:00","created_by":"mayor","updated_at":"2026-01-29T02:41:02.848583128-06:00","labels":["gt:agent"],"hook_bead":"co-y2vb2"}
{"id":"co-copperhead-polecat-copperhead-55","title":"co-copperhead-polecat-copperhead-55","description":"co-copperhead-polecat-copperhead-55\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-plctl\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T02:42:13.89936305-06:00","created_by":"mayor","updated_at":"2026-01-29T02:47:21.282950297-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-56","title":"co-copperhead-polecat-copperhead-56","description":"co-copperhead-polecat-copperhead-56\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-ne0dp\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T02:43:26.010618201-06:00","created_by":"mayor","updated_at":"2026-01-29T02:43:26.748512579-06:00","labels":["gt:agent"],"hook_bead":"co-ne0dp"}
{"id":"co-copperhead-polecat-copperhead-57","title":"co-copperhead-polecat-copperhead-57","description":"co-copperhead-polecat-copperhead-57\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-29T02:59:17.796523389-06:00","created_by":"mayor","updated_at":"2026-01-29T03:07:11.377442906-06:00","closed_at":"2026-01-29T03:07:11.377442906-06:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-58","title":"co-copperhead-polecat-copperhead-58","description":"co-copperhead-polecat-copperhead-58\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-3u6mz\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T03:03:52.75425614-06:00","created_by":"mayor","updated_at":"2026-01-29T03:03:53.948263531-06:00","labels":["gt:agent"],"hook_bead":"co-3u6mz"}
{"id":"co-copperhead-polecat-copperhead-59","title":"co-copperhead-polecat-copperhead-59","description":"co-copperhead-polecat-copperhead-59\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: hq-r3o9\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T12:48:03.002571893-06:00","created_by":"mayor","updated_at":"2026-01-29T12:48:03.002571893-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-60","title":"co-copperhead-polecat-copperhead-60","description":"co-copperhead-polecat-copperhead-60\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-3oy23\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T12:53:10.354703233-06:00","created_by":"mayor","updated_at":"2026-01-29T12:53:11.056552786-06:00","labels":["gt:agent"],"hook_bead":"co-3oy23"}
{"id":"co-copperhead-polecat-copperhead-61","title":"co-copperhead-polecat-copperhead-61","description":"co-copperhead-polecat-copperhead-61\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-29T13:40:23.502840118-06:00","created_by":"mayor","updated_at":"2026-01-29T13:45:35.418911376-06:00","closed_at":"2026-01-29T13:45:35.418911376-06:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-62","title":"co-copperhead-polecat-copperhead-62","description":"co-copperhead-polecat-copperhead-62\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-hez5d\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T13:53:19.17424391-06:00","created_by":"mayor","updated_at":"2026-01-29T13:59:34.584164163-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-63","title":"co-copperhead-polecat-copperhead-63","description":"co-copperhead-polecat-copperhead-63\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-cdihq\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T14:02:07.682203702-06:00","created_by":"mayor","updated_at":"2026-01-29T14:02:08.492377725-06:00","labels":["gt:agent"],"hook_bead":"co-cdihq"}
{"id":"co-copperhead-polecat-copperhead-64","title":"co-copperhead-polecat-copperhead-64","description":"co-copperhead-polecat-copperhead-64\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-23zcm\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T14:03:41.798942944-06:00","created_by":"mayor","updated_at":"2026-01-29T14:03:42.559530421-06:00","labels":["gt:agent"],"hook_bead":"co-23zcm"}
{"id":"co-copperhead-polecat-copperhead-65","title":"co-copperhead-polecat-copperhead-65","description":"co-copperhead-polecat-copperhead-65\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: hq-pztm\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-29T16:13:40.133075552-06:00","created_by":"mayor","updated_at":"2026-01-29T16:20:45.86952019-06:00","closed_at":"2026-01-29T16:20:45.86952019-06:00","close_reason":"Created seedBetaTesterScenarios.js with 4 customer scenarios (Acme, Riverside, Summit, Harbor). npm script added. Branch pushed.","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-66","title":"co-copperhead-polecat-copperhead-66","description":"co-copperhead-polecat-copperhead-66\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: hq-c79s\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T16:16:29.276315435-06:00","created_by":"mayor","updated_at":"2026-01-29T16:16:29.276315435-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-67","title":"co-copperhead-polecat-copperhead-67","description":"co-copperhead-polecat-copperhead-67\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-1iz6g\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T16:19:39.985792192-06:00","created_by":"mayor","updated_at":"2026-01-29T16:19:41.985274388-06:00","labels":["gt:agent"],"hook_bead":"co-1iz6g"}
{"id":"co-copperhead-polecat-copperhead-68","title":"co-copperhead-polecat-copperhead-68","description":"co-copperhead-polecat-copperhead-68\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-yepdt\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T16:23:55.665012428-06:00","created_by":"mayor","updated_at":"2026-01-29T16:27:13.060167058-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-69","title":"co-copperhead-polecat-copperhead-69","description":"co-copperhead-polecat-copperhead-69\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-1iz6g\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T16:29:20.878049917-06:00","created_by":"mayor","updated_at":"2026-01-29T16:29:22.452621885-06:00","labels":["gt:agent"],"hook_bead":"co-1iz6g"}
{"id":"co-copperhead-polecat-copperhead-70","title":"co-copperhead-polecat-copperhead-70","description":"co-copperhead-polecat-copperhead-70\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-1iz6g\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T16:36:36.220738041-06:00","created_by":"mayor","updated_at":"2026-01-29T16:36:38.316874237-06:00","labels":["gt:agent"],"hook_bead":"co-1iz6g"}
{"id":"co-copperhead-polecat-copperhead-71","title":"co-copperhead-polecat-copperhead-71","description":"co-copperhead-polecat-copperhead-71\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-jqsyl.1\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T18:01:18.284837283-06:00","created_by":"mayor","updated_at":"2026-01-29T21:01:42.056353766-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-72","title":"co-copperhead-polecat-copperhead-72","description":"co-copperhead-polecat-copperhead-72\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-jqsyl.3\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T18:06:17.729400464-06:00","created_by":"mayor","updated_at":"2026-01-29T21:11:24.699130014-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-73","title":"co-copperhead-polecat-copperhead-73","description":"co-copperhead-polecat-copperhead-73\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-jqsyl.2\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T18:10:08.923761416-06:00","created_by":"mayor","updated_at":"2026-01-29T21:07:15.894599002-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-74","title":"co-copperhead-polecat-copperhead-74","description":"co-copperhead-polecat-copperhead-74\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-jqsyl.4\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T18:17:45.333776994-06:00","created_by":"mayor","updated_at":"2026-01-29T18:17:45.333776994-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-75","title":"co-copperhead-polecat-copperhead-75","description":"co-copperhead-polecat-copperhead-75\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-jqsyl.4\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T18:33:56.704714481-06:00","created_by":"mayor","updated_at":"2026-01-29T18:33:58.644436374-06:00","labels":["gt:agent"],"hook_bead":"co-jqsyl.4"}
{"id":"co-copperhead-polecat-copperhead-76","title":"co-copperhead-polecat-copperhead-76","description":"co-copperhead-polecat-copperhead-76\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-jh350\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T20:09:21.268827636-06:00","created_by":"mayor","updated_at":"2026-01-29T20:12:42.486840771-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-77","title":"co-copperhead-polecat-copperhead-77","description":"co-copperhead-polecat-copperhead-77\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: hq-pztm\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T20:30:59.163551505-06:00","created_by":"mayor","updated_at":"2026-01-29T20:30:59.163551505-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-78","title":"co-copperhead-polecat-copperhead-78","description":"co-copperhead-polecat-copperhead-78\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-zqyu9\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-30T02:53:39.433674289-06:00","created_by":"mayor","updated_at":"2026-01-30T02:53:43.622048303-06:00","labels":["gt:agent"],"hook_bead":"co-zqyu9"}
{"id":"co-copperhead-polecat-copperhead-79","title":"co-copperhead-polecat-copperhead-79","description":"co-copperhead-polecat-copperhead-79\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-zwrxj\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-30T23:03:23.206908016-06:00","created_by":"mayor","updated_at":"2026-01-30T23:03:25.313790222-06:00","labels":["gt:agent"],"hook_bead":"co-zwrxj"}
{"id":"co-copperhead-polecat-copperhead-80","title":"co-copperhead-polecat-copperhead-80","description":"co-copperhead-polecat-copperhead-80\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-oz4o9\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-31T02:47:10.656456709-06:00","created_by":"mayor","updated_at":"2026-01-31T02:47:13.683713943-06:00","labels":["gt:agent"],"hook_bead":"co-oz4o9"}
{"id":"co-copperhead-polecat-copperhead-81","title":"co-copperhead-polecat-copperhead-81","description":"co-copperhead-polecat-copperhead-81\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-mu01a\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-31T21:59:27.608016818-06:00","created_by":"mayor","updated_at":"2026-01-31T21:59:29.008500785-06:00","labels":["gt:agent"],"hook_bead":"co-mu01a"}
{"id":"co-copperhead-polecat-copperhead-82","title":"co-copperhead-polecat-copperhead-82","description":"co-copperhead-polecat-copperhead-82\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-3bfpv\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T16:32:46.921227257-06:00","created_by":"kaos","updated_at":"2026-02-08T16:32:48.657054795-06:00","labels":["gt:agent"],"hook_bead":"co-3bfpv"}
{"id":"co-copperhead-polecat-copperhead-83","title":"co-copperhead-polecat-copperhead-83","description":"co-copperhead-polecat-copperhead-83\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-fceq4\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T16:34:02.494483825-06:00","created_by":"kaos","updated_at":"2026-02-08T16:34:04.237170406-06:00","labels":["gt:agent"],"hook_bead":"co-fceq4"}
{"id":"co-copperhead-polecat-copperhead-84","title":"co-copperhead-polecat-copperhead-84","description":"co-copperhead-polecat-copperhead-84\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-zhssr\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T16:35:18.30143101-06:00","created_by":"kaos","updated_at":"2026-02-08T16:35:19.958064199-06:00","labels":["gt:agent"],"hook_bead":"co-zhssr"}
{"id":"co-copperhead-polecat-copperhead-85","title":"co-copperhead-polecat-copperhead-85","description":"co-copperhead-polecat-copperhead-85\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-nh5wq\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T16:36:35.005409817-06:00","created_by":"kaos","updated_at":"2026-02-08T16:36:36.688643346-06:00","labels":["gt:agent"],"hook_bead":"co-nh5wq"}
{"id":"co-copperhead-polecat-copperhead-86","title":"co-copperhead-polecat-copperhead-86","description":"co-copperhead-polecat-copperhead-86\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-p2v3u\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T16:37:41.010941107-06:00","created_by":"kaos","updated_at":"2026-02-08T16:37:42.781119382-06:00","labels":["gt:agent"],"hook_bead":"co-p2v3u"}
{"id":"co-copperhead-polecat-copperhead-87","title":"co-copperhead-polecat-copperhead-87","description":"co-copperhead-polecat-copperhead-87\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-ixi7v\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T16:39:03.022851206-06:00","created_by":"kaos","updated_at":"2026-02-08T16:39:04.762424027-06:00","labels":["gt:agent"],"hook_bead":"co-ixi7v"}
{"id":"co-copperhead-polecat-copperhead-88","title":"co-copperhead-polecat-copperhead-88","description":"co-copperhead-polecat-copperhead-88\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-3bfpv\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T16:40:38.004191686-06:00","created_by":"kaos","updated_at":"2026-02-08T16:41:00.806924433-06:00","labels":["gt:agent"],"hook_bead":"co-3bfpv","agent_state":"working","last_activity":"2026-02-08T16:41:00.806508056-06:00"}
{"id":"co-copperhead-polecat-copperhead-89","title":"co-copperhead-polecat-copperhead-89","description":"co-copperhead-polecat-copperhead-89\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-fceq4\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T16:42:28.735885042-06:00","created_by":"kaos","updated_at":"2026-02-08T16:42:49.456434392-06:00","labels":["gt:agent"],"hook_bead":"co-fceq4","agent_state":"working","last_activity":"2026-02-08T16:42:49.456056222-06:00"}
{"id":"co-copperhead-polecat-copperhead-90","title":"co-copperhead-polecat-copperhead-90","description":"co-copperhead-polecat-copperhead-90\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-zhssr\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T16:44:19.363343676-06:00","created_by":"kaos","updated_at":"2026-02-08T16:44:40.913510097-06:00","labels":["gt:agent"],"hook_bead":"co-zhssr","agent_state":"working","last_activity":"2026-02-08T16:44:40.913153182-06:00"}
{"id":"co-copperhead-polecat-copperhead-91","title":"co-copperhead-polecat-copperhead-91","description":"co-copperhead-polecat-copperhead-91\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-nh5wq\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T16:45:50.416975716-06:00","created_by":"kaos","updated_at":"2026-02-08T16:50:30.690356148-06:00","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-08T16:46:12.716547425-06:00"}
{"id":"co-copperhead-polecat-copperhead-92","title":"co-copperhead-polecat-copperhead-92","description":"co-copperhead-polecat-copperhead-92\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-p2v3u\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T16:47:22.620502839-06:00","created_by":"kaos","updated_at":"2026-02-08T16:47:44.214382347-06:00","labels":["gt:agent"],"hook_bead":"co-p2v3u","agent_state":"working","last_activity":"2026-02-08T16:47:44.21389304-06:00"}
{"id":"co-copperhead-polecat-copperhead-93","title":"co-copperhead-polecat-copperhead-93","description":"co-copperhead-polecat-copperhead-93\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-ixi7v\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T16:48:56.419248799-06:00","created_by":"kaos","updated_at":"2026-02-08T16:49:19.98276117-06:00","labels":["gt:agent"],"hook_bead":"co-ixi7v","agent_state":"working","last_activity":"2026-02-08T16:49:19.982344868-06:00"}
{"id":"co-copperhead-polecat-copperhead-94","title":"co-copperhead-polecat-copperhead-94","description":"co-copperhead-polecat-copperhead-94\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-zpmi2\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T20:06:40.412732122-06:00","created_by":"kaos","updated_at":"2026-02-08T20:07:03.641871843-06:00","labels":["gt:agent"],"hook_bead":"co-zpmi2","agent_state":"working","last_activity":"2026-02-08T20:07:03.641498571-06:00"}
{"id":"co-copperhead-polecat-copperhead-95","title":"co-copperhead-polecat-copperhead-95","description":"co-copperhead-polecat-copperhead-95\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-ji25w\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T20:08:16.569782322-06:00","created_by":"kaos","updated_at":"2026-02-08T20:08:38.750199278-06:00","labels":["gt:agent"],"hook_bead":"co-ji25w","agent_state":"working","last_activity":"2026-02-08T20:08:38.749791259-06:00"}
{"id":"co-copperhead-polecat-copperhead-96","title":"co-copperhead-polecat-copperhead-96","description":"co-copperhead-polecat-copperhead-96\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-u6ylg\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-08T20:09:56.359720616-06:00","created_by":"kaos","updated_at":"2026-02-08T20:10:18.584994561-06:00","labels":["gt:agent"],"hook_bead":"co-u6ylg","agent_state":"working","last_activity":"2026-02-08T20:10:18.58462672-06:00"}
{"id":"co-copperhead-polecat-copperhead-97","title":"co-copperhead-polecat-copperhead-97","description":"co-copperhead-polecat-copperhead-97\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-rq8ka\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-09T09:11:53.434472258-06:00","created_by":"kaos","updated_at":"2026-02-09T09:12:21.395050219-06:00","labels":["gt:agent"],"hook_bead":"co-rq8ka","agent_state":"working","last_activity":"2026-02-09T09:12:21.394339694-06:00"}
{"id":"co-copperhead-polecat-copperhead-98","title":"co-copperhead-polecat-copperhead-98","description":"co-copperhead-polecat-copperhead-98\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: hq-8mv5\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-09T17:25:36.475793939-06:00","created_by":"kaos","updated_at":"2026-02-09T17:25:36.475793939-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-copperhead-99","title":"co-copperhead-polecat-copperhead-99","description":"co-copperhead-polecat-copperhead-99\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: hq-8mv5\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-02-09T17:27:56.761414278-06:00","created_by":"kaos","updated_at":"2026-02-09T17:27:56.761414278-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-coral","title":"co-copperhead-polecat-coral","description":"co-copperhead-polecat-coral\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-hc3qs\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-28T01:43:40.594206325-06:00","created_by":"mayor","updated_at":"2026-02-04T11:55:27.532694095-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-dementus","title":"co-copperhead-polecat-dementus","description":"co-copperhead-polecat-dementus\n\nrole_type: polecat\nrig: copperhead\nagent_state: idle\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: has_stash\nactive_mr: co-ahmq\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-06T01:18:22.035907424-06:00","created_by":"copperhead/polecats/dementus","updated_at":"2026-02-10T20:52:19.788362606-06:00","closed_at":"2026-02-10T20:52:19.788362606-06:00","close_reason":"Stale agent/convoy - cleanup","labels":["agent_state:idle"],"deleted_at":"2026-01-21T01:46:52.221845781-06:00","deleted_by":"mayor","delete_reason":"delete","original_type":"agent","agent_state":"done","last_activity":"2026-01-14T00:36:26.021672692-06:00"}
{"id":"co-copperhead-polecat-diamond","title":"co-copperhead-polecat-diamond","description":"co-copperhead-polecat-diamond\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-w00qa\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-27T21:56:55.523556964-06:00","created_by":"mayor","updated_at":"2026-02-04T11:00:16.503212415-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-emerald","title":"co-copperhead-polecat-emerald","description":"co-copperhead-polecat-emerald\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-27T21:34:17.822096287-06:00","created_by":"mayor","updated_at":"2026-02-04T10:56:39.667798981-06:00","closed_at":"2026-02-03T23:10:04.765327425-06:00","close_reason":"polecat removed","labels":["gt:agent"],"hook_bead":"co-5jeah"}
{"id":"co-copperhead-polecat-flint","title":"co-copperhead-polecat-flint","description":"co-copperhead-polecat-flint\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-27T02:53:59.85999199-06:00","created_by":"mayor","updated_at":"2026-02-03T21:47:15.960167112-06:00","closed_at":"2026-01-27T16:59:39.114627521-06:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-fluorite","title":"co-copperhead-polecat-fluorite","description":"co-copperhead-polecat-fluorite\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-45b59\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T00:37:35.654368398-06:00","created_by":"mayor","updated_at":"2026-02-05T01:04:57.320153834-06:00","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-05T01:02:28.402628367-06:00"}
{"id":"co-copperhead-polecat-forge","title":"co-copperhead-polecat-forge","description":"co-copperhead-polecat-forge\n\nrole_type: polecat\nrig: copperhead\nagent_state: running\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: has_stash\nactive_mr: co-ss4\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-05T16:08:00.70485167-06:00","created_by":"copperhead/polecats/forge","updated_at":"2026-02-10T20:52:20.731585048-06:00","closed_at":"2026-02-10T20:52:20.731585048-06:00","close_reason":"Stale agent/convoy - cleanup"}
{"id":"co-copperhead-polecat-furiosa","title":"co-copperhead-polecat-furiosa","description":"co-copperhead-polecat-furiosa\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-05T11:06:34.689285003-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-23T22:39:12.56837189-06:00","closed_at":"2026-01-23T22:39:12.56837189-06:00","close_reason":"nuked","labels":["agent_state:idle","gt:agent"],"deleted_at":"2026-01-22T23:52:54.137721555-06:00","deleted_by":"mayor","delete_reason":"delete","original_type":"agent","agent_state":"done","last_activity":"2026-01-21T03:29:14.554421172-06:00"}
{"id":"co-copperhead-polecat-furiosa.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: Triage cleanup - marking idle","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T14:34:08.480551097-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T14:43:21.346203202-06:00","closed_at":"2026-01-12T14:43:21.346203202-06:00","close_reason":"Triaged: state change event acknowledged"}
{"id":"co-copperhead-polecat-garnet","title":"co-copperhead-polecat-garnet","description":"co-copperhead-polecat-garnet\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-24T23:27:40.145742377-06:00","created_by":"mayor","updated_at":"2026-02-12T02:16:29.395838285-06:00","closed_at":"2026-02-12T02:16:29.395838285-06:00","close_reason":"nuked","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-12T02:03:10.31685037-06:00"}
{"id":"co-copperhead-polecat-granite","title":"co-copperhead-polecat-granite","description":"co-copperhead-polecat-granite\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-27T02:54:37.526047278-06:00","created_by":"mayor","updated_at":"2026-02-03T22:08:32.23081447-06:00","closed_at":"2026-01-27T14:06:02.224182613-06:00","close_reason":"nuked","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-heliodor","title":"co-copperhead-polecat-heliodor","description":"co-copperhead-polecat-heliodor\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-ne0dp\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T01:53:22.782661304-06:00","created_by":"mayor","updated_at":"2026-02-05T21:05:35.406840177-06:00","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-05T21:05:30.572718846-06:00"}
{"id":"co-copperhead-polecat-hematite","title":"co-copperhead-polecat-hematite","description":"co-copperhead-polecat-hematite\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-z6la0\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-28T12:16:10.390476184-06:00","created_by":"mayor","updated_at":"2026-02-04T22:51:27.116822006-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-immortan.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: Triage: reset stuck spawning polecat to idle","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T19:45:40.040604832-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T19:48:12.738066076-06:00","closed_at":"2026-01-12T19:48:12.738066076-06:00","close_reason":"Triage: state change event"}
{"id":"co-copperhead-polecat-imperator.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: triage: normalizing missing state","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T22:09:36.650797984-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T22:21:07.135514667-06:00","closed_at":"2026-01-12T22:21:07.135514667-06:00","close_reason":"triage: stale event"}
{"id":"co-copperhead-polecat-jade","title":"co-copperhead-polecat-jade","description":"co-copperhead-polecat-jade\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-27T02:52:56.85114942-06:00","created_by":"mayor","updated_at":"2026-02-03T21:46:27.525828025-06:00","closed_at":"2026-02-01T10:58:28.734178904-06:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-jasper","title":"co-copperhead-polecat-jasper","description":"co-copperhead-polecat-jasper\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-24T14:39:02.495833484-06:00","created_by":"mayor","updated_at":"2026-02-12T11:28:45.983907761-06:00","closed_at":"2026-02-12T11:28:45.983907761-06:00","close_reason":"polecat removed","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-12T11:20:33.74730545-06:00"}
{"id":"co-copperhead-polecat-jet","title":"co-copperhead-polecat-jet","description":"co-copperhead-polecat-jet\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-1dod2\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-28T01:44:31.594720751-06:00","created_by":"mayor","updated_at":"2026-01-28T01:44:32.661859508-06:00","labels":["gt:agent"],"hook_bead":"co-1dod2"}
{"id":"co-copperhead-polecat-keeper.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: Completed co-r4bq.1, triage cleanup","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T14:33:58.683067891-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T14:43:21.492721962-06:00","closed_at":"2026-01-12T14:43:21.492721962-06:00","close_reason":"Triaged: state change event acknowledged"}
{"id":"co-copperhead-polecat-kyanite","title":"co-copperhead-polecat-kyanite","description":"co-copperhead-polecat-kyanite\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-xqh9r\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T00:41:49.330015506-06:00","created_by":"mayor","updated_at":"2026-02-05T14:42:39.329702567-06:00","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-05T14:42:33.932462784-06:00"}
{"id":"co-copperhead-polecat-labradorite","title":"co-copperhead-polecat-labradorite","description":"co-copperhead-polecat-labradorite\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-plctl\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T00:42:55.839388328-06:00","created_by":"mayor","updated_at":"2026-02-05T14:44:04.701021356-06:00","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-05T14:43:58.213653309-06:00"}
{"id":"co-copperhead-polecat-lapis","title":"co-copperhead-polecat-lapis","description":"co-copperhead-polecat-lapis\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-cvw6\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-27T21:33:28.537293139-06:00","created_by":"mayor","updated_at":"2026-02-03T23:03:57.435867487-06:00","labels":["gt:agent"],"hook_bead":"co-wlkyc"}
{"id":"co-copperhead-polecat-magnetite","title":"co-copperhead-polecat-magnetite","description":"co-copperhead-polecat-magnetite\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-28T13:11:43.579108002-06:00","created_by":"mayor","updated_at":"2026-02-08T21:02:52.499087802-06:00","closed_at":"2026-02-05T00:26:47.30661942-06:00","close_reason":"nuked","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-05T00:39:44.082615728-06:00"}
{"id":"co-copperhead-polecat-malachite","title":"co-copperhead-polecat-malachite","description":"co-copperhead-polecat-malachite\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-7sc1j.4\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-27T17:45:09.199474211-06:00","created_by":"mayor","updated_at":"2026-02-03T23:05:53.190742616-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-marble","title":"co-copperhead-polecat-marble","description":"co-copperhead-polecat-marble\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-r3rs\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-27T02:55:45.818492317-06:00","created_by":"mayor","updated_at":"2026-02-03T22:09:20.872018541-06:00","labels":["gt:agent"],"hook_bead":"co-i71gj"}
{"id":"co-copperhead-polecat-max.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: Triage: reset stuck spawning polecat to idle","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T19:45:40.081886912-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T19:48:12.687695846-06:00","closed_at":"2026-01-12T19:48:12.687695846-06:00","close_reason":"Triage: state change event"}
{"id":"co-copperhead-polecat-mica","title":"co-copperhead-polecat-mica","description":"co-copperhead-polecat-mica\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-a9u1v\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-27T17:23:46.463745685-06:00","created_by":"mayor","updated_at":"2026-01-27T17:23:46.891140571-06:00","labels":["gt:agent"],"hook_bead":"co-a9u1v"}
{"id":"co-copperhead-polecat-moonstone","title":"co-copperhead-polecat-moonstone","description":"co-copperhead-polecat-moonstone\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-jkr8f\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-28T02:44:21.592090454-06:00","created_by":"mayor","updated_at":"2026-02-04T15:16:11.416333536-06:00","labels":["gt:agent"],"hook_bead":"co-aglvr"}
{"id":"co-copperhead-polecat-morsov.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: triage: normalizing missing state","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T22:09:36.728734004-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T22:21:07.049786165-06:00","closed_at":"2026-01-12T22:21:07.049786165-06:00","close_reason":"triage: stale event"}
{"id":"co-copperhead-polecat-nux","title":"co-copperhead-polecat-nux","description":"co-copperhead-polecat-nux\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-05T11:16:19.117226009-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-02-10T20:35:16.247100731-06:00","closed_at":"2026-02-10T20:35:16.247100731-06:00","close_reason":"nuked","labels":["agent_state:idle"],"deleted_at":"2026-01-12T21:34:20.052300297-06:00","deleted_by":"deacon-boot","delete_reason":"delete","original_type":"agent","agent_state":"running","last_activity":"2026-01-21T03:33:47.306622242-06:00"}
{"id":"co-copperhead-polecat-nux.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: Triage cleanup - marking idle","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T14:34:08.437259002-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T14:43:21.384289064-06:00","closed_at":"2026-01-12T14:43:21.384289064-06:00","close_reason":"Triaged: state change event acknowledged"}
{"id":"co-copperhead-polecat-obsidian","title":"co-copperhead-polecat-obsidian","description":"co-copperhead-polecat-obsidian\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-23T00:32:27.363312387-06:00","created_by":"mayor","updated_at":"2026-02-12T16:25:22.069540505-06:00","closed_at":"2026-02-12T16:25:22.069540505-06:00","close_reason":"nuked","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-12T13:51:15.710969864-06:00"}
{"id":"co-copperhead-polecat-onyx","title":"co-copperhead-polecat-onyx","description":"co-copperhead-polecat-onyx\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-24T14:39:22.513535184-06:00","created_by":"mayor","updated_at":"2026-02-12T11:32:59.025661062-06:00","closed_at":"2026-02-12T11:32:59.025661062-06:00","close_reason":"polecat removed","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-12T11:21:11.224051392-06:00"}
{"id":"co-copperhead-polecat-opal","title":"co-copperhead-polecat-opal","description":"co-copperhead-polecat-opal\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-24T14:39:43.407654176-06:00","created_by":"mayor","updated_at":"2026-02-12T11:30:34.190065198-06:00","closed_at":"2026-02-12T11:30:34.190065198-06:00","close_reason":"polecat removed","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-12T11:21:49.224241088-06:00"}
{"id":"co-copperhead-polecat-organic.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: triage: normalizing missing state","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T22:09:36.610251132-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T22:21:07.172593068-06:00","closed_at":"2026-01-12T22:21:07.172593068-06:00","close_reason":"triage: stale event"}
{"id":"co-copperhead-polecat-pearl","title":"co-copperhead-polecat-pearl","description":"co-copperhead-polecat-pearl\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-jlqo\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-27T02:53:28.817168167-06:00","created_by":"mayor","updated_at":"2026-02-01T10:59:51.659581703-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-peridot","title":"co-copperhead-polecat-peridot","description":"co-copperhead-polecat-peridot\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-28T01:42:51.577737564-06:00","created_by":"mayor","updated_at":"2026-02-04T12:45:01.42637158-06:00","closed_at":"2026-02-04T11:59:13.866747249-06:00","close_reason":"polecat removed","labels":["gt:agent"],"hook_bead":"co-ogu0u"}
{"id":"co-copperhead-polecat-pyrite","title":"co-copperhead-polecat-pyrite","description":"co-copperhead-polecat-pyrite\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-7sc1j.4\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-27T17:12:43.191099416-06:00","created_by":"mayor","updated_at":"2026-01-27T17:13:04.282521053-06:00","labels":["gt:agent"],"hook_bead":"co-7sc1j.4"}
{"id":"co-copperhead-polecat-quartz","title":"co-copperhead-polecat-quartz","description":"co-copperhead-polecat-quartz\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-24T14:38:42.263615519-06:00","created_by":"mayor","updated_at":"2026-02-12T16:25:35.115787837-06:00","closed_at":"2026-02-12T16:25:35.115787837-06:00","close_reason":"nuked","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-12T15:47:04.867031136-06:00"}
{"id":"co-copperhead-polecat-rhodonite","title":"co-copperhead-polecat-rhodonite","description":"co-copperhead-polecat-rhodonite\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-hc3qs\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-28T02:46:49.593657481-06:00","created_by":"mayor","updated_at":"2026-02-04T22:41:23.387148225-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-ruby","title":"co-copperhead-polecat-ruby","description":"co-copperhead-polecat-ruby\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-27T02:50:44.518158144-06:00","created_by":"mayor","updated_at":"2026-02-12T02:25:19.564562304-06:00","closed_at":"2026-02-12T02:25:19.564562304-06:00","close_reason":"nuked","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-12T02:03:53.661792662-06:00"}
{"id":"co-copperhead-polecat-sapphire","title":"co-copperhead-polecat-sapphire","description":"co-copperhead-polecat-sapphire\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-w00qa\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-27T21:42:38.02967346-06:00","created_by":"mayor","updated_at":"2026-02-04T10:58:17.497522579-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-scrotus.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: MR merged, resetting from spawning","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T19:00:12.934742371-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T19:04:11.359822649-06:00","closed_at":"2026-01-12T19:04:11.359822649-06:00","close_reason":"Triage cleanup: stale state change event"}
{"id":"co-copperhead-polecat-selenite","title":"co-copperhead-polecat-selenite","description":"co-copperhead-polecat-selenite\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-ic82v\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-29T00:38:37.879701803-06:00","created_by":"mayor","updated_at":"2026-01-29T00:38:39.197199539-06:00","labels":["gt:agent"],"hook_bead":"co-ic82v"}
{"id":"co-copperhead-polecat-shale","title":"co-copperhead-polecat-shale","description":"co-copperhead-polecat-shale\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-04v4\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-27T02:56:20.507651924-06:00","created_by":"mayor","updated_at":"2026-02-03T22:29:43.347841496-06:00","labels":["gt:agent"],"hook_bead":"co-enwjm"}
{"id":"co-copperhead-polecat-slate","title":"co-copperhead-polecat-slate","description":"co-copperhead-polecat-slate\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-xdjix\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-27T17:12:10.96234237-06:00","created_by":"mayor","updated_at":"2026-02-03T22:35:01.066062533-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-slit","title":"co-copperhead-polecat-slit","description":"co-copperhead-polecat-slit\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-05T11:22:09.838490616-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-23T22:39:16.346836803-06:00","closed_at":"2026-01-23T22:39:16.346836803-06:00","close_reason":"nuked","labels":["agent_state:idle"],"deleted_at":"2026-01-21T01:47:00.102170749-06:00","deleted_by":"mayor","delete_reason":"delete","original_type":"agent","agent_state":"done","last_activity":"2026-01-21T03:40:38.294479879-06:00"}
{"id":"co-copperhead-polecat-slit.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: Triage cleanup - marking idle","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T14:34:08.399001654-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T14:43:21.419780612-06:00","closed_at":"2026-01-12T14:43:21.419780612-06:00","close_reason":"Triaged: state change event acknowledged"}
{"id":"co-copperhead-polecat-sodalite","title":"co-copperhead-polecat-sodalite","description":"co-copperhead-polecat-sodalite\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-28T02:48:23.328274292-06:00","created_by":"mayor","updated_at":"2026-02-05T00:00:30.555215794-06:00","closed_at":"2026-02-04T22:52:49.247738878-06:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-spark","title":"co-copperhead-polecat-spark","description":"co-copperhead-polecat-spark\n\nrole_type: polecat\nrig: copperhead\nagent_state: running\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: has_stash\nactive_mr: co-axj\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-05T16:07:47.332761821-06:00","created_by":"copperhead/polecats/spark","updated_at":"2026-02-10T20:52:21.768195941-06:00","closed_at":"2026-02-10T20:52:21.768195941-06:00","close_reason":"Stale agent/convoy - cleanup"}
{"id":"co-copperhead-polecat-splendid.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: MR merged, resetting from spawning","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T19:00:13.164245648-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T19:04:11.639035188-06:00","closed_at":"2026-01-12T19:04:11.639035188-06:00","close_reason":"Triage cleanup: stale state change event"}
{"id":"co-copperhead-polecat-sunstone","title":"co-copperhead-polecat-sunstone","description":"co-copperhead-polecat-sunstone\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-hc3qs\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-28T02:45:02.430322089-06:00","created_by":"mayor","updated_at":"2026-02-04T16:06:52.469143967-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-test-fix","title":"co-copperhead-polecat-test-fix","description":"co-copperhead-polecat-test-fix\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-25T19:12:04.52768275-06:00","created_by":"mayor","updated_at":"2026-01-25T19:12:42.183502961-06:00","closed_at":"2026-01-25T19:12:42.183502961-06:00","close_reason":"nuked","labels":["gt:agent"]}
{"id":"co-copperhead-polecat-toast","title":"co-copperhead-polecat-toast","description":"co-copperhead-polecat-toast\n\nrole_type: polecat\nrig: copperhead\nagent_state: idle\nhook_bead: null\nrole_bead: hq-polecat-role\ncleanup_status: has_stash\nactive_mr: co-gdzn\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-05T11:22:38.846280358-06:00","created_by":"copperhead/polecats/toast","updated_at":"2026-02-10T20:52:23.646049087-06:00","closed_at":"2026-02-10T20:52:23.646049087-06:00","close_reason":"Stale agent/convoy - cleanup","labels":["agent_state:idle"],"deleted_at":"2026-01-21T01:47:01.421026542-06:00","deleted_by":"mayor","delete_reason":"delete","original_type":"agent","agent_state":"done","last_activity":"2026-01-16T17:50:25.579280414-06:00"}
{"id":"co-copperhead-polecat-toecutter.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: Triage: reset stuck spawning polecat to idle","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T19:45:40.124399249-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T19:48:12.63888012-06:00","closed_at":"2026-01-12T19:48:12.63888012-06:00","close_reason":"Triage: state change event"}
{"id":"co-copperhead-polecat-topaz","title":"co-copperhead-polecat-topaz","description":"co-copperhead-polecat-topaz\n\nrole_type: polecat\nrig: copperhead\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-24T23:27:15.21069841-06:00","created_by":"mayor","updated_at":"2026-02-12T02:16:32.224837754-06:00","closed_at":"2026-02-12T02:16:32.224837754-06:00","close_reason":"nuked","labels":["gt:agent"],"agent_state":"working","last_activity":"2026-02-12T02:02:25.755735215-06:00"}
{"id":"co-copperhead-polecat-turquoise","title":"co-copperhead-polecat-turquoise","description":"co-copperhead-polecat-turquoise\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-a9u1v\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-27T17:45:45.418759239-06:00","created_by":"mayor","updated_at":"2026-02-03T23:02:57.698979535-06:00","labels":["gt:agent"],"hook_bead":"co-jawea"}
{"id":"co-copperhead-polecat-warboy.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: triage: normalizing missing state","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T22:09:36.688870106-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T22:21:07.096017848-06:00","closed_at":"2026-01-12T22:21:07.096017848-06:00","close_reason":"triage: stale event"}
{"id":"co-copperhead-polecat-zircon","title":"co-copperhead-polecat-zircon","description":"co-copperhead-polecat-zircon\n\nrole_type: polecat\nrig: copperhead\nagent_state: spawning\nhook_bead: co-hudzk\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-28T01:42:04.575128579-06:00","created_by":"mayor","updated_at":"2026-02-04T11:07:49.166669375-06:00","labels":["gt:agent"]}
{"id":"co-copperhead-refinery","title":"Refinery for copperhead - processes merge queue.","description":"Refinery for copperhead - processes merge queue.\n\nrole_type: refinery\nrig: copperhead\nagent_state: idle\nhook_bead: null\nrole_bead: hq-refinery-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-05T15:29:20.453553916-06:00","created_by":"mayor","updated_at":"2026-01-21T03:20:25.886522248-06:00","agent_state":"running","last_activity":"2026-01-21T03:20:25.886146976-06:00"}
{"id":"co-copperhead-witness","title":"co-copperhead-witness","description":"co-copperhead-witness\n\nrole_type: witness\nrig: copperhead\nagent_state: running\nhook_bead: null\nrole_bead: hq-witness-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-05T04:28:03.700414481-06:00","created_by":"copperhead/witness","updated_at":"2026-01-07T01:50:11.287179796-06:00","labels":["agent_state:idle"]}
{"id":"co-copperhead-witness.1","title":"State change: agent_state → idle","description":"Set agent_state to idle\n\nReason: Triage: session not running","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-12T20:41:43.39207348-06:00","created_by":"deacon-boot","updated_at":"2026-01-12T20:43:19.554537237-06:00","closed_at":"2026-01-12T20:43:19.554537237-06:00","close_reason":"Stale event - state change already recorded","dependencies":[{"issue_id":"co-copperhead-witness.1","depends_on_id":"co-copperhead-witness","type":"parent-child","created_at":"2026-01-12T20:41:43.393840612-06:00","created_by":"deacon-boot"}]}
{"id":"co-cpsp3","title":"Add floating AI button for discoverability","description":"dispatched_by: mayor\n\nAI Copilot is a competitive differentiator but not easily discoverable. Add a floating Ask AI button.\n\nTasks:\n1. Create FloatingAIButton.jsx component\n2. Position bottom-right, above bug report button (right-6 bottom-36)\n3. Purple/violet color to match AI branding\n4. On click, open RightSidebar with AI tab active\n5. Add subtle pulse animation on first session\n6. Add Cmd/Ctrl+K keyboard shortcut to open AI\n7. Show tooltip: Press Cmd+K to ask AI\n\nFiles:\n- CREATE: apps/web/src/components/FloatingAIButton.jsx\n- MODIFY: apps/web/src/components/MainLayout.jsx (add FloatingAIButton)\n- MODIFY: apps/web/src/context/RightSidebarContext.js (add openAITab method if needed)\n\nReference: docs/ux-plans/06-ai-copilot-discoverability.md","notes":"Implemented floating AI button with purple styling, positioned above bug report button, added Cmd/Ctrl+K shortcut, pulse animation for first session, and tooltip showing shortcut","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/labradorite","created_at":"2026-02-05T14:38:58.458821987-06:00","created_by":"kaos","updated_at":"2026-02-05T14:47:56.42956669-06:00","closed_at":"2026-02-05T14:47:56.429572098-06:00"}
{"id":"co-csct","title":"Merge: slit-mkntu16n","description":"branch: polecat/slit-mkntu16n\ntarget: main\nsource_issue: slit-mkntu16n\nrig: copperhead\nagent_bead: co-copperhead-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","notes":"All commits already in main - branch behind HEAD","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-21T03:40:37.18767711-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-21T04:47:47.06779879-06:00","closed_at":"2026-01-21T04:47:47.067809138-06:00"}
{"id":"co-csqv","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T15:11:55.641718568-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.395816005-06:00","closed_at":"2026-01-12T03:09:08.395816005-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T15:11:55-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-cth","title":"Inventory import: support image URLs in spreadsheet","description":"Implemented and merged","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-08T01:59:20.635938345-06:00","created_by":"mayor","updated_at":"2026-01-08T01:59:20.635938345-06:00","closed_at":"2026-01-08T01:59:21.635938345-06:00"}
{"id":"co-cul","title":"Barcode and QR Code Scanning for Inventory","description":"## Overview\nImplement barcode and QR code scanning capabilities for inventory management.\n\n## Requirements\n- Camera-based scanning (mobile and desktop webcam)\n- Support for common barcode formats: UPC-A, UPC-E, EAN-13, Code 128, Code 39\n- QR code support for internal inventory labels\n- Scan to lookup: find inventory item by barcode/SKU\n- Scan to add: add items to work orders, transfers, cycle counts\n- Scan to receive: receive PO items by scanning\n- Bulk scanning mode for multiple items\n- Audio/haptic feedback on successful scan\n- Manual entry fallback if scan fails\n\n## Key Files\n- apps/web/src/components/common/BarcodeScanner.jsx (CREATE)\n- apps/web/src/hooks/useBarcodeScanner.js (CREATE)\n- apps/api/src/services/barcodeLookup.service.js (CREATE)\n\n## Integration Points\n- Inventory item lookup by SKU/barcode\n- Work order parts addition\n- Inventory transfer scanning\n- Cycle count scanning\n- PO receiving\n\n## Libraries\n- Consider: @zxing/library, quagga2, or html5-qrcode\n\n## Acceptance Criteria\n- Scans UPC and QR codes reliably\n- Works on mobile browsers (iOS Safari, Chrome)\n- Instant lookup shows item details\n- Can add scanned items to WO/transfer\n- Handles 'not found' gracefully with manual entry option","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T01:02:36.208134077-06:00","created_by":"mayor","updated_at":"2026-01-06T01:28:01.587416035-06:00","closed_at":"2026-01-06T01:28:01.587416035-06:00","close_reason":"Implemented barcode/QR scanning: useBarcodeScanner hook, BarcodeScanner component, barcodeLookup.service.js, API endpoints POST/GET /inventory/scan. Supports UPC, EAN, Code128, Code39, QR codes with camera and manual entry fallback.","labels":["feature","inventory","mobile"]}
{"id":"co-cvr","title":"SSO Phase 1: Database \u0026 Backend Foundation","description":"- Create migration 032_sso_providers.sql (sso_providers, sso_role_mappings tables, user columns)\n- Implement SSO service factory and base provider class\n- Implement Azure AD provider (primary)\n- Create /api/sso routes (authorize, callback, token)\n- Add SSO user lookup/provisioning logic","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T03:22:42.792826598-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.583503709-06:00","closed_at":"2026-01-06T14:54:41.896504463-06:00","close_reason":"Merged to main (737a2c3)","dependencies":[{"issue_id":"co-cvr","depends_on_id":"co-mmd","type":"blocks","created_at":"2026-01-06T03:22:59.19409653-06:00","created_by":"mayor"}]}
{"id":"co-cvw6","title":"Agent Browser: Smoke test scaffolds","description":"attached_molecule: co-wisp-1inc\nattached_at: 2026-01-28T03:33:54Z\ndispatched_by: mayor\n\nWrite smoke test scaffolds using agent-browser patterns:\n1. Login flow test\n2. Create work order test\n3. Generate estimate test  \n4. Invoice workflow test\n\nUse helpers from sister task. Tests should be runnable headless if possible.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/lapis","created_at":"2026-01-21T02:05:20.961380965-06:00","created_by":"mayor","updated_at":"2026-01-27T21:37:18.223979871-06:00","closed_at":"2026-01-27T21:37:18.223979871-06:00","close_reason":"Created agent-browser smoke test scaffolds for login, work order, estimate, and invoice workflows","labels":["agent-browser","smoke-tests","testing"],"dependencies":[{"issue_id":"co-cvw6","depends_on_id":"co-tcvi","type":"blocks","created_at":"2026-01-21T02:06:04.657876557-06:00","created_by":"mayor"},{"issue_id":"co-cvw6","depends_on_id":"co-wisp-1inc","type":"blocks","created_at":"2026-01-27T21:33:51.05012423-06:00","created_by":"mayor"}]}
{"id":"co-cvx","title":"Add existing security posture fields to intake form","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T01:59:09.945872505-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.841621923-06:00","closed_at":"2026-01-05T02:25:32.654993716-06:00","close_reason":"Added Current Security Posture section with: antivirus/endpoint type and product, password policy, MFA status, email security, security awareness training, last assessment date, and recent security incidents"}
{"id":"co-cx12","title":"Session ended: gt-copperhead-toecutter","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:43:10.555298879-06:00","created_by":"copperhead/polecats/toecutter","updated_at":"2026-01-22T22:38:48.244208592-06:00","closed_at":"2026-01-22T22:38:48.244208592-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/toecutter","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:43:10-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-toecutter\",\"worker\":\"toecutter\"}"}
{"id":"co-cxy0","title":"Session ended: gt-polecat-coma","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:19:14.805558707-06:00","created_by":"kaos","updated_at":"2026-01-22T22:38:15.846604272-06:00","closed_at":"2026-01-22T22:38:15.846604272-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"polecat/polecats/coma","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:19:14-06:00\",\"rig\":\"polecat\",\"role\":\"polecat\",\"session_id\":\"gt-polecat-coma\",\"worker\":\"coma\"}"}
{"id":"co-cyr","title":"Session ended: gt-copperhead-dementus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:31:46.629465146-06:00","created_by":"copperhead/polecats/dementus","updated_at":"2026-01-07T03:06:37.465293795-06:00","closed_at":"2026-01-07T03:06:37.465293795-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"copperhead/polecats/dementus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:31:46-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dementus\",\"worker\":\"dementus\"}"}
{"id":"co-cyy","title":"AI: Estimate to Work Order Conversion","description":"Convert accepted estimates to work orders using AI.\n\n## Feature: estimate_to_workorder\n\n## Workflow\n1. User accepts estimate or marks as 'won'\n2. AI analyzes estimate areas/line items\n3. Generates work order with:\n   - Task breakdown from cost items\n   - Time estimates from labor hours\n   - Material requirements from BOM\n   - Suggested scheduling based on crew requirements\n\n## AI Prompt Considerations\n- Group tasks by area\n- Sequence tasks logically (rough-in before trim-out)\n- Flag items requiring LAB2+ for crew scheduling\n- Suggest work order type based on estimate content\n\n## API\n- POST /api/ai/estimate-to-workorder\n- Input: estimate_id\n- Output: draft work order data (user reviews before saving)\n\n## Dependencies\n- Estimate must have areas and line items\n- Cost items should have labor codes","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/imperator","created_at":"2026-01-08T01:20:14.447295972-06:00","created_by":"mayor","updated_at":"2026-02-10T20:53:07.065456872-06:00","closed_at":"2026-02-10T20:53:07.065456872-06:00","close_reason":"Stale - all work caught up"}
{"id":"co-czvk","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T22:50:26.744930302-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.385259227-06:00","closed_at":"2026-01-12T03:09:07.385259227-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T22:50:26-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-d1x0","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:52:10.472759051-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.779507871-06:00","closed_at":"2026-01-12T03:09:07.779507871-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:52:10-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-d256","title":"Session ended: gt-copperhead-rictus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:39:57.359206773-06:00","created_by":"copperhead/polecats/rictus","updated_at":"2026-02-10T20:52:04.575055994-06:00","closed_at":"2026-02-10T20:52:04.575055994-06:00","close_reason":"Stale events/merge requests - cleanup","event_kind":"session.ended","actor":"copperhead/polecats/rictus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:39:57-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-rictus\",\"worker\":\"rictus\"}"}
{"id":"co-d2dc5","title":"PeekPanel Phase 2+3.1: Add PeekPanelProvider to MainLayout + retrofit CustomersPage","description":"## Phase 2: Integration\nAdd PeekPanelProvider (from context/PeekPanelContext.jsx — create this file) to MainLayout.jsx. This is a passive provider that does nothing unless a PeekPanel registers.\n\n## Phase 3.1: CustomersPage Retrofit\nFile: pages/salesops/CustomersPage.jsx\nCurrent: Click row → inline modal (hand-rolled fixed div)\nChange: Replace with \u003cPeekPanel peekType=\"customer-detail\" contextType=\"list\"\u003e\n- Default: side peek (list stays visible)\n- Content: Customer details (company info, contact, sites)\n- Uses usePeekPanel hook for state management\n- Import PeekPanel from components/panels\n\n## Key Pattern\nThe PeekPanel component is already on main (PR #210). It supports positions: center, side, bottom, full. The usePeekPanel hook handles localStorage persistence. See components/panels/PeekPanel.jsx for the API.\n\n## Testing\n- Verify customers list still renders correctly\n- Click a customer row → side peek opens with customer details\n- Position switcher works (side/center/bottom/full)\n- ESC closes the peek\n- No regressions on other pages","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-12T01:48:51.38796136-06:00","created_by":"mayor","updated_at":"2026-02-12T01:48:51.38796136-06:00"}
{"id":"co-d2yam","title":"Merge: co-n6c6i","description":"branch: polecat/quartz/co-n6c6i@mku2xgbf\ntarget: main\nsource_issue: co-n6c6i\nrig: copperhead\nworker: quartz\n\nNote: Branch is based on older main. May have conflicts with WorkOrderEditPage.jsx. \nKey change is FieldOpsApp.js handleEditWorkOrder -\u003e navigate to edit page.","status":"closed","priority":3,"issue_type":"merge-request","created_at":"2026-01-25T13:01:09.11390905-06:00","created_by":"mayor","updated_at":"2026-01-25T13:03:08.617425582-06:00","closed_at":"2026-01-25T13:03:08.617429098-06:00"}
{"id":"co-d3y","title":"Session ended: gt-copperhead-nux","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T11:28:57.412743347-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-06T01:15:03.211322959-06:00","closed_at":"2026-01-06T01:15:03.211322959-06:00","close_reason":"Acknowledged - sessions restarted","event_kind":"session.ended","actor":"copperhead/polecats/nux","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T11:28:57-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-nux\",\"worker\":\"nux\"}"}
{"id":"co-d74s","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:38:10.44127052-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.833367959-06:00","closed_at":"2026-01-12T03:09:07.833367959-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:38:10-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-d8qgp","title":"task","description":"attached_molecule: co-wisp-xcaom\nattached_at: 2026-01-30T03:33:25Z\ndispatched_by: mayor\n\nPR #38 (polecat/copperhead-53/co-f0zrp@mkz72xu5) has merge conflicts.\n\nBranch: polecat/copperhead-53/co-f0zrp@mkz72xu5\nTitle: fix(security): add system admin protection for /api/admin/* routes\n\nConflicts:\n- Migration 085_system_admin.sql conflicts with existing 085 on main\n- apps/api/src/index.js\n- apps/api/src/middleware/auth.js\n\nFix:\n1. Rebase onto origin/main\n2. Rename migration from 085 to 088\n3. Resolve index.js and auth.js conflicts\n4. Push force","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead-copperhead/polecats/73","created_at":"2026-01-29T21:29:43.294544132-06:00","created_by":"mayor","updated_at":"2026-01-29T21:37:47.684672105-06:00","closed_at":"2026-01-29T21:37:47.684672105-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-d8qgp","depends_on_id":"co-wisp-xcaom","type":"blocks","created_at":"2026-01-29T21:33:13.098634966-06:00","created_by":"mayor"}]}
{"id":"co-db9","title":"Session ended: gt-copperhead-nux","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:28:22.22530596-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-07T03:06:37.662665323-06:00","closed_at":"2026-01-07T03:06:37.662665323-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"copperhead/polecats/nux","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:28:22-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-nux\",\"worker\":\"nux\"}"}
{"id":"co-dbe5","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T15:05:50.679736966-06:00","created_by":"mayor","updated_at":"2026-01-12T15:24:56.830826308-06:00","closed_at":"2026-01-12T15:24:56.830826308-06:00","close_reason":"Session ended - stale event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T15:05:50-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ddp6","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T22:26:23.631562743-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.450336607-06:00","closed_at":"2026-01-12T03:09:07.450336607-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T22:26:23-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-dee","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:11:45.162495542-06:00","created_by":"mayor","updated_at":"2026-01-07T03:06:38.074041069-06:00","closed_at":"2026-01-07T03:06:38.074041069-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:11:45-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-dex","title":"SSO Phase 5: Mobile Integration","description":"- Configure deep links (iOS/Android) for fieldops://sso-callback\n- Implement mobile SSO flow with expo-auth-session\n- Handle app-to-browser-to-app transition\n- Test on physical devices","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T03:22:47.260954735-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.935510052-06:00","closed_at":"2026-01-06T15:48:44.78790185-06:00","close_reason":"Merged PR #9","dependencies":[{"issue_id":"co-dex","depends_on_id":"co-vyb","type":"blocks","created_at":"2026-01-06T03:22:59.368363148-06:00","created_by":"mayor"}]}
{"id":"co-dffvg","title":"Beta invites: show pending (unsent) invites and add resend button","description":"dispatched_by: mayor\n\nBug: When a beta invite is created but the email fails to send (e.g. SendGrid not configured), the invite gets status 'pending' in the DB but does NOT appear in the beta-invites list screen. The user then tries to create the invite again and gets a 409 'active invite already exists' — with no way to see or fix it.\n\nTwo fixes needed:\n\n1. **Show pending invites in the list** — The GET /api/admin/beta-invites endpoint and the BetaInvitesPage.jsx need to show invites with status 'pending' (not just 'sent'). These should be visually distinct — show a warning badge like 'Email not sent' so the admin knows the invite exists but the recipient never got the email.\n\n2. **Add resend button** — For invites with status 'pending' (or 'sent' for re-sending), add a 'Resend Email' button that calls the existing POST /api/admin/beta-invites/:id/resend endpoint. This lets the admin retry sending the email after SendGrid is configured.\n\nFiles likely involved:\n- apps/web/src/pages/admin/BetaInvitesPage.jsx (frontend list + resend button)\n- apps/api/src/routes/admin/betaInvites.routes.js (check GET and resend endpoints)\n\nCurrent state in DB: franky.xl@hotmail.com has status 'pending' with code BETA-85VQ-URW5 but never received email.","notes":"PR #186 opened. Added amber 'Email not sent' warning badge for pending invites, improved 409 error to show existing invite details, context-aware tooltip on send/resend button.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/copperhead-102","created_at":"2026-02-09T18:32:30.29148772-06:00","created_by":"kaos","updated_at":"2026-02-12T16:47:57.813292402-06:00","closed_at":"2026-02-12T16:47:57.813292402-06:00","close_reason":"PR #186 merged 2026-02-10. Note: Revoke button (comment by kaos) not yet implemented - separate task needed."}
{"id":"co-dfq","title":"Session ended: gt-copperhead-fixrole","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T22:36:09.98617787-06:00","created_by":"copperhead/polecats/fixrole","updated_at":"2026-01-08T19:31:31.116842357-06:00","closed_at":"2026-01-06T22:57:25.009525363-06:00","close_reason":"Session events - housekeeping"}
{"id":"co-dkhcu","title":"PeekPanel 4.3: Pin to Sidebar","description":"attached_molecule: co-wisp-4tphy\nattached_at: 2026-02-12T15:16:03Z\ndispatched_by: mayor\n\nLet users pin a peek panel's content to the RightSidebar as a persistent section.\n\nImplementation:\n- Add a 'pin' button to PeekPanelHeader (next to position switcher)\n- On pin, use existing RightSidebarContext.registerSection() to add the peek content as a sidebar section\n- Close the PeekPanel after pinning (content now lives in sidebar)\n- Store pinned state in localStorage keyed by peekType\n- Unpin button in sidebar section header removes it\n\nFiles: apps/web/src/components/panels/PeekPanelHeader.jsx, apps/web/src/context/RightSidebarContext.jsx, apps/web/src/components/panels/PeekPanel.jsx","notes":"Implemented: Pin button in PeekPanelHeader, addSection/removeSection in RightSidebarContext, usePeekPinning hook with localStorage persistence, unpin button in RightSidebar WindowControls. 5 files, 170 lines added.","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/quartz","created_at":"2026-02-12T09:14:29.025912389-06:00","created_by":"mayor","updated_at":"2026-02-12T09:44:36.023026896-06:00","closed_at":"2026-02-12T09:44:36.023026896-06:00","close_reason":"Phase 4 complete, merged and verified on staging","dependencies":[{"issue_id":"co-dkhcu","depends_on_id":"co-wisp-6zx0u","type":"blocks","created_at":"2026-02-12T09:15:58.745599872-06:00","created_by":"mayor"},{"issue_id":"co-dkhcu","depends_on_id":"co-wisp-4tphy","type":"blocks","created_at":"2026-02-12T09:29:00.634800532-06:00","created_by":"mayor"}]}
{"id":"co-dkmb","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:30:00.030921947-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:28:10.173063713-06:00","closed_at":"2026-01-22T22:28:10.173063713-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:29:59-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-dknb","title":"Merge: furiosa-mkcig6w2","description":"branch: polecat/furiosa-mkcig6w2\ntarget: main\nsource_issue: furiosa-mkcig6w2\nrig: copperhead\nagent_bead: co-copperhead-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-13T05:38:57.236733477-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-14T00:35:30.158645484-06:00","closed_at":"2026-01-14T00:35:30.158645484-06:00","close_reason":"Merged to main"}
{"id":"co-dkts","title":"Merge: slit-mkcigq9c","description":"branch: polecat/slit-mkcigq9c\ntarget: main\nsource_issue: slit-mkcigq9c\nrig: copperhead\nagent_bead: co-copperhead-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-13T05:40:00.454646431-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-14T00:35:51.015343785-06:00","closed_at":"2026-01-14T00:35:51.015343785-06:00","close_reason":"Merged to main"}
{"id":"co-dkz9","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:33:17.516166626-06:00","created_by":"mayor","updated_at":"2026-01-12T14:42:21.162215714-06:00","closed_at":"2026-01-12T14:42:21.162215714-06:00","close_reason":"Triaged: stale session-ended event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:33:17-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-dl3","title":"Assessment UI - Location \u0026 Device Inventory","description":"Create multi-location device inventory table matching template:\n- Location name/address\n- Device counts per location: Users, Desktops, Laptops, Servers (Physical), Servers (Virtual), Network Devices\n- Add/remove location rows dynamically\n- Total row at bottom\n- Import counts from intake if available","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:06:48.954818402-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.598596272-06:00","closed_at":"2026-01-05T03:13:01.521875583-06:00","close_reason":"Implemented navigation, dashboard, and basic assessment editor with corporate background, technical POC, and location inventory sections","dependencies":[{"issue_id":"co-dl3","depends_on_id":"co-2db","type":"blocks","created_at":"2026-01-05T03:07:52.699228844-06:00","created_by":"mayor"},{"issue_id":"co-dl3","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:11.536468217-06:00","created_by":"mayor"}]}
{"id":"co-dlu","title":"Fix AI service missing DB tables/functions","description":"The AI service fails due to missing check_ai_quota function and ai_usage_logs table. Either create migration for these tables or bypass gracefully in dev mode. Current workaround: catch errors and allow calls.","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/nux","created_at":"2026-01-08T19:22:09.907203046-06:00","created_by":"mayor","updated_at":"2026-01-11T05:17:49.657795517-06:00","closed_at":"2026-01-11T05:17:49.657795517-06:00","close_reason":"Fixed invoiceOcr.service.js to gracefully handle missing ai_usage_logs table. Added try/catch with PostgreSQL error code checks (42P01/42883/42703) to skip logging in dev mode when AI infrastructure isn't ready.","dependencies":[{"issue_id":"co-dlu","depends_on_id":"co-gdj","type":"parent-child","created_at":"2026-01-08T19:22:09.908823051-06:00","created_by":"mayor"}]}
{"id":"co-dn59","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:31:16.544808788-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.170332086-06:00","closed_at":"2026-01-12T03:09:08.170332086-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:31:16-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-dnvj","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:24:25.473325709-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.597814508-06:00","closed_at":"2026-01-12T03:09:07.597814508-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":8.5,\"ended_at\":\"2026-01-11T21:24:25-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-dogc","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T03:30:39.69085227-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:14.190237481-06:00","closed_at":"2026-01-22T22:38:14.190237481-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T03:30:39-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-dopa","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T06:42:22.28717818-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.717840364-06:00","closed_at":"2026-01-12T03:09:08.717840364-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T06:42:22-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-doqc","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T06:28:57.262017854-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.735573283-06:00","closed_at":"2026-01-12T03:09:08.735573283-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T06:28:57-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-dp1a","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T01:59:11.788980552-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:14.323641082-06:00","closed_at":"2026-01-22T22:38:14.323641082-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T01:59:11-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-dsd","title":"AI: Smart Dispatch Scheduling","description":"AI-powered dispatch scheduling and optimization.\n\n## Features: smart_scheduling, schedule_optimization\n\n## Capabilities\n\n### smart_scheduling\n- Suggest optimal technician for a work order based on:\n  - Skills/certifications required\n  - Current location/route\n  - Existing schedule gaps\n  - Customer preferences\n  - Work order priority\n\n### schedule_optimization\n- Optimize daily/weekly schedule:\n  - Minimize drive time between jobs\n  - Balance workload across technicians\n  - Respect time windows and SLAs\n  - Handle multi-day jobs\n  - Account for LAB2+ crew requirements\n\n## AI Prompt Considerations\n- Include technician skill matrix\n- Consider traffic patterns by time of day\n- Factor in job duration estimates from labor hours\n- Handle emergency/urgent prioritization\n\n## API\n- POST /api/ai/suggest-technician - Best tech for a WO\n- POST /api/ai/optimize-schedule - Optimize day's schedule\n- POST /api/ai/rebalance-routes - Rebalance after changes\n\n## Data Needed\n- Technician locations (GPS)\n- Skill certifications\n- Current schedule\n- Work order requirements\n- Historical job durations\n\n(Moved from ms-pqce)","status":"closed","priority":2,"issue_type":"task","assignee":"mayor/","created_at":"2026-01-08T01:59:17.560170829-06:00","created_by":"mayor","updated_at":"2026-01-08T02:14:57.677102123-06:00","closed_at":"2026-01-08T02:14:57.677102123-06:00","close_reason":"Closed"}
{"id":"co-due","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:42:12.254786891-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.713998496-06:00","closed_at":"2026-01-12T03:09:09.713998496-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:42:12-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-dv4f","title":"Merge: rictus-mk995rt6","description":"branch: polecat/rictus-mk995rt6\ntarget: main\nsource_issue: rictus-mk995rt6\nrig: copperhead\nagent_bead: co-copperhead-polecat-rictus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-11T07:39:49.459765173-06:00","created_by":"copperhead/polecats/rictus","updated_at":"2026-01-11T15:03:14.201781793-06:00","closed_at":"2026-01-11T15:03:14.201781793-06:00","close_reason":"Work already merged to main"}
{"id":"co-dv8d","title":"Session ended: gt-copperhead-dementus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:30:48.872177896-06:00","created_by":"copperhead/polecats/dementus","updated_at":"2026-01-12T03:09:09.334313899-06:00","closed_at":"2026-01-12T03:09:09.334313899-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/dementus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:30:48-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dementus\",\"worker\":\"dementus\"}"}
{"id":"co-dx1m","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:21:32.543789304-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.395987552-06:00","closed_at":"2026-01-12T03:09:09.395987552-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:21:32-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-dynb6","title":"User profile icon: show logged-in user info and account functions","description":"dispatched_by: mayor\n\nWhen clicking the user profile icon (currently shows static first letter), add:\n- Display who is currently logged in (name, email, role)\n- User account functions dropdown menu:\n  - View/edit profile\n  - Change password\n  - Theme/preferences toggle\n  - Logout button\n- Replace static first-letter avatar with richer UX\n\nUX Guru (UI agent) should handle this. The current avatar is in the header/nav area.\n\nReference: User profile icon in top nav/header - currently just shows first letter of user name with no interactive functionality.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/copperhead-100","created_at":"2026-02-09T17:28:13.921794256-06:00","created_by":"kaos","updated_at":"2026-02-09T17:35:07.895663691-06:00","closed_at":"2026-02-09T17:35:07.895663691-06:00","close_reason":"Implemented user profile dropdown with account functions"}
{"id":"co-dypc","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T19:55:45.051647929-06:00","created_by":"mayor","updated_at":"2026-01-12T19:59:15.666323984-06:00","closed_at":"2026-01-12T19:59:15.666323984-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T19:55:45-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-e16a","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T20:45:47.680468527-06:00","created_by":"mayor","updated_at":"2026-01-12T20:46:37.450892905-06:00","closed_at":"2026-01-12T20:46:37.450892905-06:00","close_reason":"Session event processed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T20:45:47-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-e1gi","title":"Session ended: gt-copperhead-nux","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:39:46.501838295-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-12T03:09:08.553042383-06:00","closed_at":"2026-01-12T03:09:08.553042383-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/nux","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:39:46-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-nux\",\"worker\":\"nux\"}"}
{"id":"co-e3r43","title":"Notifications Area","description":"dispatched_by: mayor","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/chrysoprase","created_at":"2026-02-05T20:51:42.312630097-06:00","created_by":"kaos","updated_at":"2026-02-05T20:58:43.4392485-06:00","closed_at":"2026-02-05T20:58:43.4392485-06:00","close_reason":"Implemented Dashboard Notifications Area - PR branch pushed"}
{"id":"co-e467","title":"Session ended: gt-copperhead-capable","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-14T16:38:11.399544328-06:00","created_by":"copperhead/polecats/capable","updated_at":"2026-01-22T22:38:48.194298784-06:00","closed_at":"2026-01-22T22:38:48.194298784-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/capable","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-14T16:38:11-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-capable\",\"worker\":\"capable\"}"}
{"id":"co-e73","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:16:28.56823222-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.593136674-06:00","closed_at":"2026-01-12T03:09:09.593136674-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T01:16:28-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-e7dg","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:42:37.411167736-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.827366045-06:00","closed_at":"2026-01-12T03:09:08.827366045-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:42:37-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-e83","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:28:27.536230334-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.776660111-06:00","closed_at":"2026-01-12T03:09:09.776660111-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:28:27-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-e832","title":"Merge: splendid-mkbtq1cs","description":"branch: polecat/splendid-mkbtq1cs\ntarget: main\nsource_issue: splendid-mkbtq1cs\nrig: copperhead\nagent_bead: co-copperhead-polecat-splendid\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-12T18:03:35.917431604-06:00","created_by":"copperhead/polecats/splendid","updated_at":"2026-01-12T18:08:03.339771803-06:00","closed_at":"2026-01-12T18:08:03.339771803-06:00","close_reason":"Merged to main"}
{"id":"co-e85y3","title":"Create invoice billing conversion plan document","description":"Create a detailed planning document for the invoice/billing system conversion.\n\n## Output Location\n/home/kaos/documents/invoice-billing-conversion-plan.md\n\n## Document Should Cover\n- Current state analysis (what exists in copperhead for billing)\n- Work order to invoice conversion flow\n- Project progressive invoicing\n- Line item calculation (labor, materials, fees)\n- Tax handling\n- Accounting integration points (QuickBooks, Xero)\n- Invoice status workflow (Draft → Approved → Sent → Paid)\n- Required migrations/schema\n- API endpoints needed\n- UI components needed\n- Implementation phases/milestones\n\n## Reference\n- apps/api/src/routes/invoice.routes.js\n- apps/api/migrations/076_* (progressive invoicing)\n- apps/api/migrations/060_* (accounting webhooks)\n- Existing time entry and parts usage tracking\n\n## Format\nSimilar to the scheduled reminders analysis - comprehensive with clear implementation steps.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T13:27:18.016815257-06:00","created_by":"mayor","updated_at":"2026-01-28T13:39:15.210484947-06:00","closed_at":"2026-01-28T13:39:15.210484947-06:00","close_reason":"Created comprehensive invoice billing conversion plan at /home/kaos/documents/invoice-billing-conversion-plan.md"}
{"id":"co-e89x","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:08:18.253941211-06:00","created_by":"mayor","updated_at":"2026-01-12T18:16:08.232733313-06:00","closed_at":"2026-01-12T18:16:08.232733313-06:00","close_reason":"Stale session events cleaned during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:08:18-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-e93h","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:07:02.06317018-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.077199931-06:00","closed_at":"2026-01-12T03:09:09.077199931-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:07:02-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ealc","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:14:41.767713061-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:16.048374224-06:00","closed_at":"2026-01-22T22:38:16.048374224-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:14:41-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-eb64","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:25:31.02152639-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.295466953-06:00","closed_at":"2026-01-12T03:09:07.295466953-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:25:30-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ebfl","title":"Add RSB extensions to ConvertToWorkOrderPage","description":"Add Right Sidebar extensions to the Convert to Work Order page (S5) following the pattern used in AreaBasedEstimateEditor.\n\n## Context\n- File: apps/web/src/pages/salesops/ConvertToWorkOrderPage.jsx\n- Pattern: apps/web/src/components/salesops/AreaBasedEstimateEditor.jsx (lines 505-651)\n- Context: apps/web/src/context/RightSidebarContext.jsx\n\n## Requirements\n1. Import useRightSidebar from context\n2. Register sections using registerSections() in useEffect\n3. Clean up with clearSections() on unmount\n\n## Suggested Extensions\n1. Conversion Checklist - Track conversion steps (parts checked, tech assigned, date set)\n2. Parts Summary - Compact availability status view  \n3. Tech Calendar - Technician schedule overview\n4. Similar Jobs - Reference similar past work orders\n\n## Implementation Notes\n- Use existing state (partsAvailability, techAvailability, selectedTechnician, etc.)\n- Follow icon/badge patterns from estimate editor\n- Keep extensions useful for the conversion workflow","status":"closed","priority":2,"issue_type":"task","assignee":"capable","created_at":"2026-01-15T04:34:22.439629126-06:00","created_by":"mayor","updated_at":"2026-01-15T05:22:42.765351893-06:00","closed_at":"2026-01-15T05:22:42.765351893-06:00","close_reason":"Added 4 RSB sections: Conversion Checklist, Parts Summary, Tech Schedule, Similar Jobs"}
{"id":"co-edp","title":"Assessment UI - Telecommunications Grid (3x3)","description":"Create Telecommunications assessment grid matching template (3x3 format):\nRow 1: Voicemail | Continuity | Multi-site\nRow 2: UC (Unified Comms) | Transcription | Features\nRow 3: Portability | Maintenance | Billing\n\nEach cell has:\n- Current state (dropdown: None/Basic/Standard/Advanced)\n- Notes field\n- Recommendation checkbox\n- Color coding based on state","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:07:12.297784084-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.59027739-06:00","closed_at":"2026-01-05T03:15:48.146077987-06:00","close_reason":"Implemented all assessment grids (3x3 format with state dropdowns, notes, recommend checkboxes) and connectivity/LOB tables","dependencies":[{"issue_id":"co-edp","depends_on_id":"co-2db","type":"blocks","created_at":"2026-01-05T03:07:54.753894325-06:00","created_by":"mayor"},{"issue_id":"co-edp","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:13.551807639-06:00","created_by":"mayor"}]}
{"id":"co-eecy","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:29:00.05646477-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-12T03:09:09.352713154-06:00","closed_at":"2026-01-12T03:09:09.352713154-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/furiosa","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:28:59-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-furiosa\",\"worker\":\"furiosa\"}"}
{"id":"co-eesg","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T01:49:47.743489882-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:14.620636543-06:00","closed_at":"2026-01-22T22:38:14.620636543-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T01:49:47-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-efb","title":"Procurement: Estimate Pricing Review Workflow","description":"## Overview\nImplement procurement workflow for reviewing and confirming estimate pricing before client delivery.\n\n## Requirements\n- Estimate pricing review queue (pending reviews)\n- Review page showing each cost item line\n- Attach products to cost item lines\n- Confirm actual pricing based on products\n- Show price variance (estimated vs confirmed)\n- Approve/Request Changes actions\n- Finalize estimate for client delivery\n\n## Key Files\n- apps/web/src/pages/procurement/EstimatePricingReviewPage.jsx (CREATE)\n- apps/web/src/components/procurement/ProductAttachmentModal.jsx (CREATE)\n- apps/api/src/services/estimateProcurementReview.service.js (CREATE)\n- apps/api/src/routes/estimateProcurementReview.routes.js (CREATE)\n\n## Workflow\n1. Estimator submits estimate for review\n2. Procurement sees estimate in queue\n3. Procurement attaches products to each line\n4. System calculates actual costs\n5. Procurement confirms pricing\n6. Estimate finalized for client\n\n## Dependencies\n- co-np5 (Cost Item CRUD)\n- co-uac (Area-Based Estimate Editor)\n\n## Acceptance Criteria\n- Queue shows pending estimates\n- Can attach products to cost item lines\n- Price variance calculated and shown\n- Approval updates estimate status\n- Estimator notified of approval/changes","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/organic","created_at":"2026-01-06T01:05:05.348813201-06:00","created_by":"mayor","updated_at":"2026-02-10T20:53:07.954361207-06:00","closed_at":"2026-02-10T20:53:07.954361207-06:00","close_reason":"Stale - all work caught up","labels":["backend","feature","frontend","procurement"],"dependencies":[{"issue_id":"co-efb","depends_on_id":"co-np5","type":"blocks","created_at":"2026-01-06T01:05:05.352452626-06:00","created_by":"mayor"},{"issue_id":"co-efb","depends_on_id":"co-uac","type":"blocks","created_at":"2026-01-06T01:05:05.355064144-06:00","created_by":"mayor"}]}
{"id":"co-efp8","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T01:15:33.563133213-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.183456423-06:00","closed_at":"2026-01-12T03:09:07.183456423-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T01:15:33-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-eg24","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:40:10.339202527-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:08.525274606-06:00","closed_at":"2026-01-12T03:09:08.525274606-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:40:10-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-ehry","title":"AI-Native: Universal Context-Aware Handler","description":"attached_molecule: co-wisp-2sa\nattached_at: 2026-01-23T06:32:45Z\ndispatched_by: mayor\n\nUpgrade the AI chat to be fully context-aware and universal across all screens.\n\n## Problem\nCurrent AI chat asks for details instead of using existing data. User said 'add LED panels' but AI asked for SKU, price, etc. instead of searching cost items.\n\n## Solution: Universal Handler with Context Injection\n\n### Frontend Context Injection\nEvery AI request includes:\n```javascript\n{\n  message: 'user input',\n  context: {\n    screen: 'inventory|estimate|workorder|customer|...',\n    selectedRecord: { id, type, data },\n    visibleRecords: [...],\n    currentFilters: { ... },\n    userPermissions: ['inventory.write', ...]\n  }\n}\n```\n\n### AI Behavior Changes\n1. **Search before ask** - Always search existing records before requesting manual input\n2. **Context-aware actions** - Use screen context to guide tool selection\n3. **Cross-domain operations** - Handle 'add to estimate AND update inventory' in one conversation\n4. **Record awareness** - Know what record is being viewed/edited\n\n### Implementation Steps\n1. Update frontend to send context with AI requests (AIChatPanel, EstimateAIChat, VoiceButton)\n2. Update chat.service.js to use context for tool selection\n3. Add cost item search to add_inventory_item flow\n4. Add record lookup before any 'add' operation\n5. Test: 'add LED panels to main office' should find cost item and use its data\n\n### Files to Modify\n- apps/web/src/components/AIChatPanel.jsx\n- apps/web/src/components/rsb/EstimateAIChat.jsx\n- apps/api/src/services/chat.service.js\n- apps/api/src/services/ai/chatToolHandlers.js\n- apps/api/src/routes/ai.routes.js\n\n### Success Criteria\n- User says 'add LED panels' → AI finds cost item → uses existing data\n- User on estimate screen says 'add outlets' → AI adds to current estimate\n- No manual data entry for items that exist in system","status":"closed","priority":1,"issue_type":"feature","assignee":"copperhead/polecats/obsidian","created_at":"2026-01-22T23:47:02.392724068-06:00","created_by":"mayor","updated_at":"2026-01-23T00:47:29.699505037-06:00","closed_at":"2026-01-23T00:47:29.699505037-06:00","close_reason":"Implemented universal context-aware handler with search-first behavior"}
{"id":"co-el1r","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:24:29.396383523-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.970678599-06:00","closed_at":"2026-01-12T03:09:08.970678599-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:24:29-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-en5","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:37:51.449333394-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.731562293-06:00","closed_at":"2026-01-12T03:09:09.731562293-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:37:51-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-enwjm","title":"Fix mobile logout flow - clear auth state properly","description":"dispatched_by: unknown\n\nThe Logout button on mobile Settings screen doesn't fully clear auth state.\n\n## Location\n- File: apps/mobile/src/screens/SettingsScreen.tsx:181\n- Current: Only clears token, may leave stale state\n\n## Implementation\n1. Clear AsyncStorage auth tokens\n2. Clear any cached user data\n3. Reset navigation to Login screen\n4. Clear any background sync state\n\n## Acceptance\n- Tapping Logout clears all auth state\n- User is redirected to Login screen\n- Re-opening app shows Login (not cached session)","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/shale","created_at":"2026-02-03T22:29:16.630766123-06:00","created_by":"kaos","updated_at":"2026-02-03T22:32:10.826282205-06:00","closed_at":"2026-02-03T22:32:10.826282205-06:00","close_reason":"Fixed handleLogout to call logout() from AuthContext and use navigation.reset() to clear the stack"}
{"id":"co-eoj","title":"Session ended: gt-copperhead-capable","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:00:31.039597798-06:00","created_by":"copperhead/polecats/capable","updated_at":"2026-02-10T20:52:09.343208332-06:00","closed_at":"2026-02-10T20:52:09.343208332-06:00","close_reason":"Stale events/merge requests - cleanup","event_kind":"session.ended","actor":"copperhead/polecats/capable","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:00:30-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-capable\",\"worker\":\"capable\"}"}
{"id":"co-eomf3","title":"PeekPanel 4.2: Peek Breadcrumbs for Stacked Panels","description":"attached_molecule: co-wisp-imc6r\nattached_at: 2026-02-12T15:15:28Z\ndispatched_by: mayor\n\nWhen peeks stack (e.g. Customer → Quote → Line Item), show breadcrumb trail in PeekPanelHeader. Click any level to pop back to that depth.\n\nImplementation:\n- Modify PeekPanelHeader.jsx to accept a breadcrumbs prop (array of {label, onClick})\n- usePeekPanelStack already tracks stack depth — expose stack labels\n- Render breadcrumbs as clickable chips above the title when stack depth \u003e 1\n- Clicking a breadcrumb calls popToDepth(index) on the stack\n- Currently used in DispatchHub (usePeekPanelStack with max depth 3)\n\nFiles: apps/web/src/components/panels/PeekPanelHeader.jsx, apps/web/src/hooks/usePeekPanel.js, apps/web/src/pages/dispatch/DispatchHub.jsx","notes":"Implemented breadcrumb navigation for stacked PeekPanels. Added popToDepth() to usePeekPanelStack hook, breadcrumbs prop to PeekPanelHeader (rendered as clickable chips with ChevronRight separators), passed through PeekPanel component, and wired up in DispatchHub with panel-type-aware labels. Breadcrumbs only appear when stack depth \u003e 1.","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/quartz","created_at":"2026-02-12T09:14:24.659322854-06:00","created_by":"mayor","updated_at":"2026-02-12T09:44:35.771447234-06:00","closed_at":"2026-02-12T09:44:35.771447234-06:00","close_reason":"Phase 4 complete, merged and verified on staging","dependencies":[{"issue_id":"co-eomf3","depends_on_id":"co-wisp-imc6r","type":"blocks","created_at":"2026-02-12T09:15:24.699933694-06:00","created_by":"mayor"}]}
{"id":"co-eqp","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T11:23:13.168347306-06:00","created_by":"mayor","updated_at":"2026-01-06T01:15:03.199712041-06:00","closed_at":"2026-01-06T01:15:03.199712041-06:00","close_reason":"Acknowledged - sessions restarted","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T11:23:12-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ersvv","title":"Merge: co-1iz6g (beta seed script)","description":"source_issue: co-1iz6g\nbranch: polecat/copperhead-70/co-1iz6g@ml01a3wb\nworker: copperhead-70\n\nBeta Platform P0: Scenario-based seed script with data cleanup\nCreates seedBetaTesterScenarios.js with 4 customer scenarios for beta testers","status":"closed","priority":0,"issue_type":"merge-request","created_at":"2026-01-29T16:44:52.393046897-06:00","created_by":"mayor","updated_at":"2026-01-29T16:55:33.77997607-06:00","closed_at":"2026-01-29T16:55:33.77997607-06:00","close_reason":"Merged to main via cherry-pick (5d730fc4)","labels":["gt:merge-request"]}
{"id":"co-es6z","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:54:23.610567717-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.219432563-06:00","closed_at":"2026-01-12T03:09:07.219432563-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:54:23-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ex7","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:14:00.246710943-06:00","created_by":"mayor","updated_at":"2026-01-07T03:06:38.041355643-06:00","closed_at":"2026-01-07T03:06:38.041355643-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:14:00-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ey7f","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T01:23:44.762216916-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.167600681-06:00","closed_at":"2026-01-12T03:09:07.167600681-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T01:23:44-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-eygk","title":"Merge: bullet-mkbxfwje","description":"branch: polecat/bullet-mkbxfwje\ntarget: main\nsource_issue: bullet-mkbxfwje\nrig: copperhead\nagent_bead: co-copperhead-polecat-bullet\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-15T05:16:37.49954467-06:00","created_by":"kaos","updated_at":"2026-01-15T05:20:28.535115222-06:00","closed_at":"2026-01-15T05:20:28.535115222-06:00","close_reason":"Merged to main"}
{"id":"co-f0u7y","title":"Wire Timesheets Approve/Reject buttons to API","description":"dispatched_by: unknown\n\nApprove/Reject buttons on Timesheets page update UI only - API calls are commented out.\n\n## Location\n- File: apps/web/src/pages/dispatch/TimesheetsPage.jsx:105-113\n- Current: Updates UI state only, API calls commented out\n\n## Implementation\n1. Uncomment apiService.approveTimeEdit(editId)\n2. Uncomment apiService.rejectTimeEdit(editId)\n3. Add error handling with toast notifications\n4. Add loading state during API call\n5. Refresh timesheet list after success\n\n## Acceptance\n- Approve button calls API and persists approval\n- Reject button calls API and persists rejection\n- Error toast shown on failure\n- List refreshes after action","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/malachite","created_at":"2026-02-03T23:01:23.093629038-06:00","created_by":"kaos","updated_at":"2026-02-03T23:05:16.719376398-06:00","closed_at":"2026-02-03T23:05:16.719376398-06:00","close_reason":"Wired Approve/Reject buttons to API:\n- Added approveTimeEdit, rejectTimeEdit, getPendingTimeEdits methods to api.service.js\n- Updated handleApprove/handleReject to be async and call API\n- Added loading state (processingEditIds) with spinner on buttons\n- Added actionError state with dismissible error banner\n- Buttons disabled during processing\n- List refreshes after successful action"}
{"id":"co-f0zrp","title":"SECURITY: Add system admin protection for /api/admin/* routes","description":"attached_molecule: co-wisp-ia3h\nattached_at: 2026-01-29T08:04:04Z\ndispatched_by: mayor\n\nCRITICAL: Currently /api/admin/* routes only check requireRole('admin'), which ANY tenant admin has. This allows tenant admins to access beta tester management, SSO config, AI usage for other tenants.\n\n## Required Fix\n\n1. Add migration: ALTER TABLE users ADD COLUMN is_system_admin BOOLEAN DEFAULT false;\n\n2. Create middleware in apps/api/src/middleware/auth.js:\n```javascript\nconst requireSystemAdmin = (req, res, next) =\u003e {\n  if (!req.user?.is_system_admin) {\n    return res.status(403).json({ \n      success: false, \n      message: 'System administrator access required' \n    });\n  }\n  next();\n};\n```\n\n3. Update all /api/admin/* route mounts in index.js to use requireSystemAdmin instead of requireRole('admin')\n\n4. Seed dev accounts with is_system_admin: true\n\n## Files to modify\n- apps/api/migrations/NEW_system_admin.sql\n- apps/api/src/middleware/auth.js\n- apps/api/src/index.js\n- apps/api/scripts/seed-dev-accounts.js","notes":"Implemented system admin protection. Commit: 8bbcf8d4","status":"closed","priority":0,"issue_type":"bug","assignee":"copperhead/polecats/copperhead-53","created_at":"2026-01-29T02:02:58.935708309-06:00","created_by":"mayor","updated_at":"2026-01-29T02:34:27.622225721-06:00","closed_at":"2026-01-29T02:34:27.622229894-06:00","dependencies":[{"issue_id":"co-f0zrp","depends_on_id":"co-wisp-fk9r","type":"blocks","created_at":"2026-01-29T02:04:00.951483014-06:00","created_by":"mayor"},{"issue_id":"co-f0zrp","depends_on_id":"co-wisp-ia3h","type":"blocks","created_at":"2026-01-29T02:31:38.499001041-06:00","created_by":"mayor"}]}
{"id":"co-f2dl","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T15:05:58.99545289-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.4048751-06:00","closed_at":"2026-01-12T03:09:08.4048751-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T15:05:58-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-f31q","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:02:42.483499905-06:00","created_by":"mayor","updated_at":"2026-01-12T18:04:35.258819351-06:00","closed_at":"2026-01-12T18:04:35.258819351-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:02:42-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-f49o","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T15:46:41.339439107-06:00","created_by":"mayor","updated_at":"2026-01-12T16:32:10.081504925-06:00","closed_at":"2026-01-12T16:32:10.081504925-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T15:46:41-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-f6n","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:13:14.397882964-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.611656165-06:00","closed_at":"2026-01-12T03:09:09.611656165-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T01:13:14-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-fbzj","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:43:49.442167817-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.281771286-06:00","closed_at":"2026-01-12T03:09:09.281771286-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":10.5,\"ended_at\":\"2026-01-11T03:43:49-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-fceq4","title":"Create AICopilot component for RSB","description":"dispatched_by: unknown\n\nCreate a universal AI copilot component for the Right Sidebar.\n\nBased on EstimateAIChat architecture but universal:\n- Voice input via VoiceButton component\n- TTS toggle for voice output\n- Conversation history\n- Screen-specific quick actions and lookups\n\nScreen Configurations:\n- /sales/estimates/:id: Add item, Summary | Customer, Inventory\n- /dispatch/*: Create WO, Assign tech | Techs, WOs\n- /warehouse/*: Transfer, Adjust | Items, Locations\n- /procurement/*: Create PO | Vendors, Items\n- Default: General queries\n\nFILES:\n- CREATE: apps/web/src/components/rsb/AICopilot.jsx\n- MODIFY: apps/web/src/components/Sidebar/RightSidebar.jsx","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/copperhead-89","created_at":"2026-02-08T16:31:03.307278919-06:00","created_by":"kaos","updated_at":"2026-02-08T19:50:55.293399701-06:00","closed_at":"2026-02-08T19:50:55.293399701-06:00","close_reason":"Already complete - verified on staging by user"}
{"id":"co-fcg","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T11:20:34.990752679-06:00","created_by":"mayor","updated_at":"2026-01-06T01:15:03.185594914-06:00","closed_at":"2026-01-06T01:15:03.185594914-06:00","close_reason":"Acknowledged - sessions restarted","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T11:20:34-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-fcqr","title":"Digest: mol-witness-patrol","description":"Patrol 4: obsidian exploring codebase, refinery running, all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T11:44:49.091415701-06:00","updated_at":"2026-01-24T11:44:49.091415701-06:00","closed_at":"2026-01-24T11:44:49.091330461-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-fdj2","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T19:58:02.292851979-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.642084776-06:00","closed_at":"2026-01-12T03:09:07.642084776-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T19:58:02-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-fgre","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:30:28.55487344-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:28:10.089227139-06:00","closed_at":"2026-01-22T22:28:10.089227139-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:30:28-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-fhig","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:59:52.643850535-06:00","created_by":"mayor","updated_at":"2026-01-12T18:04:35.386664842-06:00","closed_at":"2026-01-12T18:04:35.386664842-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:59:52-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-fiqt","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:12:13.175815832-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.615491296-06:00","closed_at":"2026-01-12T03:09:07.615491296-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":8.5,\"ended_at\":\"2026-01-11T21:12:13-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-fk2d","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T22:01:10.977508521-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.486975864-06:00","closed_at":"2026-01-12T03:09:07.486975864-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":65,\"ended_at\":\"2026-01-11T22:01:10-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-fkf8","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:19:15.097531647-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:20.714891127-06:00","closed_at":"2026-01-12T17:27:20.714891127-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:19:15-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-fmem","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T20:10:09.185007371-06:00","created_by":"mayor","updated_at":"2026-01-12T20:15:35.973942505-06:00","closed_at":"2026-01-12T20:15:35.973942505-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T20:10:09-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-fmww","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:17:57.257260019-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:28:10.796335178-06:00","closed_at":"2026-01-22T22:28:10.796335178-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:17:57-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-fos8","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:42:48.2972466-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:08.817863258-06:00","closed_at":"2026-01-12T03:09:08.817863258-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:42:48-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-fqw","title":"Assessment Navigation Integration","description":"Add Assessments to main navigation:\n- New sidebar menu item 'Assessments'\n- Route handling for assessment views\n- Tab/page structure within assessment section\n- Back button to pricing tool","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:07:32.094482676-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.586383013-06:00","closed_at":"2026-01-05T03:13:01.501209852-06:00","close_reason":"Implemented navigation, dashboard, and basic assessment editor with corporate background, technical POC, and location inventory sections","dependencies":[{"issue_id":"co-fqw","depends_on_id":"co-2db","type":"blocks","created_at":"2026-01-05T03:07:55.391064729-06:00","created_by":"mayor"},{"issue_id":"co-fqw","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:14.478659297-06:00","created_by":"mayor"}]}
{"id":"co-fs9e","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:18:30.424088899-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T17:27:20.746949457-06:00","closed_at":"2026-01-12T17:27:20.746949457-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:18:30-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-fsk","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:09:34.287616147-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.630337156-06:00","closed_at":"2026-01-12T03:09:09.630337156-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T01:09:34-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-fss","title":"Digest: mol-deacon-patrol","description":"Patrol 13: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T03:08:17.844899903-06:00","updated_at":"2026-01-08T19:31:30.965632218-06:00","closed_at":"2026-01-07T03:08:17.844745729-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-fvi","title":"Generate cost items from AI response","description":"Create cost items in quote_lines table from AI parsed response. Include labor codes, quantities, and link to estimate areas. Handle assemblies and material expansion.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-08T19:22:10.683294221-06:00","created_by":"mayor","updated_at":"2026-01-12T00:41:31.105376913-06:00","closed_at":"2026-01-10T19:44:11.012275109-06:00","close_reason":"Implemented AI estimate cost item generation service and API routes","dependencies":[{"issue_id":"co-fvi","depends_on_id":"co-gdj","type":"parent-child","created_at":"2026-01-08T19:22:10.685128584-06:00","created_by":"mayor"}]}
{"id":"co-fvq","title":"Witness for mspp - monitors polecat health and progress.","description":"Witness for mspp - monitors polecat health and progress.\n\nrole_type: witness\nrig: mspp\nagent_state: idle\nhook_bead: null\nrole_bead: hq-witness-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-04T21:19:31.624042627-06:00","created_by":"kaos","updated_at":"2026-01-12T14:08:55.373221059-06:00","closed_at":"2026-01-12T14:08:55.373221059-06:00","close_reason":"mspp rig has no active workers - stale agent beads"}
{"id":"co-fx2j","title":"Session ended: gt-polecat-bullet","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:17:11.852920757-06:00","created_by":"kaos","updated_at":"2026-01-22T22:38:16.007582723-06:00","closed_at":"2026-01-22T22:38:16.007582723-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"polecat/polecats/bullet","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:17:11-06:00\",\"rig\":\"polecat\",\"role\":\"polecat\",\"session_id\":\"gt-polecat-bullet\",\"worker\":\"bullet\"}"}
{"id":"co-fxcw","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T22:32:22.24939862-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.43215458-06:00","closed_at":"2026-01-12T03:09:07.43215458-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T22:32:22-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-fxuv","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T22:16:10.110468249-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.459388569-06:00","closed_at":"2026-01-12T03:09:07.459388569-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T22:16:10-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-fzf3","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:51:26.162667413-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.274157033-06:00","closed_at":"2026-01-12T03:09:09.274157033-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:51:26-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-g06r","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:46:07.720178829-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-12T03:09:09.15793252-06:00","closed_at":"2026-01-12T03:09:09.15793252-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T04:46:07-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-g07q","title":"Session ended: gt-copperhead-capable","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:16:30.324404252-06:00","created_by":"copperhead/polecats/capable","updated_at":"2026-01-22T22:28:11.039519565-06:00","closed_at":"2026-01-22T22:28:11.039519565-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/capable","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:16:30-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-capable\",\"worker\":\"capable\"}"}
{"id":"co-g19","title":"M3: Build Job Detail screen","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/slit","created_at":"2026-01-05T05:10:53.020577693-06:00","created_by":"kaos","updated_at":"2026-01-05T11:56:43.062701323-06:00","closed_at":"2026-01-05T11:56:43.062701323-06:00","close_reason":"M3 WorkOrderDetailScreen already fully implemented (1715 lines). Features: customer info with call/navigate, job description, schedule times, status banner with state transitions, start job → safety checklist flow, quick actions (Activities/Time/Parts/Photos/Notes/Truck Stock), API integration, notes/photos display, task checklist, complete job flow, offline mode, pull-to-refresh. Navigation wired M2→M3→M4. Theming migration is separate initiative per UI-THEMING.md.","labels":["lite-mvp","mobile","ui"]}
{"id":"co-g3vg","title":"Merge: valkyrie-mkaxio41","description":"branch: polecat/valkyrie-mkaxio41\ntarget: main\nsource_issue: valkyrie-mkaxio41\nrig: copperhead\nagent_bead: co-copperhead-polecat-valkyrie\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","assignee":"deacon","created_at":"2026-01-12T03:01:17.098585142-06:00","created_by":"copperhead/polecats/valkyrie","updated_at":"2026-01-12T05:48:02.702069014-06:00","closed_at":"2026-01-12T05:48:02.702069014-06:00","close_reason":"Merged to main (0112c627)"}
{"id":"co-g4mh","title":"AI-Native Chat: Universal Tool Calling","description":"dispatched_by: mayor\n\nRevamp chat.service.js to use Claude function calling like estimateTools.js. Create universal FieldOps tools:\n\nInventory: add_inventory_item, transfer_stock, check_stock_levels\nWork Orders: create_work_order, assign_technician, update_work_order_status  \nCustomers: find_customer, create_customer\nScheduling: check_availability, schedule_job\nQueries: run_report, search_anything\n\nUser says 'add light switches to main office' -\u003e AI executes add_inventory_item tool.\n\nReference: apps/api/src/services/ai/estimateTools.js and estimateToolHandlers.js for pattern.","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/browser","created_at":"2026-01-22T21:55:28.62834664-06:00","created_by":"mayor","updated_at":"2026-01-22T23:18:06.240641787-06:00","closed_at":"2026-01-22T23:18:06.240641787-06:00","close_reason":"Completed - commit 42399899 adds OpenAI tool calling for universal chat"}
{"id":"co-g5d9","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:21:05.133926058-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.405096429-06:00","closed_at":"2026-01-12T03:09:09.405096429-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:21:05-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-g6010","title":"Add 'commits without PR' check to polecat health check","description":"Polecats are completing work but not running 'gt done':\n\n**Observed behavior:**\n- Polecat makes commits\n- Polecat pushes branch to origin  \n- Polecat closes the bead\n- Polecat session stays running (should exit)\n- No PR is created\n- No MR bead is created\n\n**Expected behavior:**\n- Polecat runs 'gt done' which creates MR bead and exits session\n\n**Proposed fix for polecat-health-check.sh:**\nAdd a check that looks for:\n1. Polecat worktrees with commits ahead of origin/main\n2. Corresponding bead is closed\n3. No open PR exists for the branch\n4. tmux session still running\n\nWhen detected:\n- Either nudge the polecat to run 'gt done'\n- Or create the PR automatically and clean up\n\n**Files:**\n- /home/kaos/gt/scripts/polecat-health-check.sh\n- mol-polecat-work.formula.toml (may need clearer gt done instructions)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-01T13:41:43.625047113-06:00","created_by":"mayor","updated_at":"2026-02-01T13:46:37.002366299-06:00","closed_at":"2026-02-01T13:46:37.002366299-06:00","close_reason":"Closed"}
{"id":"co-g7y8","title":"Session ended: gt-copperhead-goose","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T01:56:29.570441052-06:00","created_by":"copperhead/polecats/goose","updated_at":"2026-01-22T22:38:14.526521403-06:00","closed_at":"2026-01-22T22:38:14.526521403-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/goose","payload":"{\"cost_usd\":0.25,\"ended_at\":\"2026-01-16T01:56:29-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-goose\",\"worker\":\"goose\"}"}
{"id":"co-ga3d","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:19:19.757182666-06:00","created_by":"mayor","updated_at":"2026-01-12T18:25:23.066822803-06:00","closed_at":"2026-01-12T18:25:23.066822803-06:00","close_reason":"stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:19:19-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ga8b","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:26:26.075461918-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.989871203-06:00","closed_at":"2026-01-12T03:09:07.989871203-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:26:26-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-gdj","title":"AI Estimate Assistant: Core parsing and BoM generation","description":"Implement the core AI parsing that converts natural language descriptions into structured cost items and bill of materials per /home/kaos/Documents/ai-estimate-assistant-spec.md. Phase 4 BoM generation is the key deliverable.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T19:21:54.105989174-06:00","created_by":"mayor","updated_at":"2026-01-10T20:32:51.634204398-06:00","closed_at":"2026-01-10T20:32:51.634204398-06:00","close_reason":"All 4 subtasks merged: BoM generation, cost item generation, cost item matching, test fixes. +2,871 lines total."}
{"id":"co-gdzn","title":"Merge: toast-mkggvne4","description":"branch: polecat/toast-mkggvne4\ntarget: main\nsource_issue: toast-mkggvne4\nrig: copperhead\nagent_bead: co-copperhead-polecat-toast\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-16T17:50:24.416574915-06:00","created_by":"copperhead/polecats/toast","updated_at":"2026-01-16T17:54:45.421256194-06:00","closed_at":"2026-01-16T17:54:45.421256194-06:00","close_reason":"Merged to main: Property Profiles - Equipment tracking at customer sites"}
{"id":"co-gf4e","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:11:00.966066411-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:21.132825842-06:00","closed_at":"2026-01-12T17:27:21.132825842-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:11:00-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-gf7s","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:09:56.217209037-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.413800901-06:00","closed_at":"2026-01-12T03:09:09.413800901-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":10.5,\"ended_at\":\"2026-01-11T03:09:56-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ggf8w","title":"Estimate Line Item Chain of Custody","description":"attached_molecule: co-wisp-ezfk\nattached_at: 2026-01-25T21:36:25Z\ndispatched_by: mayor\n\nTrack line items through estimate→WO→cancel flow. See docs/plans/estimate-chain-of-custody.md for full plan. Key deliverables:\n1. Migration: assignment_status column on estimate_line_items, RETURNED_TO edge type, conversion_status on estimates\n2. Backend: Enhance workOrder cancel to return items to estimate, add recalculateEstimateConversion helper\n3. Frontend: Show conversion % on ApprovedJobsPage, cancel warning on WorkOrderEditPage","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/obsidian","created_at":"2026-01-25T15:28:27.564955156-06:00","created_by":"mayor","updated_at":"2026-01-25T16:03:02.341840142-06:00","closed_at":"2026-01-25T16:03:02.341840142-06:00","close_reason":"Implemented estimate line item chain of custody tracking: migration 074, estimateChainOfCustody.service.js, WO cancel returns items, UI shows conversion %","dependencies":[{"issue_id":"co-ggf8w","depends_on_id":"co-wisp-ezfk","type":"blocks","created_at":"2026-01-25T15:36:24.079531043-06:00","created_by":"mayor"}]}
{"id":"co-gh3z","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T06:54:14.505949867-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.691037679-06:00","closed_at":"2026-01-12T03:09:08.691037679-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T06:54:14-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-gh9f","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:43:47.448549307-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.551208961-06:00","closed_at":"2026-01-12T03:09:07.551208961-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T21:43:47-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ghdph","title":"Fix beta seed - estimates/areas/line items/BOM showing zeros","description":"Beta seed data shows zeros for:\n- Estimates\n- Areas\n- Line items\n- Bill of materials\n\nUser says: 'beta scenarios have estimates with areas, line items and bill of materials. right now I see zeros for all 3 and that is wrong.'\n\n## Fix:\n- Refer to beta tester scenarios seed plan\n- Ensure seedBetaTenantData creates proper estimates with areas, line items, and BOM\n- Check apps/api/scripts/seedBetaTesterScenarios.js for reference data","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-04T22:44:14.781008195-06:00","created_by":"kaos","updated_at":"2026-02-08T21:19:41.994032415-06:00","closed_at":"2026-02-08T21:19:41.994032415-06:00","close_reason":"BOM seeding verified: seedLineItemBOMs() exists at line 1590 in seedBetaTesterScenarios.js. Visual test on beta confirmed seeded WOs (10) and POs (8) present. Line items BOM requires admin access to verify UI but code is in place."}
{"id":"co-ghph","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:43:55.936916842-06:00","created_by":"mayor","updated_at":"2026-01-12T14:48:09.90622112-06:00","closed_at":"2026-01-12T14:48:09.90622112-06:00","close_reason":"Stale session events - cleaned during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:43:55-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-giw","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:28:53.364177052-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-07T03:06:37.553285558-06:00","closed_at":"2026-01-07T03:06:37.553285558-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"copperhead/polecats/furiosa","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:28:53-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-furiosa\",\"worker\":\"furiosa\"}"}
{"id":"co-gl2","title":"Assessment UI - LOB Applications Table","description":"Create LOB Applications table matching template:\n- Columns: Application Name, Vendor, Support Contract (Y/N/Expired), # Users, SaaS/On-Prem\n- Add/remove application rows\n- Highlight expired support contracts\n- Import from intake LOB data if available","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:06:54.040535494-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.595944913-06:00","closed_at":"2026-01-05T03:15:48.157766065-06:00","close_reason":"Implemented all assessment grids (3x3 format with state dropdowns, notes, recommend checkboxes) and connectivity/LOB tables","dependencies":[{"issue_id":"co-gl2","depends_on_id":"co-2db","type":"blocks","created_at":"2026-01-05T03:07:53.368941143-06:00","created_by":"mayor"},{"issue_id":"co-gl2","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:12.266091433-06:00","created_by":"mayor"}]}
{"id":"co-gmbl","title":"Merge: browser-mknqoq5a","description":"branch: polecat/browser-mknqoq5a\ntarget: main\nsource_issue: browser-mknqoq5a\nrig: copperhead\nagent_bead: co-copperhead-polecat-browser\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","notes":"Already merged via commit 8383c6f9","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-21T02:15:07.136326034-06:00","created_by":"copperhead/polecats/browser","updated_at":"2026-01-21T04:47:45.512170042-06:00","closed_at":"2026-01-21T04:47:45.512173981-06:00"}
{"id":"co-gnxh","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T00:38:01.853838918-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:14.976335182-06:00","closed_at":"2026-01-22T22:38:14.976335182-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T00:38:01-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-goh0","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:59:51.823510284-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.10334893-06:00","closed_at":"2026-01-12T03:09:09.10334893-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T04:59:51-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-gq2","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:13:21.171819757-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.602389335-06:00","closed_at":"2026-01-12T03:09:09.602389335-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T01:13:21-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-gqyio","title":"PeekPanel 3.2: Retrofit WorkOrdersListPage with side peek","description":"File: pages/dispatch/WorkOrdersListPage.jsx\nCurrent: Click row → navigate() to full page\nChange: Click → side peek with WO summary. Double-click or 'Open full page' → navigates.\n- New WorkOrderSummaryContent component showing status, tech, line items, schedule\n- peekType=\"wo-summary\", contextType=\"list\", fullPageUrl=\"/dispatch/work-orders/${id}\"\n- Import PeekPanel from components/panels\n- PeekPanelProvider must be in MainLayout first (Phase 2 — handled by sibling bead)\n\n## Testing\n- Click WO row → side peek opens with WO summary\n- Double-click → navigates to full WO page\n- Position switcher works\n- List stays visible when peek is open\n- No regressions","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-12T01:48:56.349975539-06:00","created_by":"mayor","updated_at":"2026-02-12T01:48:56.349975539-06:00"}
{"id":"co-gr2mn","title":"Add /signup route - beta invite URLs broken","description":"dispatched_by: mayor\n\nBeta invite emails link to /signup?code=BETA-XXXX but App.js only has /register route. The Register component already handles invite codes. Fix: Add /signup route in App.js that renders Register component directly. sendgridService.js line 303 generates signupUrl with /signup path. Files: apps/web/src/App.js","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/copperhead-106","created_at":"2026-02-10T00:51:55.973954315-06:00","created_by":"kaos","updated_at":"2026-02-10T00:57:01.426699048-06:00","closed_at":"2026-02-10T00:57:01.426699048-06:00","close_reason":"fixed"}
{"id":"co-grg4q","title":"Phase Sign-Off Workflow","description":"attached_molecule: co-wisp-kq40\nattached_at: 2026-01-25T22:31:53Z\ndispatched_by: mayor\n\nAdd explicit phase sign-off gate that auto-unblocks next phase.\n\nRequirements:\n1. Add phase_signed_off_at, phase_signed_off_by columns to work_orders\n2. Create POST /api/work-orders/:id/sign-off endpoint\n3. When phase signed off: auto-update dependent WO from WAITING to SCHEDULED\n4. Clear blocked_reason on dependent WO\n5. Log to work_order_status_history\n\nExisting infrastructure:\n- depends_on_work_order_id already exists\n- blocked_reason, unblocked_at columns exist\n- trade_ready endpoint exists (can use as reference)\n\nFiles to modify:\n- migrations/075_phase_signoff.sql\n- apps/api/src/routes/workOrder.routes.js (add sign-off endpoint)\n- apps/api/src/routes/project.routes.js (may need updates)","status":"closed","priority":1,"issue_type":"feature","assignee":"copperhead/polecats/obsidian","created_at":"2026-01-25T16:30:30.331282258-06:00","created_by":"mayor","updated_at":"2026-01-25T16:34:09.779420611-06:00","closed_at":"2026-01-25T16:34:09.779420611-06:00","close_reason":"Implemented phase sign-off workflow: added migration 074_phase_signoff.sql with phase_signed_off_at/by columns and view, added POST /api/work-orders/:id/sign-off endpoint that auto-unblocks dependent WOs","dependencies":[{"issue_id":"co-grg4q","depends_on_id":"co-wisp-kq40","type":"blocks","created_at":"2026-01-25T16:31:52.180234808-06:00","created_by":"mayor"}]}
{"id":"co-gsfp9","title":"API 500: /api/analytics/sales-dashboard crashes","description":"attached_molecule: co-wisp-2k42x\nattached_at: 2026-02-12T17:19:46Z\ndispatched_by: mayor\n\nGET /api/analytics/sales-dashboard returns HTTP 500. SalesDashboard page renders but shows no data. Reproduce: login as javier6855@yahoo.com, navigate to /sales/dashboard.","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/quartz","created_at":"2026-02-12T11:19:17.800079333-06:00","created_by":"mayor","updated_at":"2026-02-12T11:22:38.848868741-06:00","closed_at":"2026-02-12T11:22:38.848868741-06:00","close_reason":"Fixed. KPI queries in salesAnalytics.service.js referenced non-existent column total_amount on estimates table. Changed to e.total (the actual column). Three occurrences fixed across current-period and previous-period KPI queries.","dependencies":[{"issue_id":"co-gsfp9","depends_on_id":"co-wisp-2k42x","type":"blocks","created_at":"2026-02-12T11:19:41.701829162-06:00","created_by":"mayor"}]}
{"id":"co-gutg9","title":"bug","description":"## Problem\nThe orange feedback bubble (BugReportButton) is not visible on the screen.\n\n## Expected\nOrange bug icon should appear at bottom-right of the screen.\n\n## Investigation needed\n- Check if BugReportButton component is being rendered in MainLayout\n- Verify z-index and positioning\n- Check if something is overlaying it\n\n## Related\nQA testing found this issue","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-05T01:01:15.518003226-06:00","created_by":"kaos","updated_at":"2026-02-09T05:34:42.818843212-06:00","closed_at":"2026-02-09T05:34:42.818843212-06:00","close_reason":"Fixed - AIChatPanel removed, BugReportButton now visible"}
{"id":"co-gwqz","title":"Add RSB extensions to CostItemDetailPage","description":"Add Right Sidebar extensions to the Cost Item Detail page following the pattern used in AreaBasedEstimateEditor.\n\n## Context\n- Target: apps/web/src/pages/procurement/CostItemDetailPage.jsx\n- Pattern: apps/web/src/components/salesops/AreaBasedEstimateEditor.jsx (lines 505-651)\n- Context Provider: apps/web/src/context/RightSidebarContext.jsx\n\n## Requirements\n1. Import useRightSidebar from context\n2. Register sections using registerSections() in useEffect\n3. Clean up with clearSections() on unmount\n\n## Suggested Extensions\n\n### 1. Product BOM (like Areas Index)\n- Show products attached to this cost item\n- Click to scroll to products section\n- Badge showing product count\n- Icon: Package\n\n### 2. Usage Tracker (like AI Suggestions)  \n- Where this cost item is used (estimates, work orders, quotes)\n- Count of active usages\n- Links to related documents\n- Icon: Link2 or BarChart3\n\n### 3. Price History\n- Historical price changes\n- Last updated date\n- Vendor price comparisons if available\n- Icon: TrendingUp or DollarSign\n\n### 4. Vendor Options\n- Alternative vendors for this item\n- Quick compare pricing\n- Contact info shortcuts\n- Icon: Building2 or Truck\n\n### 5. AI Assistant (optional)\n- Natural language queries about the cost item\n- 'Find similar items', 'Suggest pricing'\n- Icon: Bot or Sparkles\n\n## Implementation Notes\n- Use existing state (costItem, formData, loading)\n- Follow icon/badge patterns from estimate editor\n- Keep extensions useful for cost item management workflow\n- Fetch usage data via API (may need new endpoint)","status":"closed","priority":2,"issue_type":"task","assignee":"ace","created_at":"2026-01-15T04:48:22.578281939-06:00","created_by":"mayor","updated_at":"2026-01-15T05:11:05.1396473-06:00","closed_at":"2026-01-15T05:11:05.1396473-06:00","close_reason":"RSB extensions added to CostItemDetailPage with 4 sections (Product BOM, Usage, Price History, Vendors) plus context API"}
{"id":"co-gxn","title":"Enhance M4: Add GPS location tracking to Time Entry screen","status":"closed","priority":1,"issue_type":"task","assignee":"mayor/","created_at":"2026-01-05T05:10:53.673752085-06:00","created_by":"kaos","updated_at":"2026-01-05T15:48:14.269179808-06:00","closed_at":"2026-01-05T15:48:14.269179808-06:00","close_reason":"GPS location tracking added to M4 Time Entry screen","labels":["lite-mvp","mobile","ui"]}
{"id":"co-gzd9","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T13:56:00.660467122-06:00","created_by":"mayor","updated_at":"2026-01-12T14:08:25.636359694-06:00","closed_at":"2026-01-12T14:08:25.636359694-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T13:56:00-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-h00","title":"W3: Build Calendar Week View","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:10:55.094187571-06:00","created_by":"kaos","updated_at":"2026-01-05T16:20:24.984673214-06:00","closed_at":"2026-01-05T16:20:24.984673214-06:00","close_reason":"Already implemented by MCP agents - see W1-W10 in features-list.md and claude-progress.md","labels":["lite-mvp","ui","web"]}
{"id":"co-h01jh","title":"Implement Work Order Split functionality","description":"attached_molecule: co-wisp-xa7\nattached_at: 2026-01-25T01:39:41Z\ndispatched_by: mayor\n\n## Feature Request\nAdd ability to split a work order into multiple work orders.\n\n## Use Case\n- Large job needs to be broken into phases (Rough-In, Trim, Finish)\n- Need to assign different technicians to different parts\n- Schedule different portions for different dates\n\n## Requirements\n1. API endpoint: `POST /api/work-orders/:id/split`\n2. Service function: `splitWorkOrder(woId, splitConfig)`\n3. Create lineage edges with `SPLIT_INTO` type\n4. Record `work_order_split` lineage event\n5. UI button on Work Order detail page\n\n## Schema Ready\nMigration 017 already has:\n- `SPLIT_INTO` edge type\n- `work_order_split` event type\n- `WorkOrderSplitDTO` in event-dtos.js","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/onyx","created_at":"2026-01-24T16:53:34.904713372-06:00","created_by":"mayor","updated_at":"2026-01-24T23:16:00.453105224-06:00","closed_at":"2026-01-24T23:16:00.453105224-06:00","close_reason":"Work completed directly in crew/phase6b - E2WO conversion with split functionality implemented"}
{"id":"co-h0fq","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T16:50:54.849000952-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:21.428824433-06:00","closed_at":"2026-01-12T17:27:21.428824433-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T16:50:54-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-h33ma","title":"Implement i18n language switching on mobile","description":"dispatched_by: unknown\n\nLanguage selector on mobile Settings screen is a mock with no actual implementation.\n\n## Location\n- File: apps/mobile/src/screens/SettingsScreen.tsx\n- Current: Language picker UI exists but doesn't change app language\n\n## Implementation\n1. Integrate i18n library (react-i18next or similar)\n2. Create translation files for supported languages (en, es minimum)\n3. Wire language selector to change app locale\n4. Persist language preference in AsyncStorage\n5. Apply language on app startup\n\n## Acceptance\n- Language selector changes app language\n- Preference persists across app restarts\n- At minimum English and Spanish supported","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/amethyst","created_at":"2026-02-04T10:56:01.792719754-06:00","created_by":"kaos","updated_at":"2026-02-04T11:06:33.693942574-06:00","closed_at":"2026-02-04T11:06:33.693942574-06:00","close_reason":"Implemented i18n language switching: added react-i18next, expo-localization, translation files (EN/ES), LanguageProvider context, and wired language selector in SettingsScreen with AsyncStorage persistence."}
{"id":"co-h39u","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T02:48:19.690759937-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.429895218-06:00","closed_at":"2026-01-12T03:09:09.429895218-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":23.6,\"ended_at\":\"2026-01-11T02:48:19-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-h3bk","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:39:15.038339788-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-22T22:38:48.288475169-06:00","closed_at":"2026-01-22T22:38:48.288475169-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/furiosa","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:39:14-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-furiosa\",\"worker\":\"furiosa\"}"}
{"id":"co-h3y","title":"PLAN-001 Phase 3: Settings Add-Ons Page","description":"AddOnsPage.jsx, purchased vs available catalogs, Coming Soon with notify-me","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T01:23:55.844062039-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.000420964-06:00","closed_at":"2026-01-07T02:07:39.891531609-06:00","close_reason":"Phase 3 complete - AddOnsSettings.jsx created with purchased vs available catalogs, Coming Soon with notify-me","dependencies":[{"issue_id":"co-h3y","depends_on_id":"co-srk","type":"blocks","created_at":"2026-01-07T01:25:15.432659445-06:00","created_by":"mayor"}]}
{"id":"co-h6xm","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:40:26.707417998-06:00","created_by":"mayor","updated_at":"2026-01-12T17:40:47.402545674-06:00","closed_at":"2026-01-12T17:40:47.402545674-06:00","close_reason":"stale event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:40:26-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-h8d","title":"Session ended: gt-copperhead-rictus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T22:48:59.811551845-06:00","created_by":"copperhead/polecats/rictus","updated_at":"2026-01-12T03:09:09.879169266-06:00","closed_at":"2026-01-12T03:09:09.879169266-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/rictus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T22:48:59-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-rictus\",\"worker\":\"rictus\"}"}
{"id":"co-hb0e","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:25:46.323878631-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.588478083-06:00","closed_at":"2026-01-12T03:09:07.588478083-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":8.5,\"ended_at\":\"2026-01-11T21:25:46-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-hbk8y","title":"Create seed validation script and schema-check skill","description":"Create tooling to validate seeds against schema-registry.\n\n## Files to Create\n\n### 1. apps/api/scripts/validate-seeds.ts\n```typescript\n// Run as: npm run schema:validate-seeds\n\nimport { getAllTables } from '@field-ops/schema-registry';\nimport * as glob from 'glob';\nimport * as fs from 'fs';\n\nconst seedFiles = glob.sync('apps/api/scripts/seed*.js');\n\nfor (const file of seedFiles) {\n  const content = fs.readFileSync(file, 'utf-8');\n\n  // Extract INSERT statements\n  const inserts = content.matchAll(/INSERT INTO (\\w+)\\s*\\(([^)]+)\\)/gi);\n\n  for (const [, table, columns] of inserts) {\n    const tableSchema = getAllTables()[table];\n    if (!tableSchema) {\n      console.error(`${file}: Unknown table '${table}'`);\n      continue;\n    }\n\n    const usedCols = columns.split(',').map(c =\u003e c.trim());\n    for (const col of usedCols) {\n      if (!tableSchema.hasColumn(col)) {\n        console.error(`${file}: Unknown column '${table}.${col}'`);\n        console.error(`  Valid columns: ${tableSchema.columnNames.join(', ')}`);\n      }\n    }\n  }\n}\n```\n\n### 2. Add npm script to apps/api/package.json\n```json\n{\n  \"scripts\": {\n    \"schema:validate-seeds\": \"ts-node scripts/validate-seeds.ts\"\n  }\n}\n```\n\n### 3. copperhead/crew/skills/schema-check.md\n```markdown\n# /schema-check\n\nValidate seed files against schema-registry definitions.\n\n## Usage\nRun this before committing seed changes to catch column mismatches.\n\n## Steps\n1. Run `cd apps/api \u0026\u0026 npm run schema:validate-seeds`\n2. Fix any reported column name mismatches\n3. Re-run until clean\n```\n\n### 4. (Optional) Add to /verify skill integration\nThe schema-check should be called as part of the verification flow.\n\n## Verification\n1. Script runs without errors\n2. Script correctly identifies known mismatches (like code vs item_code)\n3. Skill can be invoked from Claude Code","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T02:42:53.62031386-06:00","created_by":"mayor","updated_at":"2026-02-10T20:59:44.369434369-06:00","closed_at":"2026-02-10T20:59:44.369434369-06:00","close_reason":"Stale - all work caught up","dependencies":[{"issue_id":"co-hbk8y","depends_on_id":"co-5n24e","type":"blocks","created_at":"2026-01-31T02:43:24.704399865-06:00","created_by":"mayor"}]}
{"id":"co-hc3qs","title":"Add auto-scheduling when parts become available","description":"attached_molecule: co-wisp-w1uy\nattached_at: 2026-01-28T07:44:07Z\ndispatched_by: mayor\n\nEnhance schedulingWorker.js to auto-suggest or auto-schedule work orders when all parts become available. Add configurable buffer time before scheduling. Consider technician availability. Emit notification to dispatcher with scheduling options.","notes":"Implementation complete: added auto-scheduling when parts become available with configurable buffer time, technician availability checks, and dual modes (auto/suggest)","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/sodalite","created_at":"2026-01-28T01:40:44.831130052-06:00","created_by":"mayor","updated_at":"2026-01-28T02:53:14.564528402-06:00","closed_at":"2026-01-28T02:53:14.564528402-06:00","close_reason":"Implemented auto-scheduling when parts become available with configurable buffer time and technician availability checking","dependencies":[{"issue_id":"co-hc3qs","depends_on_id":"co-wisp-1vne","type":"blocks","created_at":"2026-01-28T01:44:04.761893303-06:00","created_by":"mayor"},{"issue_id":"co-hc3qs","depends_on_id":"co-wisp-vpqy","type":"blocks","created_at":"2026-01-28T02:47:17.461937991-06:00","created_by":"mayor"},{"issue_id":"co-hc3qs","depends_on_id":"co-wisp-w1uy","type":"blocks","created_at":"2026-01-28T02:48:50.311205123-06:00","created_by":"mayor"}]}
{"id":"co-hcnq","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:31:08.213407131-06:00","created_by":"mayor","updated_at":"2026-01-12T14:33:10.765723748-06:00","closed_at":"2026-01-12T14:33:10.765723748-06:00","close_reason":"Stale session event - cleaned in triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:31:08-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-hdk","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T22:30:45.252303239-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:09.935267412-06:00","closed_at":"2026-01-12T03:09:09.935267412-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T22:30:45-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-hez5d","title":"Add proper bullmq test mocking","description":"attached_molecule: co-wisp-3wiz\nattached_at: 2026-01-29T19:53:56Z\ndispatched_by: mayor\n\nThe current bullmq fix (co-3oy23) uses no-op stubs in test mode, leaving the queue system completely untested.\n\n## Problem\n```javascript\n// Current workaround - stubs do nothing\nlet initializeQueueSystem = async () =\u003e false;\nlet getAllQueueStats = async () =\u003e ({});\nlet shutdownQueues = async () =\u003e {};\n```\n\nAny code that uses queues (job enqueue, workers, scheduled tasks) has zero test coverage.\n\n## Acceptance Criteria\n1. Create Jest mock for bullmq at `apps/api/src/tests/__mocks__/bullmq.js`\n2. Mock should track enqueued jobs for assertion\n3. Mock should allow simulating job processing\n4. Add at least one test that verifies job enqueue behavior\n5. Remove the no-op stubs from index.js once mock is in place\n\n## Implementation Options\n- **Option A (Recommended):** Jest manual mock that captures enqueued jobs\n- **Option B:** Use `jest-mock-extended` for type-safe mocking\n- **Option C:** Testcontainers with real Redis (heavier, for integration tests)\n\n## Related\n- Workaround PR: polecat/copperhead-61/co-3oy23@mkzuzkpr\n- Original issue: hq-r3o9","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/copperhead-62","created_at":"2026-01-29T13:48:36.41873993-06:00","created_by":"mayor","updated_at":"2026-01-29T13:59:18.456329357-06:00","closed_at":"2026-01-29T13:59:18.456329357-06:00","close_reason":"Added Jest manual mock for bullmq at apps/api/__mocks__/bullmq.js. Mock tracks enqueued jobs via __mockJobs array and supports worker simulation via __processJob. Added 22 queue system tests covering all acceptance criteria.","labels":["tech-debt","testing"],"dependencies":[{"issue_id":"co-hez5d","depends_on_id":"co-wisp-3wiz","type":"blocks","created_at":"2026-01-29T13:53:50.610697918-06:00","created_by":"mayor"}]}
{"id":"co-hgu","title":"Convoy: AI Estimate Assistant","description":"Convoy to implement AI Estimate Assistant parsing and BoM generation","status":"closed","priority":2,"issue_type":"convoy","created_at":"2026-01-08T19:28:07.748325611-06:00","created_by":"mayor","updated_at":"2026-02-10T20:52:59.101696029-06:00","closed_at":"2026-02-10T20:52:59.101696029-06:00","close_reason":"Stale - all work caught up","dependencies":[{"issue_id":"co-hgu","depends_on_id":"co-gdj","type":"blocks","created_at":"2026-01-08T19:28:07.756330064-06:00","created_by":"mayor"},{"issue_id":"co-hgu","depends_on_id":"co-dlu","type":"blocks","created_at":"2026-01-08T19:28:07.762658348-06:00","created_by":"mayor"},{"issue_id":"co-hgu","depends_on_id":"co-3tg","type":"blocks","created_at":"2026-01-08T19:28:07.767902632-06:00","created_by":"mayor"},{"issue_id":"co-hgu","depends_on_id":"co-fvi","type":"blocks","created_at":"2026-01-08T19:28:07.772994222-06:00","created_by":"mayor"},{"issue_id":"co-hgu","depends_on_id":"co-9r6","type":"blocks","created_at":"2026-01-08T19:28:07.776112864-06:00","created_by":"mayor"}]}
{"id":"co-hi29","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:44:23.34706745-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:48.226061511-06:00","closed_at":"2026-01-22T22:38:48.226061511-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:44:23-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-hjem","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:09:45.384326571-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.058236268-06:00","closed_at":"2026-01-12T03:09:09.058236268-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:09:45-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-hk95","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T15:50:54.868531775-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.341157345-06:00","closed_at":"2026-01-12T03:09:08.341157345-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T15:50:54-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-hlz","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:47:29.90149229-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.686551175-06:00","closed_at":"2026-01-12T03:09:09.686551175-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:47:29-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-hnzlu","title":"Add Priority and Market fields to Estimate Editor","description":"Implementation complete - ready for review. Changes:\n- Migration 063: priority/market columns on estimates and work_orders\n- EstimateHeader.jsx: Priority and Market dropdowns\n- crm.service.js: Allows new fields in updateEstimate\n- convert_estimate_to_work_order copies both fields to work orders","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/topaz","created_at":"2026-01-24T23:21:14.48294731-06:00","created_by":"mayor","updated_at":"2026-01-24T23:38:02.146444253-06:00","closed_at":"2026-01-24T23:38:02.146444253-06:00","close_reason":"Closed"}
{"id":"co-homq","title":"Session ended: gt-copperhead-dementus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:45:51.875825752-06:00","created_by":"copperhead/polecats/dementus","updated_at":"2026-01-12T03:09:09.175975388-06:00","closed_at":"2026-01-12T03:09:09.175975388-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/dementus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T04:45:51-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dementus\",\"worker\":\"dementus\"}"}
{"id":"co-hp09","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T15:21:18.276847498-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.377738276-06:00","closed_at":"2026-01-12T03:09:08.377738276-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T15:21:18-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-hs7i","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:48:18.701314137-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.79738307-06:00","closed_at":"2026-01-12T03:09:07.79738307-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:48:18-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-hs9u","title":"Session ended: gt-copperhead-goose","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:18:53.194215603-06:00","created_by":"copperhead/polecats/goose","updated_at":"2026-01-22T22:28:10.4329072-06:00","closed_at":"2026-01-22T22:28:10.4329072-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/goose","payload":"{\"cost_usd\":0.25,\"ended_at\":\"2026-01-16T04:18:52-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-goose\",\"worker\":\"goose\"}"}
{"id":"co-htq","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:19:54.080830972-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.81355041-06:00","closed_at":"2026-01-12T03:09:09.81355041-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:19:53-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-hudzk","title":"Add ETA tracking and propagation for work_order_parts","description":"attached_molecule: co-wisp-w2ok\nattached_at: 2026-01-28T07:42:31Z\ndispatched_by: mayor\n\nEnsure expected_arrival_date propagates from PO line items to work_order_parts. Update partsScheduling.service to surface ETAs in status responses. Trigger backorder notification when ETA is set/changed on backordered items.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/zircon","created_at":"2026-01-28T01:40:44.194524073-06:00","created_by":"mayor","updated_at":"2026-01-28T01:46:58.269461591-06:00","closed_at":"2026-01-28T01:46:58.269472534-06:00","dependencies":[{"issue_id":"co-hudzk","depends_on_id":"co-wisp-w2ok","type":"blocks","created_at":"2026-01-28T01:42:28.421489212-06:00","created_by":"mayor"}]}
{"id":"co-hxvqi","title":"Plan 10: Color Contrast Fixes (WCAG AA Accessibility)","description":"Fix color contrast issues across the application to meet WCAG AA standards.\n\n## Problem\nPhase tags and badges use dark-mode-optimized colors without light mode variants:\n- Dark text on dark backgrounds in light mode\n- Low contrast badges that are hard to read\n- 27 contrast issues found in E2E test\n\n## Files to Modify (Priority Order)\n\n### P0 - Critical\n- `AreaLineItem.jsx` - Phase tags, type badges, stock badges\n\n### P1 - High\n- `PhaseVarianceDashboard.jsx` - Status badges\n- `EstimateAreaSection.jsx` - Area colors\n- `SplitConfigurationModal.jsx` - Phase colors\n\n### P2 - Medium\n- `EstimateAIChat.jsx` - Slate badges\n- `EstimateActivity.jsx` - Activity badges\n\n## Color Pattern Standard\n| Element | Light Mode | Dark Mode |\n|---------|------------|-----------|\n| Background | `-100` (e.g., `bg-blue-100`) | `-500/20` (e.g., `bg-blue-500/20`) |\n| Text | `-700` (e.g., `text-blue-700`) | `-400` (e.g., `text-blue-400`) |\n\n**Tailwind pattern:**\n```\nbg-blue-100 text-blue-700 dark:bg-blue-500/20 dark:text-blue-400\n```\n\n## Acceptance Criteria\n- [ ] Phase tags readable in light mode\n- [ ] Phase tags readable in dark mode\n- [ ] Type badges readable in both modes\n- [ ] Stock badges readable in both modes\n- [ ] All badges meet 4.5:1 contrast ratio\n\n## Reference\nSee: `docs/ux-plans/10-color-contrast-audit.md`","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T15:10:29.038403668-06:00","created_by":"kaos","updated_at":"2026-02-06T15:14:03.914098031-06:00","closed_at":"2026-02-06T15:14:03.914098031-06:00","close_reason":"Plan 10 color contrast fixes complete - all P1 files fixed with light/dark mode support"}
{"id":"co-hzpe","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:17:59.063277237-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.635604355-06:00","closed_at":"2026-01-12T03:09:08.635604355-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:17:58-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-i0xs","title":"Session ended: gt-copperhead-capable","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:18:27.043480586-06:00","created_by":"copperhead/polecats/capable","updated_at":"2026-01-22T22:28:10.602795131-06:00","closed_at":"2026-01-22T22:28:10.602795131-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/capable","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:18:26-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-capable\",\"worker\":\"capable\"}"}
{"id":"co-i2u6","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T01:08:59.842569729-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.209939224-06:00","closed_at":"2026-01-12T03:09:07.209939224-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T01:08:59-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-i4bb","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T15:16:31.995822582-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.386702908-06:00","closed_at":"2026-01-12T03:09:08.386702908-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T15:16:31-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-i4vm","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:29:27.500421475-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.343490814-06:00","closed_at":"2026-01-12T03:09:09.343490814-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:29:27-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-i4wq","title":"Session ended: gt-copperhead-cheedo","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:18:23.897624703-06:00","created_by":"copperhead/polecats/cheedo","updated_at":"2026-01-22T22:28:10.635974317-06:00","closed_at":"2026-01-22T22:28:10.635974317-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/cheedo","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:18:23-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-cheedo\",\"worker\":\"cheedo\"}"}
{"id":"co-i5dq","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T15:04:38.683021653-06:00","created_by":"mayor","updated_at":"2026-01-12T15:24:56.902812897-06:00","closed_at":"2026-01-12T15:24:56.902812897-06:00","close_reason":"Session ended - stale event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T15:04:38-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-i60","title":"Digest: mol-deacon-patrol","description":"Patrol 3 complete: idle town, all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T02:41:52.605713468-06:00","updated_at":"2026-01-08T19:31:30.984252202-06:00","closed_at":"2026-01-07T02:41:52.605545695-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-i71gj","title":"Fix Edit Client buttons - wire edit modal","description":"dispatched_by: unknown\n\nEdit buttons on Dispatch \u003e Clients page do nothing. Row clicks also only console.log.\n\n## Locations\n- Edit button: apps/web/src/pages/dispatch/ClientsListPage.jsx:281-284\n- Row click: apps/web/src/pages/dispatch/ClientsListPage.jsx:102-105\n\n## Implementation\n1. Reuse ClientModal component in edit mode\n2. Pass selected client data to modal for pre-population\n3. On submit, call PATCH /api/customers/:id\n4. Refresh client list after success\n5. Row click should either navigate to detail page or open edit modal\n\n## Acceptance\n- Click Edit button opens modal with client data pre-filled\n- Clicking row opens edit modal (or navigates to detail)\n- Submitting updates customer and refreshes list","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/marble","created_at":"2026-02-03T22:07:34.002094586-06:00","created_by":"kaos","updated_at":"2026-02-03T22:13:20.130726538-06:00","closed_at":"2026-02-03T22:13:20.130726538-06:00","close_reason":"Closed"}
{"id":"co-ic5","title":"Merge: furiosa-mk3qccla","description":"branch: polecat/furiosa-mk3qccla\ntarget: main\nsource_issue: furiosa-mk3qccla\nrig: copperhead\nagent_bead: co-copperhead-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-07T02:10:12.658693826-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-08T19:31:31.067125919-06:00","closed_at":"2026-01-07T02:54:53.701234568-06:00","close_reason":"Rejected - conflict with main, needs rebase"}
{"id":"co-ic82v","title":"Beta Platform Phase 5: Mobile web PWA for iPad","description":"attached_molecule: co-wisp-tmcx\nattached_at: 2026-01-29T06:39:08Z\ndispatched_by: mayor\n\nMake mobile app installable as PWA for iPad testing.\n\n## Files to Create\n- apps/mobile/public/manifest.json - PWA manifest\n- apps/mobile/public/icon-192.png - PWA icon\n- apps/mobile/public/icon-512.png - PWA icon\n\n## Modify\n- apps/mobile/app.json - web config\n\n## Build Command\ncd apps/mobile \u0026\u0026 npx expo export:web\n\n## Output\napps/mobile/dist/ → deploy to mobile.fieldops.com\n\n## iPad Instructions for Welcome Email\n1. Open Safari\n2. Go to mobile.fieldops.com\n3. Tap Share → Add to Home Screen\n4. Open from home screen (runs fullscreen)\n\n## Reference\nSee /home/kaos/Documents/PLAN-Beta-Testing-Platform.md Phase 5","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/selenite","created_at":"2026-01-29T00:18:46.794345944-06:00","created_by":"mayor","updated_at":"2026-01-29T00:47:32.854548647-06:00","closed_at":"2026-01-29T00:47:32.854548647-06:00","close_reason":"PWA support added. Build: npx expo export --platform web. Output: apps/mobile/dist/. Deploy to mobile.fieldops.com.","dependencies":[{"issue_id":"co-ic82v","depends_on_id":"co-wisp-tmcx","type":"blocks","created_at":"2026-01-29T00:39:04.565302276-06:00","created_by":"mayor"}]}
{"id":"co-ihzg","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:31:38.484220831-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-22T22:38:32.637433804-06:00","closed_at":"2026-01-22T22:38:32.637433804-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:31:38-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-iieg","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:33:01.566834145-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.923636262-06:00","closed_at":"2026-01-12T03:09:08.923636262-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:33:01-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ilgn","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:09:10.517192466-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.663218983-06:00","closed_at":"2026-01-12T03:09:08.663218983-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:09:10-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ilrt","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T16:58:51.675124524-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:21.33869824-06:00","closed_at":"2026-01-12T17:27:21.33869824-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T16:58:51-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-imh5","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T13:54:26.487823321-06:00","created_by":"mayor","updated_at":"2026-01-12T14:08:25.643147042-06:00","closed_at":"2026-01-12T14:08:25.643147042-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T13:54:26-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-inej0","title":"Digest: mol-witness-patrol","description":"Patrol 1: Inbox empty, 1 running polecat (copperhead-81 working on migration fix), 19 done polecats with no unpushed work, 41 stale entries, no cleanup wisps, refinery running, deacon not running, no timer gates, no swarms","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T22:05:46.984909771-06:00","updated_at":"2026-01-31T22:05:46.984909771-06:00","closed_at":"2026-01-31T22:05:46.984775142-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-inn","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:15:01.739320722-06:00","created_by":"mayor","updated_at":"2026-01-07T03:06:38.014951591-06:00","closed_at":"2026-01-07T03:06:38.014951591-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:15:01-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-iob","title":"Assessment UI - Security Grid (3x3)","description":"Create Security assessment grid matching template (3x3 format):\nRow 1: Training | Encryption | SOC\nRow 2: Dark Web Monitoring | DNS Security | Endpoint Protection\nRow 3: Whitelisting | Anti-Phishing | Content Filtering\n\nEach cell has:\n- Current state (dropdown: None/Basic/Standard/Advanced)\n- Notes field\n- Recommendation checkbox\n- Color coding based on state","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:07:09.423252006-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.592963841-06:00","closed_at":"2026-01-05T03:15:48.138367048-06:00","close_reason":"Implemented all assessment grids (3x3 format with state dropdowns, notes, recommend checkboxes) and connectivity/LOB tables","dependencies":[{"issue_id":"co-iob","depends_on_id":"co-2db","type":"blocks","created_at":"2026-01-05T03:07:54.175019655-06:00","created_by":"mayor"},{"issue_id":"co-iob","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:12.929171565-06:00","created_by":"mayor"}]}
{"id":"co-iohh","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T22:35:00.545006994-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.413611815-06:00","closed_at":"2026-01-12T03:09:07.413611815-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T22:35:00-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ir50x","title":"Fix beta tier - unlock all features for beta testers","description":"dispatched_by: copperhead/polecats/sunstone\n\nBeta testers get error: 'Estimates Quotes is not available on your current plan. Please upgrade to access this feature.'\n\n## Root cause:\nBeta subscription tier doesn't have permissions for all features.\n\n## Fix needed:\n- Find where subscription tier permissions are checked\n- Ensure 'beta' tier has access to ALL features (estimates, quotes, etc.)\n- Beta testers need full access to test everything\n\n## Likely locations:\n- Middleware checking subscription permissions\n- Feature flags or tier configuration\n- tenantProvisioning.service.js - subscription_tier setting","status":"closed","priority":0,"issue_type":"bug","assignee":"copperhead/polecats/rhodonite","created_at":"2026-02-04T22:36:40.893412072-06:00","created_by":"kaos","updated_at":"2026-02-04T22:43:59.820726078-06:00","closed_at":"2026-02-04T22:43:59.820726078-06:00","close_reason":"PR #94 merged - beta plan with full features"}
{"id":"co-islf","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:29:09.69444867-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.98062647-06:00","closed_at":"2026-01-12T03:09:07.98062647-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:29:09-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-iu18","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:23:48.811919072-06:00","created_by":"mayor","updated_at":"2026-01-12T14:33:10.291719443-06:00","closed_at":"2026-01-12T14:33:10.291719443-06:00","close_reason":"Stale session event - cleaned in triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:23:48-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ivk5a","title":"Consolidate ScheduleCalendar into CalendarPage","description":"attached_molecule: co-wisp-w91i\nattached_at: 2026-01-27T04:05:24Z\ndispatched_by: mayor\n\nMerge ScheduleCalendar drag-and-drop functionality into CalendarPage, creating a unified scheduling experience.\n\n## Current State\n- ScheduleCalendar (components/dispatch/ScheduleCalendar.jsx): Drag-drop daily scheduling grid\n- CalendarPage (pages/dispatch/CalendarPage.jsx): Read-only day/week/month views\n- Two calendar UIs confuse users\n\n## Target State\nCalendarPage becomes the unified calendar with:\n- Day view: Full drag-and-drop scheduling (like ScheduleCalendar)\n- Week view: Visual schedule overview with optional drag-and-drop\n- Month view: Read-only overview (unchanged)\n\n## Implementation Steps\n1. Add drag-and-drop state/handlers to CalendarPage\n2. Replace day view with scheduling grid (tech rows, time columns)\n3. Add WorkOrderCard and TimeSlotCell components\n4. Normalize data field names (technicianId, scheduledTime, etc.)\n5. Update week view with drag-and-drop (optional)\n6. Remove ScheduleCalendar from DispatchHub\n\n## Files to Modify\n- pages/dispatch/CalendarPage.jsx - Add drag-drop, replace day view\n- pages/dispatch/DispatchHub.jsx - Remove ScheduleCalendar, update view modes\n- components/dispatch/ScheduleCalendar.jsx - Delete after migration\n\n## Verification\n1. /dispatch/calendar Day view shows time-slot grid with technician rows\n2. Drag work order to different tech/time - updates and persists\n3. Drag to Unassigned sidebar clears assignment\n4. Week/Month views work correctly\n5. /dispatch has no calendar view mode, link to Calendar page works","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/quartz","created_at":"2026-01-26T22:04:51.385106025-06:00","created_by":"mayor","updated_at":"2026-01-26T22:10:41.279774807-06:00","closed_at":"2026-01-26T22:10:41.279774807-06:00","close_reason":"Implemented unified CalendarPage with Day/Week/Month views. Day view has drag-drop scheduling, week view has drag-drop support, month view is read-only. Removed ScheduleCalendar from DispatchHub and added link to Calendar page.","dependencies":[{"issue_id":"co-ivk5a","depends_on_id":"co-wisp-w91i","type":"blocks","created_at":"2026-01-26T22:05:23.933056786-06:00","created_by":"mayor"}]}
{"id":"co-iwb1","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:52:16.27594188-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.087182932-06:00","closed_at":"2026-01-12T03:09:08.087182932-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:52:16-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ix3","title":"Digest: mol-deacon-patrol","description":"Patrol 12: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T03:05:38.523415089-06:00","updated_at":"2026-01-08T19:31:31.281690985-06:00","closed_at":"2026-01-07T03:05:38.523249531-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-ix38c","title":"Department notifications for procurement/warehouse","description":"## Goal\nAlert procurement and warehouse departments when orders need their attention.\n\n## IMPORTANT: Use BullMQ, NOT Inngest\nThis project uses BullMQ (via Redis) for job queues. Do NOT use Inngest.\n\n## Context\nWhen work flows through the system, different departments need to be notified:\n- Procurement needs to know when materials are requested\n- Warehouse needs to know when items need to be picked/staged\n- Both need visibility into urgent or time-sensitive orders\n\n## Requirements\n1. Notify procurement when:\n   - New material request created from estimate/WO\n   - PO needs approval\n   - Vendor confirms backorder or delivery date change\n   \n2. Notify warehouse when:\n   - PO received and needs to be put away\n   - Work order needs parts picked/staged\n   - Transfer request created\n   \n3. Notification channels:\n   - In-app notifications (badge counts, notification center)\n   - Optional email digest\n\n4. Use BullMQ for async job processing:\n   - Create notification jobs via BullMQ queues\n   - Workers process and deliver notifications\n\n## Acceptance Criteria\n- [ ] Procurement sees badge when material requests pending\n- [ ] Warehouse sees badge when items need picking\n- [ ] Clicking notification navigates to relevant page\n- [ ] Notifications can be marked as read/dismissed\n- [ ] Uses BullMQ, NOT Inngest","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/onyx","created_at":"2026-01-27T00:18:14.821288542-06:00","created_by":"mayor","updated_at":"2026-01-27T02:23:39.784554982-06:00","closed_at":"2026-01-27T02:23:39.784554982-06:00","close_reason":"Completed in PR #25 - BullMQ department notifications merged","dependencies":[{"issue_id":"co-ix38c","depends_on_id":"co-wisp-vk60","type":"blocks","created_at":"2026-01-27T00:18:45.161113487-06:00","created_by":"mayor"}]}
{"id":"co-ixi7v","title":"Line Item calculation preview modal","description":"dispatched_by: unknown\n\nShow calculation preview BEFORE adding line item to estimate.\n\nCurrent: Item selected -\u003e immediately added with qty=1, difficulty=1.0\nTarget: Item selected -\u003e preview modal -\u003e user sets qty/difficulty -\u003e sees calculations -\u003e adds\n\nCREATE: apps/web/src/components/salesops/LineItemPreviewModal.jsx\n- Quantity input\n- Difficulty dropdown with presets (0.5 Easy to 2.0 Extreme)\n- Live calculation breakdown:\n  - Base Labor × Qty = Adjusted Labor\n  - Adjusted × Difficulty = Final Labor\n  - Labor × Rate = Labor Cost\n  - Material × Qty = Material Cost\n  - Total\n\nMODIFY: apps/web/src/components/salesops/EstimateAreaSection.jsx\n- Add previewItem state\n- Intercept handleItemSelected to open modal\n- Add handlePreviewConfirm to add with user values","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/copperhead-93","created_at":"2026-02-08T16:31:25.46151621-06:00","created_by":"kaos","updated_at":"2026-02-08T16:52:31.82810028-06:00","closed_at":"2026-02-08T16:52:31.82810028-06:00","close_reason":"Implemented LineItemPreviewModal and integrated into EstimateAreaSection. Preview modal shows qty/difficulty inputs with live calculation breakdown before adding items."}
{"id":"co-j09i","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:04:17.044128933-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.050092512-06:00","closed_at":"2026-01-12T03:09:08.050092512-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:04:16-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-j0z","title":"Session ended: gt-copperhead-dementus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:19:07.675860733-06:00","created_by":"copperhead/polecats/dementus","updated_at":"2026-01-07T03:06:37.838530847-06:00","closed_at":"2026-01-07T03:06:37.838530847-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"copperhead/polecats/dementus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:19:07-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dementus\",\"worker\":\"dementus\"}"}
{"id":"co-j2g","title":"Test issue - Gas Town setup verification","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-04T21:31:45.765215364-06:00","created_by":"kaos","updated_at":"2026-01-08T19:31:31.237020003-06:00","closed_at":"2026-01-06T03:43:50.569519692-06:00","close_reason":"Test issue - completed"}
{"id":"co-j4qz","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:17:39.838520704-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.314016383-06:00","closed_at":"2026-01-12T03:09:07.314016383-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:17:39-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-j6td","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:50:08.955788772-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.105624638-06:00","closed_at":"2026-01-12T03:09:08.105624638-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:50:08-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-j8oa","title":"Digest: mol-witness-patrol","description":"Patrol 12: obsidian wrote API routes, task 2 nearly done","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T11:47:55.546693068-06:00","updated_at":"2026-01-24T11:47:55.546693068-06:00","closed_at":"2026-01-24T11:47:55.546482693-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-jawea","title":"Wire Truck Mark Restocked button to API","description":"dispatched_by: unknown\n\nMark Restocked button on Trucks page shows alert but doesn't persist to database.\n\n## Location\n- File: apps/web/src/pages/procurement/TruckStockPage.jsx:86-97\n- Current: Alert + UI removal, API call commented out\n\n## Implementation\n1. Call inventory transfer or restock API\n2. Update truck inventory status in database\n3. Add loading state during API call\n4. Refresh truck list after success\n5. Show success/error toast\n\n## Acceptance\n- Mark Restocked calls API and persists status\n- Truck inventory updated in database\n- List refreshes after action\n- Proper feedback shown to user","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/turquoise","created_at":"2026-02-03T23:01:30.310458479-06:00","created_by":"kaos","updated_at":"2026-02-03T23:08:00.699588966-06:00","closed_at":"2026-02-03T23:08:00.699592836-06:00"}
{"id":"co-jb35w","title":"Fix migrations 042/047 - line_items column name mismatches","description":"attached_molecule: co-wisp-xlhik\nattached_at: 2026-02-01T16:48:37Z\ndispatched_by: mayor\n\nMigrations 042 and 047 are skipped due to column name mismatches:\n\n- **042**: References 'item_type' column not in actual line_items table\n- **047**: Seed data references 'item_code' but actual column is 'code'\n\n**To fix:**\n1. Check current line_items schema for actual column names\n2. Update migrations 042/047 to use correct column names\n3. Remove from SKIP_MIGRATIONS in migrate.js\n4. Test on staging\n\n**Files:**\n- apps/api/scripts/migrate.js (SKIP_MIGRATIONS lines 42-46)\n- apps/api/migrations/042_*.sql\n- apps/api/migrations/047_*.sql","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-01T10:47:35.051241836-06:00","created_by":"mayor","updated_at":"2026-02-01T13:52:45.467864269-06:00","closed_at":"2026-02-01T13:52:45.467869032-06:00","dependencies":[{"issue_id":"co-jb35w","depends_on_id":"co-wisp-xlhik","type":"blocks","created_at":"2026-02-01T10:48:32.801425235-06:00","created_by":"mayor"}]}
{"id":"co-jce","title":"Digest: mol-deacon-patrol","description":"Patrol 15: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T03:13:34.173998003-06:00","updated_at":"2026-01-08T19:31:30.941669032-06:00","closed_at":"2026-01-07T03:13:34.173838315-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-jdb5","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:43:07.795232006-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:48.253034233-06:00","closed_at":"2026-01-22T22:38:48.253034233-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:43:07-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-jdux","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T03:43:03.575132003-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:14.069110808-06:00","closed_at":"2026-01-22T22:38:14.069110808-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T03:43:03-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-jggw","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T22:44:51.609136121-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.394879558-06:00","closed_at":"2026-01-12T03:09:07.394879558-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T22:44:51-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-jgl8","title":"Session ended: gt-copperhead-max","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T19:46:22.979543181-06:00","created_by":"copperhead/polecats/max","updated_at":"2026-01-12T19:48:08.494562566-06:00","closed_at":"2026-01-12T19:48:08.494562566-06:00","close_reason":"Triage: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/max","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T19:46:22-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-max\",\"worker\":\"max\"}"}
{"id":"co-jh350","title":"Fix staging API URL: use relative /api + nginx proxy","description":"attached_molecule: co-wisp-ngasf\nattached_at: 2026-01-30T02:10:34Z\ndispatched_by: mayor\n\nThe staging web build at beta.rtghouston.com is failing because the Dockerfile defaults to http://api.fieldops.local/api which doesn't exist.\n\nFix:\n1. Change apps/web/Dockerfile ARG VITE_API_URL default from 'http://api.fieldops.local/api' to '/api'\n2. Uncomment the /api/ proxy block in apps/web/nginx.conf (lines 38-48)\n3. Ensure the proxy points to http://api:3001/api/\n\nThis enables the web container to use relative API paths with nginx proxying to the API service, avoiding CORS and hardcoded URLs.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/copperhead-76","created_at":"2026-01-29T20:06:40.850919629-06:00","created_by":"mayor","updated_at":"2026-01-29T20:11:31.219164096-06:00","closed_at":"2026-01-29T20:11:31.219164096-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-jh350","depends_on_id":"co-wisp-ngasf","type":"blocks","created_at":"2026-01-29T20:10:19.993498999-06:00","created_by":"mayor"}]}
{"id":"co-ji25w","title":"Resolve merge conflicts on PR #98","description":"dispatched_by: mayor\n\nPR #98 (fix(seed): add BOM entries to seeded line items for beta tenants) has merge conflicts with main.\n\nRebase or merge main into the branch and resolve conflicts, then push.\n\nBranch: polecat/calcite/co-4v40t@ml93iaz3\nPR: https://github.com/FrankAtGHub/copperhead/pull/98","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/copperhead-95","created_at":"2026-02-08T20:05:25.30421939-06:00","created_by":"kaos","updated_at":"2026-02-08T20:10:48.842273062-06:00","closed_at":"2026-02-08T20:10:48.842273062-06:00","close_reason":"PR #98 changes already in main via PR #97. Rebased stale branch onto main and force-pushed to clear conflict state. PR was already closed."}
{"id":"co-jkr8f","title":"Add backorder alert notification handler","description":"attached_molecule: co-wisp-myp3\nattached_at: 2026-01-28T07:41:44Z\ndispatched_by: mayor\n\nAdd 'dept.backorder-alert' handler to notificationWorker.js. Notify estimate creators and procurement when parts are backordered. Include part name, expected ETA, and link to WO/estimate. Use existing VENDOR_BACKORDER notification type.","notes":"Implemented backorder alert notification handler:\n- Added dept.backorder-alert handler to notificationWorker.js\n- Handler notifies procurement (using VENDOR_BACKORDER type) and estimate creators\n- Includes part name, ETA, link to WO/estimate\n- Added emitBackorderAlertNotification to jobService.js\n- Triggers from POST endpoint when backorder is detected","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/bloodstone","created_at":"2026-01-28T01:40:43.801077865-06:00","created_by":"mayor","updated_at":"2026-01-28T10:08:18.385554322-06:00","closed_at":"2026-01-28T10:08:18.385554322-06:00","close_reason":"Merged via co-xwbok","dependencies":[{"issue_id":"co-jkr8f","depends_on_id":"co-wisp-d06r","type":"blocks","created_at":"2026-01-28T01:41:41.682015662-06:00","created_by":"mayor"},{"issue_id":"co-jkr8f","depends_on_id":"co-wisp-myp3","type":"blocks","created_at":"2026-01-28T02:46:19.372184363-06:00","created_by":"mayor"}]}
{"id":"co-jlqo","title":"Add document number sequences tables (Estimate, PO, WO)","description":"attached_molecule: co-wisp-zdfw\nattached_at: 2026-01-27T08:53:50Z\ndispatched_by: mayor\n\nCreate sequence tables for document numbering like invoice_number_sequences:\n\n**Database Migration:**\nCreate tables with same structure as invoice_number_sequences (migration 060):\n\n```sql\n-- Estimate sequences\nCREATE TABLE estimate_number_sequences (\n  tenant_id UUID PRIMARY KEY REFERENCES tenants(id),\n  prefix VARCHAR(20) DEFAULT 'EST-',\n  next_number INTEGER DEFAULT 1001,\n  padding INTEGER DEFAULT 5,\n  updated_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Purchase Order sequences  \nCREATE TABLE po_number_sequences (\n  tenant_id UUID PRIMARY KEY REFERENCES tenants(id),\n  prefix VARCHAR(20) DEFAULT 'PO-',\n  next_number INTEGER DEFAULT 1001,\n  padding INTEGER DEFAULT 5,\n  updated_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Work Order sequences\nCREATE TABLE wo_number_sequences (\n  tenant_id UUID PRIMARY KEY REFERENCES tenants(id),\n  prefix VARCHAR(20) DEFAULT 'WO-',\n  next_number INTEGER DEFAULT 1001,\n  padding INTEGER DEFAULT 5,\n  updated_at TIMESTAMP DEFAULT NOW()\n);\n```\n\n**Functions:**\n- get_next_estimate_number(p_tenant_id UUID)\n- get_next_po_number(p_tenant_id UUID)\n- get_next_wo_number(p_tenant_id UUID)\n\n**Backend Service:**\n- Create documentSequences.service.js with CRUD for all sequence types\n- GET/PATCH endpoints for each sequence type\n\n**Reference:**\n- Pattern from apps/api/migrations/060_accounting_integrations.sql lines 405-443\n\n**Files to create:**\n- apps/api/migrations/070_document_number_sequences.sql\n- apps/api/src/services/documentSequences.service.js\n- apps/api/src/routes/documentSequences.routes.js","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/pearl","created_at":"2026-01-24T11:02:35.714112161-06:00","created_by":"mayor","updated_at":"2026-01-27T09:45:06.021674781-06:00","closed_at":"2026-01-27T09:45:06.021674781-06:00","close_reason":"Merged PR #30","labels":["backend","company-settings","database"],"dependencies":[{"issue_id":"co-jlqo","depends_on_id":"co-wisp-zdfw","type":"blocks","created_at":"2026-01-27T02:53:48.382075581-06:00","created_by":"mayor"}]}
{"id":"co-jmmn","title":"Add magic bytes validation for file uploads","description":"Currently file uploads only validate MIME type from the Content-Type header, which can be spoofed. Add server-side validation of file magic bytes to verify actual file content matches claimed type.","acceptance_criteria":"- Validate magic bytes for uploaded files (JPEG, PNG, GIF, PDF)\n- Reject files where magic bytes don't match claimed MIME type\n- Return clear error message on rejection","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T01:22:47.970658487-06:00","created_by":"mayor","updated_at":"2026-01-18T01:42:32.936736825-06:00","closed_at":"2026-01-18T01:42:32.936736825-06:00","close_reason":"Implemented magic bytes validation utility and integrated into photos upload endpoint. Files disguised with false MIME types are now rejected.","labels":["file-upload","security"]}
{"id":"co-jooi","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T22:31:50.483816893-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.44127183-06:00","closed_at":"2026-01-12T03:09:07.44127183-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T22:31:50-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-jq6a","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T04:42:11.772789905-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:16.365626502-06:00","closed_at":"2026-01-22T22:38:16.365626502-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T04:42:11-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-jqsyl","title":"Inventory/Procurement/Warehouse ↔ Work Orders Integration","description":"Integration between inventory/procurement/warehouse systems and work orders.\n\n## Goals\n- Streamline parts ordering workflow from estimate to WO completion\n- Provide visibility into backorder status affecting scheduling\n- Enable proper coordination between estimate makers, procurement, warehouse, and dispatch\n\n## Child Features\n1. Backorder alerts for estimate makers\n2. Department notifications (procurement/warehouse)\n3. Scheduling integration with parts arrival dates\n4. Full procurement workflow (estimate → PO → receiving → WO assignment)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-29T17:57:52.854882965-06:00","created_by":"mayor","updated_at":"2026-02-09T05:34:36.397193077-06:00","closed_at":"2026-02-09T05:34:36.397193077-06:00","close_reason":"Epic complete - all 4 child features closed"}
{"id":"co-jqsyl.1","title":"Backorder alerts for estimate makers","description":"attached_molecule: co-wisp-miwa0\nattached_at: 2026-01-30T00:02:29Z\ndispatched_by: mayor\n\nNotify estimate makers when parts they've added to an estimate will be backordered.\n\n## Requirements\n- When an estimate includes parts that are backordered or low stock, alert the estimate maker\n- Show expected availability date if known\n- Allow estimate maker to see alternatives or adjust quantities\n- Consider impact on job scheduling when backorders are detected\n\n## Technical Considerations\n- Hook into estimate creation/update flow\n- Query inventory system for stock status and backorder info\n- Notification mechanism (in-app, email, or both)","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/copperhead-71","created_at":"2026-01-29T17:58:19.140916765-06:00","created_by":"mayor","updated_at":"2026-01-29T20:46:41.015353033-06:00","closed_at":"2026-01-29T20:46:41.015353033-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-jqsyl.1","depends_on_id":"co-jqsyl","type":"parent-child","created_at":"2026-01-29T17:58:19.143851987-06:00","created_by":"mayor"},{"issue_id":"co-jqsyl.1","depends_on_id":"co-wisp-miwa0","type":"blocks","created_at":"2026-01-29T18:02:16.72610103-06:00","created_by":"mayor"}]}
{"id":"co-jqsyl.2","title":"Department notifications for procurement/warehouse","description":"attached_molecule: co-wisp-16odd\nattached_at: 2026-01-30T00:11:17Z\ndispatched_by: mayor\n\nAlert procurement and warehouse departments when orders need their attention.\n\n## Requirements\n- Notify procurement when new purchase orders need to be placed\n- Notify warehouse when orders arrive and need receiving\n- Notify warehouse when parts need to be pulled for scheduled work orders\n- Configurable notification preferences per department/user\n\n## Notification Triggers\n- New PO created from estimate approval\n- Shipment arriving (from vendor tracking if available)\n- Parts needed for upcoming scheduled WO (lead time based)\n- Low stock alerts for commonly used parts","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/copperhead-73","created_at":"2026-01-29T17:58:21.385789706-06:00","created_by":"mayor","updated_at":"2026-01-29T18:22:18.628780673-06:00","closed_at":"2026-01-29T18:22:18.628780673-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-jqsyl.2","depends_on_id":"co-jqsyl","type":"parent-child","created_at":"2026-01-29T17:58:21.389102238-06:00","created_by":"mayor"},{"issue_id":"co-jqsyl.2","depends_on_id":"co-wisp-16odd","type":"blocks","created_at":"2026-01-29T18:11:07.305311603-06:00","created_by":"mayor"}]}
{"id":"co-jqsyl.3","title":"Scheduling integration with parts arrival dates","description":"attached_molecule: co-wisp-uf5jp\nattached_at: 2026-01-30T00:07:33Z\ndispatched_by: mayor\n\nEnable proper scheduling once parts arrival dates are known.\n\n## Requirements\n- Track expected arrival dates for ordered parts\n- Integrate arrival dates into WO scheduling system\n- Prevent scheduling WOs before required parts are available\n- Auto-suggest reschedule when parts are delayed\n- Dashboard view of WOs waiting on parts\n\n## Technical Considerations\n- Link PO line items to WO parts requirements\n- Update scheduling constraints when arrival dates change\n- Notification when parts arrive and WO can be scheduled","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/copperhead-72","created_at":"2026-01-29T17:58:23.542451624-06:00","created_by":"mayor","updated_at":"2026-01-29T21:10:23.547728832-06:00","closed_at":"2026-01-29T21:10:23.547728832-06:00","close_reason":"Implemented parts status UI for dispatcher dashboard: Added parts status column and filter to work orders table with color-coded badges. Commit: 15667a8b","dependencies":[{"issue_id":"co-jqsyl.3","depends_on_id":"co-jqsyl","type":"parent-child","created_at":"2026-01-29T17:58:23.545901624-06:00","created_by":"mayor"},{"issue_id":"co-jqsyl.3","depends_on_id":"co-wisp-uf5jp","type":"blocks","created_at":"2026-01-29T18:07:19.579613449-06:00","created_by":"mayor"}]}
{"id":"co-jqsyl.4","title":"Full procurement workflow: estimate to WO assignment","description":"attached_molecule: co-wisp-9yg5p\nattached_at: 2026-01-30T00:35:01Z\ndispatched_by: mayor\n\nComplete workflow from estimate creation through parts assignment to work order.\n\n## Workflow Steps\n1. Estimate created with parts list\n2. Customer approves estimate\n3. Parts availability checked (in-stock vs need to order)\n4. PO created for parts needing order\n5. PO sent to vendor\n6. Parts received at warehouse\n7. Parts assigned/reserved for specific WO\n8. WO scheduled when parts available\n9. Parts pulled and staged for technician\n\n## Requirements\n- Track state transitions through entire flow\n- Audit trail of who did what when\n- Handle partial shipments and split orders\n- Support cancellations and returns at any stage\n- Reporting on workflow bottlenecks and cycle times","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/copperhead-76","created_at":"2026-01-29T17:58:26.21531712-06:00","created_by":"mayor","updated_at":"2026-01-29T21:15:23.664771573-06:00","closed_at":"2026-01-29T21:15:23.664771573-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-jqsyl.4","depends_on_id":"co-jqsyl","type":"parent-child","created_at":"2026-01-29T17:58:26.220619296-06:00","created_by":"mayor"},{"issue_id":"co-jqsyl.4","depends_on_id":"co-wisp-k2b17","type":"blocks","created_at":"2026-01-29T18:34:52.683144339-06:00","created_by":"mayor"},{"issue_id":"co-jqsyl.4","depends_on_id":"co-wisp-9yg5p","type":"blocks","created_at":"2026-01-29T21:03:38.23741805-06:00","created_by":"mayor"}]}
{"id":"co-jr7n","title":"Agent Browser: CI integration config","description":"Add agent-browser smoke tests to CI:\n- Non-blocking smoke check stage\n- Run after main test suite\n- Report results but don't fail build initially\n- Configure headless browser environment","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-21T02:06:14.515338974-06:00","created_by":"mayor","updated_at":"2026-01-21T02:06:14.515338974-06:00","labels":["agent-browser","ci","testing"],"dependencies":[{"issue_id":"co-jr7n","depends_on_id":"co-cvw6","type":"blocks","created_at":"2026-01-21T02:06:20.474429634-06:00","created_by":"mayor"}]}
{"id":"co-jrlah","title":"PeekPanel 4.4: Keyboard Shortcuts","description":"attached_molecule: co-wisp-bhhsh\nattached_at: 2026-02-12T15:16:39Z\ndispatched_by: mayor\n\nAdd keyboard shortcuts for PeekPanel interactions:\n\n| Key | Action |\n|-----|--------|\n| Esc | Close peek (already exists) |\n| Ctrl+Shift+P | Cycle position: side → bottom → center → full |\n| Ctrl+Enter | Expand to full page (navigate to fullPageUrl if set) |\n\nImplementation:\n- PeekPanelContext.jsx already has the Ctrl+Shift+P global shortcut registered — verify it works and cycles correctly\n- Add Ctrl+Enter handler in PeekPanel.jsx that calls onClose + navigates to fullPageUrl prop\n- Ensure shortcuts only fire when a PeekPanel is actually open\n- Add visual hints in position switcher dropdown showing keyboard shortcuts\n\nFiles: apps/web/src/context/PeekPanelContext.jsx, apps/web/src/components/panels/PeekPanel.jsx, apps/web/src/components/panels/PeekPanelHeader.jsx","notes":"Implemented keyboard shortcuts: Ctrl+Enter navigates to fullPageUrl and closes panel (new), verified Esc close and Ctrl+Shift+P position cycling (existing). Added visual shortcut hints in position-switcher dropdown. Added fullPageUrl prop to PeekPanel.","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/obsidian","created_at":"2026-02-12T09:14:34.209212036-06:00","created_by":"mayor","updated_at":"2026-02-12T09:44:36.186436452-06:00","closed_at":"2026-02-12T09:44:36.186436452-06:00","close_reason":"Phase 4 complete, merged and verified on staging","dependencies":[{"issue_id":"co-jrlah","depends_on_id":"co-wisp-dgjda","type":"blocks","created_at":"2026-02-12T09:16:34.370538057-06:00","created_by":"mayor"},{"issue_id":"co-jrlah","depends_on_id":"co-wisp-bhhsh","type":"blocks","created_at":"2026-02-12T09:28:25.932233778-06:00","created_by":"mayor"}]}
{"id":"co-jsv1","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:12:36.542255263-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.342279647-06:00","closed_at":"2026-01-12T03:09:07.342279647-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:12:36-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-jv3","title":"DB: Run Lite core migration","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:10:58.561018496-06:00","created_by":"kaos","updated_at":"2026-01-05T11:21:32.972852143-06:00","closed_at":"2026-01-05T11:21:32.972852143-06:00","close_reason":"Created 030_lite_core.sql migration with work_order_photos table, GPS columns for time_entries, and task completion tracking. Updated migrate.js with --lite mode and added npm run migrate:lite script.","labels":["backend","database","lite-mvp"]}
{"id":"co-jvkc","title":"Session ended: gt-copperhead-goose","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:16:41.846828036-06:00","created_by":"copperhead/polecats/goose","updated_at":"2026-01-22T22:28:10.964427816-06:00","closed_at":"2026-01-22T22:28:10.964427816-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/goose","payload":"{\"cost_usd\":0.25,\"ended_at\":\"2026-01-16T04:16:41-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-goose\",\"worker\":\"goose\"}"}
{"id":"co-jw2j","title":"Merge: cheedo-mkghvlfp","description":"branch: polecat/cheedo-mkghvlfp\ntarget: main\nsource_issue: cheedo-mkghvlfp\nrig: copperhead\nagent_bead: co-copperhead-polecat-cheedo\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-16T00:36:24.016090653-06:00","created_by":"copperhead/polecats/cheedo","updated_at":"2026-01-16T00:37:52.383868634-06:00","closed_at":"2026-01-16T00:37:52.383868634-06:00","close_reason":"Merged to main"}
{"id":"co-jw5z","title":"CO Request: One-time warning per WO","description":"Show one-time warning when tech first opens tasks tab that tasks are checklists, not for additional work. Store dismissed state per WO.","status":"closed","priority":3,"issue_type":"task","assignee":"/witness","created_at":"2026-01-13T02:39:09.058040532-06:00","created_by":"mayor","updated_at":"2026-01-13T05:35:30.572516437-06:00","closed_at":"2026-01-13T05:35:30.572516437-06:00","close_reason":"Implemented one-time warning banner per WO in task checklist screen"}
{"id":"co-jynv","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T15:34:59.147078253-06:00","created_by":"mayor","updated_at":"2026-01-12T16:32:10.117766491-06:00","closed_at":"2026-01-12T16:32:10.117766491-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T15:34:59-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-k0bu","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:54:52.804230518-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:28:09.762553096-06:00","closed_at":"2026-01-22T22:28:09.762553096-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:54:52-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-k26x","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:50:42.211155368-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:28:09.904146536-06:00","closed_at":"2026-01-22T22:28:09.904146536-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:50:42-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-k27i","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T19:44:17.395514281-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T19:48:08.569166876-06:00","closed_at":"2026-01-12T19:48:08.569166876-06:00","close_reason":"Triage: stale session event","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T19:44:17-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-k34","title":"Digest: mol-deacon-patrol","description":"Patrol #16: Processed 6 session-ended events, no rotation needed, inbox clean, agents healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T13:02:51.862198589-06:00","updated_at":"2026-01-08T19:31:30.892631259-06:00","closed_at":"2026-01-07T13:02:51.862055946-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-k3db","title":"Digest: mol-witness-patrol","description":"Patrol 14: obsidian implementing left nav layout","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T11:48:45.562300673-06:00","updated_at":"2026-01-24T11:48:45.562300673-06:00","closed_at":"2026-01-24T11:48:45.562209454-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-k49","title":"AI Usage Admin Dashboard","description":"Admin dashboard for monitoring AI usage, costs, and margins.\n\n## Requirements\n- Real-time usage monitoring across all tenants\n- Cost vs revenue margin analysis\n- Usage trends over time (daily/weekly/monthly)\n- Top consumers by tenant/feature\n- Alert when AI costs exceed threshold % of plan price\n- Anthropic pricing management (update rates when they change)\n\n## Data Sources (already built)\n- v_ai_cost_margin_analysis view - per-tenant margin analysis\n- get_ai_cost_summary() function - aggregate stats\n- ai_provider_pricing table - Anthropic rate management\n- mv_ai_usage_monthly materialized view - monthly aggregates\n\n## Dashboard Components\n1. Summary cards: Total calls, tokens, cost this month\n2. Line chart: Usage trend over time\n3. Pie chart: Usage by feature (suggest_labor vs invoice_ocr etc)\n4. Table: Per-tenant breakdown with margin %\n5. Alerts panel: Tenants exceeding cost thresholds\n6. Pricing config: View/update Anthropic rates\n\n## API Endpoints Needed\n- GET /api/admin/ai/summary - Overall stats\n- GET /api/admin/ai/by-tenant - Per-tenant breakdown\n- GET /api/admin/ai/trends - Time series data\n- GET /api/admin/ai/pricing - Current Anthropic rates\n- PUT /api/admin/ai/pricing - Update rates","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T01:17:29.892137869-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.735915149-06:00","closed_at":"2026-01-08T01:59:19.584377259-06:00","close_reason":"Moved to co-kva"}
{"id":"co-k7wm","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:17:17.665348623-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:28:10.837571542-06:00","closed_at":"2026-01-22T22:28:10.837571542-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:17:17-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-k8v","title":"Session ended: gt-copperhead-nux","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T11:51:13.894454358-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-06T01:15:03.225326323-06:00","closed_at":"2026-01-06T01:15:03.225326323-06:00","close_reason":"Acknowledged - sessions restarted","event_kind":"session.ended","actor":"copperhead/polecats/nux","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T11:51:13-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-nux\",\"worker\":\"nux\"}"}
{"id":"co-k952h","title":"SECURITY: CORS fix \u0026 API rate limiting","description":"attached_molecule: co-wisp-a4uko\nattached_at: 2026-02-12T17:51:14Z\ndispatched_by: mayor\n\nHIGH P1 - Replace CORS wildcard * in staging ConfigMap with explicit origin (https://beta.numeruspro.com). Verify CORS whitelist in index.js is enforced (ConfigMap may override). Add/verify rate limiting on auth endpoints (/api/auth/login, /api/auth/register). Add rate limiting to public API endpoints that lack it. Files: apps/api/src/index.js, k8s/staging/api-configmap.yaml, k8s/staging/api-deployment.yaml","notes":"Implemented: (1) Replaced CORS wildcard * in staging ConfigMap with https://beta.numeruspro.com. (2) Fixed env var mismatch CORS_ORIGIN→CORS_ORIGINS in configmap+deployment to match index.js. (3) Added stricter rate limiters for unauthenticated endpoints: /api/public (30/15min), /api/sso (20/15min), /api/mobile/auth (10/15min), /api/webhooks (100/1min). (4) Verified existing auth endpoint rate limiters are adequate. Commit: 3cd28c38.","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/quartz","created_at":"2026-02-12T11:40:00.857516946-06:00","created_by":"mayor","updated_at":"2026-02-12T11:59:27.933919746-06:00","closed_at":"2026-02-12T11:59:27.933919746-06:00","close_reason":"Completed by quartz. MR co-yfog8 queued.","labels":["high","security"],"dependencies":[{"issue_id":"co-k952h","depends_on_id":"co-qu38l","type":"blocks","created_at":"2026-02-12T11:40:14.931124003-06:00","created_by":"mayor"},{"issue_id":"co-k952h","depends_on_id":"co-wisp-a4uko","type":"blocks","created_at":"2026-02-12T11:51:09.2144101-06:00","created_by":"mayor"}]}
{"id":"co-ka56","title":"Session ended: gt-copperhead-capable","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:39:09.722818631-06:00","created_by":"copperhead/polecats/capable","updated_at":"2026-01-12T03:09:08.571329134-06:00","closed_at":"2026-01-12T03:09:08.571329134-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/capable","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:39:09-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-capable\",\"worker\":\"capable\"}"}
{"id":"co-kaz1","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:40:20.553240789-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:28:10.021665083-06:00","closed_at":"2026-01-22T22:28:10.021665083-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:40:20-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-kb9a","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:15:28.423703881-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.323385253-06:00","closed_at":"2026-01-12T03:09:07.323385253-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:15:28-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-kcpq","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:36:04.839705763-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-22T22:38:48.313277955-06:00","closed_at":"2026-01-22T22:38:48.313277955-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:36:04-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-kct","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T22:52:48.954934788-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:09.860249981-06:00","closed_at":"2026-01-12T03:09:09.860249981-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T22:52:48-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-kib","title":"Cost Items + Estimate Integration","description":"PLAN-002: Connect cost_items to quotes, CostItemSearchPicker, AI suggestions, WO conversion","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-07T01:23:41.446136347-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:31.058682649-06:00","closed_at":"2026-01-07T17:05:10.621707783-06:00","close_reason":"All 4 phases completed and merged to main"}
{"id":"co-kksy","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:56:14.272372794-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.761124406-06:00","closed_at":"2026-01-12T03:09:07.761124406-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:56:14-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-kkyi2","title":"SECURITY: Add security contexts to inline K8s manifests in deploy workflow","description":"attached_molecule: co-wisp-lzjal\nattached_at: 2026-02-12T19:05:38Z\ndispatched_by: mayor\n\nWU-5 (co-l645e) added security contexts to k8s/staging/*.yaml files, but the deploy pipeline (.github/workflows/deploy-staging.yml) uses INLINE manifests (heredoc cat | kubectl apply), not the k8s/ directory. Security contexts (runAsNonRoot, readOnlyRootFilesystem, allowPrivilegeEscalation: false), resource limits, and PostgreSQL SSL need to be added to the inline manifests at lines ~264 (API deployment) and ~357 (Web deployment) of deploy-staging.yml. Verified on staging: kubectl shows securityContext: {} on all pods.","notes":"Implemented: Added security contexts (runAsNonRoot, allowPrivilegeEscalation: false, readOnlyRootFilesystem: true) and resource limits to all inline K8s manifests in deploy-staging.yml — API container, Web container, PostgreSQL container, and wait-for-postgres initContainer. Resource limits match k8s/staging/ reference files.","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/obsidian","created_at":"2026-02-12T12:57:10.149923399-06:00","created_by":"mayor","updated_at":"2026-02-12T13:09:11.86155795-06:00","closed_at":"2026-02-12T13:09:11.86155795-06:00","close_reason":"Completed by obsidian. MR co-49l45 queued.","labels":["deploy","k8s","security"],"dependencies":[{"issue_id":"co-kkyi2","depends_on_id":"co-wisp-lzjal","type":"blocks","created_at":"2026-02-12T13:05:32.916542841-06:00","created_by":"mayor"}]}
{"id":"co-kom0","title":"Session ended: gt-copperhead-cheedo","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T00:36:45.53640271-06:00","created_by":"copperhead/polecats/cheedo","updated_at":"2026-01-22T22:38:15.02465338-06:00","closed_at":"2026-01-22T22:38:15.02465338-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/cheedo","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T00:36:45-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-cheedo\",\"worker\":\"cheedo\"}"}
{"id":"co-kppf","title":"Estimate Editor Left Navigation \u0026 Summary/Review Views","description":"attached_molecule: co-wisp-hp4\nattached_at: 2026-01-24T17:42:58Z\ndispatched_by: mayor\n\nImplement left-side navigation for estimate editor with Summary (areas, scope of work, files, drawings tabs), Review (product/labor breakdowns), and Editor views. Includes database migration for estimate_files table and new API endpoints for file uploads and review aggregations.","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/obsidian","created_at":"2026-01-24T11:42:32.246376478-06:00","created_by":"mayor","updated_at":"2026-01-24T11:52:38.355325138-06:00","closed_at":"2026-01-24T11:52:38.355330941-06:00"}
{"id":"co-kptm","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:50:43.408195793-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.483387836-06:00","closed_at":"2026-01-12T03:09:09.483387836-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:50:43-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-kqo","title":"Session ended: gt-copperhead-spark","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T16:14:47.705916174-06:00","created_by":"copperhead/polecats/spark","updated_at":"2026-01-06T01:15:21.086322482-06:00","closed_at":"2026-01-06T01:15:21.086322482-06:00","close_reason":"Acknowledged - stale session events","event_kind":"session.ended","actor":"copperhead/polecats/spark","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T16:14:47-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-spark\",\"worker\":\"spark\"}"}
{"id":"co-kqvv","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:39:16.527789163-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:48.277941886-06:00","closed_at":"2026-01-22T22:38:48.277941886-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:39:16-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-kua","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T23:27:18.921424801-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:09.841815715-06:00","closed_at":"2026-01-12T03:09:09.841815715-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T23:27:18-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-kva","title":"AI Usage Admin Dashboard","description":"Admin dashboard for monitoring AI usage, costs, and margins.\n\n## Requirements\n- Real-time usage monitoring across all tenants\n- Cost vs revenue margin analysis\n- Usage trends over time (daily/weekly/monthly)\n- Top consumers by tenant/feature\n- Alert when AI costs exceed threshold % of plan price\n- Anthropic pricing management (update rates when they change)\n\n## Data Sources (already built)\n- v_ai_cost_margin_analysis view - per-tenant margin analysis\n- get_ai_cost_summary() function - aggregate stats\n- ai_provider_pricing table - Anthropic rate management\n- mv_ai_usage_monthly materialized view - monthly aggregates\n\n## Dashboard Components\n1. Summary cards: Total calls, tokens, cost this month\n2. Line chart: Usage trend over time\n3. Pie chart: Usage by feature (suggest_labor vs invoice_ocr etc)\n4. Table: Per-tenant breakdown with margin %\n5. Alerts panel: Tenants exceeding cost thresholds\n6. Pricing config: View/update Anthropic rates\n\n## API Endpoints Needed\n- GET /api/admin/ai/summary - Overall stats\n- GET /api/admin/ai/by-tenant - Per-tenant breakdown\n- GET /api/admin/ai/trends - Time series data\n- GET /api/admin/ai/pricing - Current Anthropic rates\n- PUT /api/admin/ai/pricing - Update rates\n\n(Moved from ms-z2dx)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T01:59:19.582254137-06:00","created_by":"mayor","updated_at":"2026-01-08T02:19:30.145356368-06:00","closed_at":"2026-01-08T02:19:30.145356368-06:00","close_reason":"Closed"}
{"id":"co-kvx9","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:32:07.234783701-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.279001455-06:00","closed_at":"2026-01-12T03:09:07.279001455-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:32:07-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-kwe","title":"Add network infrastructure fields to intake form","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T01:58:58.102593071-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.836695479-06:00","closed_at":"2026-01-05T02:16:38.405540581-06:00","close_reason":"Added network infrastructure section with firewalls, switches, access points, printers, firewall type, and VPN requirements"}
{"id":"co-kwq12","title":"Per-Phase Budget Dashboard","description":"attached_molecule: co-wisp-5ad0\nattached_at: 2026-01-25T22:32:22Z\ndispatched_by: mayor\n\nAdd estimated vs actual tracking per phase with variance display.\n\nRequirements:\n1. Add estimated_labor_hours, actual_labor_hours to work_orders (if not exists)\n2. Add estimated_material_cost, actual_material_cost to work_orders (if not exists)\n3. Create GET /api/projects/:id/phase-variance endpoint\n4. Return per-phase: estimated hours, actual hours, hours variance, estimated cost, actual cost, cost variance\n5. Frontend: Add PhaseVarianceDashboard component to project detail view\n\nExisting infrastructure:\n- projects table has total_estimated_amount\n- work_orders have phase_type, phase_sequence, project_id\n- time_entries track actual labor\n- work_order_parts track materials\n\nFiles to modify:\n- migrations/076_phase_budget_tracking.sql (if columns needed)\n- apps/api/src/routes/project.routes.js\n- apps/web/src/pages/dispatch/ProjectDetailPage.jsx (or create)","status":"closed","priority":1,"issue_type":"feature","assignee":"copperhead/polecats/quartz","created_at":"2026-01-25T16:30:39.541737326-06:00","created_by":"mayor","updated_at":"2026-01-25T16:48:30.196259711-06:00","closed_at":"2026-01-25T16:48:30.196259711-06:00","close_reason":"Implemented: PhaseVarianceDashboard.jsx, ProjectDetailPage.jsx, GET /api/projects/:id/phase-variance endpoint. Commit 06db8df1","dependencies":[{"issue_id":"co-kwq12","depends_on_id":"co-wisp-5ad0","type":"blocks","created_at":"2026-01-25T16:32:21.370281471-06:00","created_by":"mayor"}]}
{"id":"co-kyuu","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T19:53:06.051369423-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.651142157-06:00","closed_at":"2026-01-12T03:09:07.651142157-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T19:53:05-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-kzf2","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:46:33.960391824-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.953150313-06:00","closed_at":"2026-01-12T03:09:07.953150313-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:46:33-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-l645e","title":"SECURITY: Kubernetes security hardening","description":"attached_molecule: co-wisp-4h7bh\nattached_at: 2026-02-12T17:59:59Z\ndispatched_by: mayor\n\nMEDIUM P2 - Add security contexts to all pods (runAsNonRoot, readOnlyRootFilesystem, allowPrivilegeEscalation: false). Add resource limits (CPU/memory). Enable PostgreSQL SSL (sslmode=require). Verify network policies cover all pods. Files: k8s/staging/api-deployment.yaml, k8s/staging/web-deployment.yaml, k8s/staging/network-policies.yaml","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/obsidian","created_at":"2026-02-12T11:40:06.785660819-06:00","created_by":"mayor","updated_at":"2026-02-12T12:04:18.395865104-06:00","closed_at":"2026-02-12T12:04:18.395865104-06:00","close_reason":"Completed by obsidian. MR co-l645e queued.","labels":["k8s","security"],"dependencies":[{"issue_id":"co-l645e","depends_on_id":"co-xj4ir","type":"blocks","created_at":"2026-02-12T11:40:15.967676575-06:00","created_by":"mayor"},{"issue_id":"co-l645e","depends_on_id":"co-k952h","type":"blocks","created_at":"2026-02-12T11:40:16.185058106-06:00","created_by":"mayor"},{"issue_id":"co-l645e","depends_on_id":"co-wisp-4h7bh","type":"blocks","created_at":"2026-02-12T11:59:53.863549149-06:00","created_by":"mayor"}]}
{"id":"co-l6x","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T22:47:53.138752215-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.888918665-06:00","closed_at":"2026-01-12T03:09:09.888918665-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T22:47:53-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-l8e0","title":"Digest: mol-witness-patrol","description":"Patrol 7: obsidian done exploring, starting impl","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T11:45:59.976550887-06:00","updated_at":"2026-01-24T11:45:59.976550887-06:00","closed_at":"2026-01-24T11:45:59.976449814-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-l9anj","title":"SECURITY: CSRF \u0026 session security","description":"attached_molecule: co-wisp-o7p8b\nattached_at: 2026-02-12T18:00:34Z\ndispatched_by: mayor\n\nMEDIUM P2 - Add CSRF token generation and validation for state-changing operations (or verify SameSite cookie + CORS origin check suffices if using cookie auth from WU-2). Add request size limits (verify express.json({ limit })). Ensure all auth endpoints return generic error messages (no user enumeration). Files: apps/api/src/index.js, apps/api/src/middleware/auth.js","notes":"Implemented: (1) Hardened all auth endpoints against user enumeration - /register, /signup, /login, mobile login, SSO, and auth middleware now return generic error messages that don't reveal account existence or status. (2) Tightened JSON body limit from 10mb to 1mb globally with 10mb override for AI routes needing base64 payloads. (3) Deactivated accounts now record failed login attempts (prevents timing side-channel). (4) Documented CSRF mitigation rationale: Bearer token auth + strict CORS makes CSRF infeasible. 5 files changed: index.js, auth.js middleware, auth.routes.js, sso.routes.js, mobile-sync.controller.js. Commit: a173c984.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/quartz","created_at":"2026-02-12T11:40:09.960957786-06:00","created_by":"mayor","updated_at":"2026-02-12T12:12:05.63822242-06:00","closed_at":"2026-02-12T12:12:05.63822242-06:00","close_reason":"Completed by quartz. MR co-x5gln queued.","labels":["csrf","security"],"dependencies":[{"issue_id":"co-l9anj","depends_on_id":"co-xj4ir","type":"blocks","created_at":"2026-02-12T11:40:16.397189411-06:00","created_by":"mayor"},{"issue_id":"co-l9anj","depends_on_id":"co-k952h","type":"blocks","created_at":"2026-02-12T11:40:16.591528254-06:00","created_by":"mayor"},{"issue_id":"co-l9anj","depends_on_id":"co-wisp-o7p8b","type":"blocks","created_at":"2026-02-12T12:00:29.543255199-06:00","created_by":"mayor"}]}
{"id":"co-lba","title":"Session ended: gt-mspp-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-08T01:53:37.633287381-06:00","created_by":"mspp/refinery","updated_at":"2026-02-10T20:52:18.688709758-06:00","closed_at":"2026-02-10T20:52:18.688709758-06:00","close_reason":"Stale events/merge requests - cleanup"}
{"id":"co-lee","title":"M6: Build Photo Capture screen","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/ace","created_at":"2026-01-05T05:10:54.041735624-06:00","created_by":"kaos","updated_at":"2026-01-05T15:40:02.99257804-06:00","closed_at":"2026-01-05T15:40:02.99257804-06:00","close_reason":"PhotoCaptureScreen already exists as M8 (1363 lines, full-featured)","labels":["lite-mvp","mobile","ui"]}
{"id":"co-leue","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:54:42.102974358-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.474160167-06:00","closed_at":"2026-01-12T03:09:09.474160167-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":32.25,\"ended_at\":\"2026-01-11T01:54:41-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-lf70","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-21T03:40:51.233474499-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-22T22:28:09.556459579-06:00","closed_at":"2026-01-22T22:28:09.556459579-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-21T03:40:51-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-lfq","title":"Add printers/copiers inventory to intake form","status":"closed","priority":4,"issue_type":"feature","created_at":"2026-01-05T01:59:22.375930058-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.520253249-06:00","closed_at":"2026-01-05T02:16:38.65559644-06:00","close_reason":"Printers field added as part of network infrastructure"}
{"id":"co-li3e","title":"Session ended: gt-copperhead-browser","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-21T02:15:17.088531517-06:00","created_by":"copperhead/polecats/browser","updated_at":"2026-01-22T22:28:09.732667023-06:00","closed_at":"2026-01-22T22:28:09.732667023-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/browser","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-21T02:15:16-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-browser\",\"worker\":\"browser\"}"}
{"id":"co-li3f2","title":"Scheduling integration with parts arrival dates","description":"attached_molecule: co-wisp-p4wo\nattached_at: 2026-01-27T06:48:38Z\ndispatched_by: mayor\n\n## Goal\nEnable proper work order scheduling based on when parts will be available.\n\n## Context\nWork orders often can't be scheduled until parts arrive. Currently:\n- Dispatchers manually track parts availability\n- No automatic scheduling suggestions based on PO delivery dates\n- No visibility into which WOs are waiting on parts\n\n## Requirements\n\n1. **Track parts dependencies on WOs**\n   - Link WO to required parts/materials\n   - Show which parts are available vs pending\n\n2. **Surface PO delivery dates**\n   - When PO has expected delivery date, surface it on related WOs\n   - Show 'Earliest schedulable date' based on parts availability\n\n3. **Scheduling suggestions**\n   - When all parts arrive (PO received), suggest scheduling the WO\n   - Notify dispatcher that WO is now ready to schedule\n\n4. **UI updates**\n   - WO detail: Show parts status (available/pending/backordered)\n   - WO list: Filter by 'ready to schedule' vs 'waiting on parts'\n   - Calendar: Visual indicator for WOs blocked by parts\n\n## Integration points\n- Material requests → Work orders\n- Purchase orders → Expected delivery dates\n- PO receiving → Trigger 'parts arrived' notification\n- Use BullMQ for async notifications (NOT Inngest)\n\n## Acceptance Criteria\n- [ ] WO shows parts availability status\n- [ ] WO shows earliest schedulable date based on pending POs\n- [ ] Dispatcher notified when WO becomes schedulable\n- [ ] Can filter WO list by parts availability","notes":"Implemented scheduling integration with parts arrival dates. See commit 365b73c6.\n\nChanges:\n- Migration 082 adds parts_status, earliest_schedulable_date to work_orders\n- BullMQ events for parts scheduling notifications\n- Scheduling worker handlers for PO receipt and parts status changes\n- partsScheduling.service.js for reusable business logic\n- WO routes: parts status queries, link to PO, filter by availability\n- PO receive triggers parts scheduling check\n\nAll acceptance criteria met:\n- [x] WO shows parts availability status\n- [x] WO shows earliest schedulable date based on pending POs\n- [x] Dispatcher notified when WO becomes schedulable\n- [x] Can filter WO list by parts availability","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/opal","created_at":"2026-01-27T00:48:06.671153413-06:00","created_by":"mayor","updated_at":"2026-01-27T01:00:02.320903509-06:00","closed_at":"2026-01-27T01:00:02.320909463-06:00","dependencies":[{"issue_id":"co-li3f2","depends_on_id":"co-wisp-p4wo","type":"blocks","created_at":"2026-01-27T00:48:37.285658375-06:00","created_by":"mayor"}]}
{"id":"co-lie","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:36:12.622153289-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.740304125-06:00","closed_at":"2026-01-12T03:09:09.740304125-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:36:12-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-lit5l","title":"task","description":"attached_molecule: co-wisp-144xd\nattached_at: 2026-01-30T03:32:19Z\ndispatched_by: mayor\n\nPR #35 (polecat/hematite/co-z6la0@mkycjey8) has merge conflicts.\n\nBranch: polecat/hematite/co-z6la0@mkycjey8\nTitle: feat(maintenance): add scheduled reminders for maintenance\n\nConflicts:\n- Migration 085_scheduled_notifications.sql conflicts with existing 085 on main\n- apps/api/src/index.js \n- Queue workers\n\nFix: \n1. Rebase onto origin/main\n2. Rename migration from 085 to 087\n3. Resolve index.js and worker conflicts\n4. Push force","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead-copperhead/polecats/72","created_at":"2026-01-29T21:29:40.556962899-06:00","created_by":"mayor","updated_at":"2026-01-29T21:41:49.028290187-06:00","closed_at":"2026-01-29T21:41:49.028290187-06:00","close_reason":"Resolved merge conflicts in PR #35: Rebased onto origin/main, renamed migration 085-\u003e087 to avoid conflict, merged email.daily-digest and maintenance.daily-reminder-scan workers. Force pushed: b1556790","dependencies":[{"issue_id":"co-lit5l","depends_on_id":"co-wisp-144xd","type":"blocks","created_at":"2026-01-29T21:32:06.576137466-06:00","created_by":"mayor"}]}
{"id":"co-ljv","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:00:23.271048305-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.658459329-06:00","closed_at":"2026-01-12T03:09:09.658459329-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:00:23-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-lt8","title":"Merge: slit-mk98hsv1","description":"branch: polecat/slit-mk98hsv1\ntarget: main\nsource_issue: slit-mk98hsv1\nrig: copperhead\nagent_bead: co-copperhead-polecat-slit\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-10T22:36:59.561895055-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-10T22:51:02.640969136-06:00","closed_at":"2026-01-10T22:51:02.640969136-06:00","close_reason":"Merged to main at 8f50420f"}
{"id":"co-lwir","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:49:49.104705097-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.54201757-06:00","closed_at":"2026-01-12T03:09:07.54201757-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":65,\"ended_at\":\"2026-01-11T21:49:49-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-lywb","title":"Session ended: gt-copperhead-capable","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:24:42.952724927-06:00","created_by":"copperhead/polecats/capable","updated_at":"2026-01-22T22:38:15.666441787-06:00","closed_at":"2026-01-22T22:38:15.666441787-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/capable","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:24:42-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-capable\",\"worker\":\"capable\"}"}
{"id":"co-lyz9","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:37:50.88976228-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.971416893-06:00","closed_at":"2026-01-12T03:09:07.971416893-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:37:50-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-lzfg","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:35:15.617320198-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.26056036-06:00","closed_at":"2026-01-12T03:09:07.26056036-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:35:15-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-lzv3l","title":"API 500: /api/pricing-requests?status=pending crashes","description":"attached_molecule: co-wisp-msvf2\nattached_at: 2026-02-12T17:20:21Z\ndispatched_by: mayor\n\nGET /api/pricing-requests?status=pending returns HTTP 500. SalesPricing page renders but shows no pricing requests. Reproduce: navigate to /sales/pricing.","notes":"Fixed: SQL queries in pricingRequest.service.js referenced nonexistent users.name column. Replaced with TRIM(COALESCE(first_name,'') || ' ' || COALESCE(last_name,'')) in both listRequests and getRequest functions. Root cause: users table has first_name/last_name but no name column.","status":"closed","priority":2,"issue_type":"bug","assignee":"copperhead/polecats/jasper","created_at":"2026-02-12T11:19:19.055364628-06:00","created_by":"mayor","updated_at":"2026-02-12T11:29:24.787502994-06:00","closed_at":"2026-02-12T11:29:24.787502994-06:00","close_reason":"Completed — merged via PR #233","dependencies":[{"issue_id":"co-lzv3l","depends_on_id":"co-wisp-msvf2","type":"blocks","created_at":"2026-02-12T11:20:17.114704549-06:00","created_by":"mayor"}]}
{"id":"co-m03m","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T03:29:11.269067113-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:14.273650396-06:00","closed_at":"2026-01-22T22:38:14.273650396-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T03:29:11-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-m0vq","title":"Session ended: gt-copperhead-dementus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:41:39.104704992-06:00","created_by":"copperhead/polecats/dementus","updated_at":"2026-01-12T03:09:08.507012121-06:00","closed_at":"2026-01-12T03:09:08.507012121-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/dementus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:41:39-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dementus\",\"worker\":\"dementus\"}"}
{"id":"co-m19x","title":"Session ended: gt-polecat-immortan","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:14:12.245785775-06:00","created_by":"kaos","updated_at":"2026-01-22T22:38:16.222989553-06:00","closed_at":"2026-01-22T22:38:16.222989553-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"polecat/polecats/immortan","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:14:12-06:00\",\"rig\":\"polecat\",\"role\":\"polecat\",\"session_id\":\"gt-polecat-immortan\",\"worker\":\"immortan\"}"}
{"id":"co-m1hf5","title":"Merge: co-23zcm (email notifications)","description":"Branch: polecat/copperhead-64/co-23zcm@mkzvtjs3\nCommit: 884e6d86 feat(notifications): add email notification templates and delivery\n\n- Migration 085: notification_preferences table\n- Email templates for key notifications\n- BullMQ-based email delivery\n- Daily digest worker","status":"closed","priority":1,"issue_type":"merge-request","assignee":"refinery-1","created_at":"2026-01-29T15:45:58.722963639-06:00","created_by":"mayor","updated_at":"2026-01-29T15:49:27.439288642-06:00","closed_at":"2026-01-29T15:49:27.439288642-06:00","close_reason":"Merged to main as 4d826513. Email templates, preferences API, and queue delivery.","labels":["gt:merge-request"]}
{"id":"co-m5ha","title":"Merge: max-mkbxf2be","description":"branch: polecat/max-mkbxf2be\ntarget: main\nsource_issue: max-mkbxf2be\nrig: copperhead\nagent_bead: co-copperhead-polecat-max\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-15T05:11:13.909520937-06:00","created_by":"kaos","updated_at":"2026-01-15T05:14:17.473295965-06:00","closed_at":"2026-01-15T05:14:17.473295965-06:00","close_reason":"Merged to main"}
{"id":"co-m8z1","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:36:02.508846483-06:00","created_by":"mayor","updated_at":"2026-01-12T14:42:21.057247537-06:00","closed_at":"2026-01-12T14:42:21.057247537-06:00","close_reason":"Triaged: stale session-ended event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:36:02-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-m9de","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:14:18.914460545-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:20.958783778-06:00","closed_at":"2026-01-12T17:27:20.958783778-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:14:18-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-m9n2","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:16:47.451430093-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:20.848301042-06:00","closed_at":"2026-01-12T17:27:20.848301042-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:16:47-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ma4kj","title":"Implement PDF download buttons","description":"dispatched_by: unknown\n\nVarious PDF download buttons throughout app have no implementation.\n\n## Locations (from button sweep)\n- Estimate PDF export\n- Work Order PDF export  \n- Invoice PDF export\n\n## Implementation\n1. Create PDF generation service using pdfkit or puppeteer\n2. Template for each document type (estimate, WO, invoice)\n3. Include company branding, line items, totals\n4. Trigger browser download on button click\n5. Add loading state during generation\n\n## Acceptance\n- PDF download buttons generate actual PDFs\n- PDFs include all relevant document data\n- Professional formatting with company branding","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/sapphire","created_at":"2026-02-04T10:56:09.837332443-06:00","created_by":"kaos","updated_at":"2026-02-04T11:04:14.56989673-06:00","closed_at":"2026-02-04T11:04:14.56989673-06:00","close_reason":"Implemented PDF download buttons for Work Orders and Invoices. Created invoicePdf.service.js, added routes, and frontend buttons with loading states."}
{"id":"co-magq","title":"Merge: valkyrie-mkgj7a80","description":"branch: polecat/valkyrie-mkgj7a80\ntarget: main\nsource_issue: valkyrie-mkgj7a80\nrig: copperhead\nagent_bead: co-copperhead-polecat-valkyrie\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-16T03:28:53.795286437-06:00","created_by":"copperhead/polecats/valkyrie","updated_at":"2026-01-16T03:30:30.032768469-06:00","closed_at":"2026-01-16T03:30:30.032768469-06:00","close_reason":"Merged to main"}
{"id":"co-malwt","title":"Fix signature capture on Work Order Safety screen","description":"dispatched_by: unknown\n\nSignature capture on Safety checklist screen has setTimeout mock.\n\n## Location\n- File: apps/mobile/src/screens/WorkOrderSafetyScreen.tsx:225\n- Current: setTimeout mock, no actual signature capture\n\n## Implementation\n1. Integrate signature pad component\n2. Capture technician signature for safety acknowledgment\n3. Submit with safety checklist completion\n4. Store in safety_checklists table\n\n## Acceptance\n- Technician can sign safety acknowledgment\n- Signature is captured and saved\n- Safety checklist shows as signed","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/agate","created_at":"2026-02-03T22:29:17.621990018-06:00","created_by":"kaos","updated_at":"2026-02-03T22:54:15.571536062-06:00","closed_at":"2026-02-03T22:54:15.571536062-06:00","close_reason":"Implemented signature capture on Safety Screen using react-native-signature-canvas modal. Replaced mock Alert.alert with proper SignatureCanvas component, matching the pattern from WorkOrderSignatureScreen.tsx."}
{"id":"co-mangc","title":"Digest: mol-witness-patrol","description":"Patrol 4: copperhead-81 stuck 11+ min, sent direct nudge with 15min escalation deadline","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T22:12:36.707132509-06:00","updated_at":"2026-01-31T22:12:36.707132509-06:00","closed_at":"2026-01-31T22:12:36.706935298-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-mci","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:22:39.099725752-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.795078253-06:00","closed_at":"2026-01-12T03:09:09.795078253-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:22:38-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-md0l","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:50:44.089230254-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.228722496-06:00","closed_at":"2026-01-12T03:09:07.228722496-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:50:44-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-mevg5","title":"bug","description":"attached_molecule: co-wisp-9twvb\nattached_at: 2026-01-30T02:35:25Z\ndispatched_by: mayor\n\nTests in lineageAndSnapshotStability.test.js and estimateConversion.service.test.js fail because estimateConversion.service.js references a 'parts_status' column that doesn't exist in the work_orders table. Migration needed to add this column.","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead-copperhead/polecats/71","created_at":"2026-01-29T20:34:35.040487157-06:00","created_by":"mayor","updated_at":"2026-01-29T21:09:21.273452944-06:00","closed_at":"2026-01-29T21:09:21.273452944-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-mevg5","depends_on_id":"co-wisp-9twvb","type":"blocks","created_at":"2026-01-29T20:35:15.821875242-06:00","created_by":"mayor"}]}
{"id":"co-mg38","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:30:41.159287265-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.879219826-06:00","closed_at":"2026-01-12T03:09:07.879219826-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:30:41-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-mgj","title":"PDF Quote Export","description":"Generate professional PDF quotes for clients. Include company branding, client info, selected package, unit breakdown, add-ons, and pricing totals.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-04T22:22:39.430477809-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.640132262-06:00","closed_at":"2026-01-04T22:24:57.002409884-06:00","close_reason":"PDF quote export implemented with preview modal, print-optimized CSS, professional layout with company branding, line items, totals, and terms"}
{"id":"co-mhev","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T02:57:24.557992329-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.420874749-06:00","closed_at":"2026-01-12T03:09:09.420874749-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":10.5,\"ended_at\":\"2026-01-11T02:57:24-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-mhkh2","title":"Backorder detection: Add backorder_expected_date to purchase_order_items and detection logic when vendor indicates delayed delivery","description":"attached_molecule: co-wisp-knzs\nattached_at: 2026-01-27T22:45:27Z\ndispatched_by: mayor","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/basalt","created_at":"2026-01-27T16:44:33.288627737-06:00","created_by":"mayor","updated_at":"2026-01-27T17:20:57.07102103-06:00","closed_at":"2026-01-27T17:20:57.07102103-06:00","close_reason":"Merged via co-hrb5c","dependencies":[{"issue_id":"co-mhkh2","depends_on_id":"co-wisp-s3qu","type":"blocks","created_at":"2026-01-27T16:45:24.177377205-06:00","created_by":"mayor"},{"issue_id":"co-mhkh2","depends_on_id":"co-wisp-knzs","type":"blocks","created_at":"2026-01-27T17:11:57.524650752-06:00","created_by":"mayor"}]}
{"id":"co-mhlk","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:13:34.756749254-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.022452491-06:00","closed_at":"2026-01-12T03:09:08.022452491-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:13:34-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-mil3","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T01:26:24.349871974-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.149028658-06:00","closed_at":"2026-01-12T03:09:07.149028658-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T01:26:24-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-mjojs","title":"Approved Jobs list shows wrong estimates and lacks status column","description":"attached_molecule: co-wisp-ojvn\nattached_at: 2026-01-25T20:16:33Z\ndispatched_by: mayor\n\n## Problem\n\nThe Approved Jobs page has filtering/display issues:\n\n1. **Shows non-approved estimates** - Estimates that aren't status=approved are appearing in the list\n2. **Shows already-converted estimates** - Once an estimate is converted to a work order, it still appears as an 'approved job' and can be clicked to convert again\n3. **No status visibility** - No column showing the actual estimate status, making it hard to understand the state\n\n## Expected Behavior\n\n- Only show estimates with status='approved' (not 'converted', 'draft', 'sent', etc.)\n- Add a 'Status' column to show estimate status\n- Converted estimates should either:\n  - Not appear in the list at all, OR\n  - Be visually flagged as 'Converted' and have the Convert button disabled\n- Clicking 'Convert to Work Order' on an already-converted estimate should show an error or redirect to the existing work order\n\n## Affected Files\n\n- apps/web/src/pages/dispatch/ApprovedJobsPage.jsx\n- Possibly the API endpoint that fetches estimates for this page\n\n## Acceptance Criteria\n\n- [ ] Add Status column to the Approved Jobs table\n- [ ] Filter out converted estimates OR disable conversion for them\n- [ ] Only fetch/display estimates with status='approved'\n- [ ] Handle edge case where user navigates directly to convert page for converted estimate","status":"closed","priority":2,"issue_type":"bug","assignee":"copperhead/polecats/quartz","created_at":"2026-01-25T14:15:12.462336794-06:00","created_by":"mayor","updated_at":"2026-01-25T16:15:18.485243746-06:00","closed_at":"2026-01-25T16:15:18.485243746-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-mjojs","depends_on_id":"co-wisp-pkkq","type":"blocks","created_at":"2026-01-25T14:16:32.372315289-06:00","created_by":"mayor"},{"issue_id":"co-mjojs","depends_on_id":"co-wisp-ojvn","type":"blocks","created_at":"2026-01-25T14:23:43.074776865-06:00","created_by":"mayor"}]}
{"id":"co-mk22","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:09:20.457480409-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.031636245-06:00","closed_at":"2026-01-12T03:09:08.031636245-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:09:20-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-mkg2","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:16:57.208633186-06:00","created_by":"mayor","updated_at":"2026-01-12T18:25:23.203513687-06:00","closed_at":"2026-01-12T18:25:23.203513687-06:00","close_reason":"stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:16:57-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-mm6k","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:31:20.501231524-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:28:10.05663734-06:00","closed_at":"2026-01-22T22:28:10.05663734-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:31:20-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-mmd","title":"SSO Multi-Provider Authentication","description":"Implement SSO supporting Microsoft Azure AD, Google, and Apple Sign-In while maintaining local password auth. See docs/ai/workflows/SSO-IMPLEMENTATION-PLAN.md for full spec.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-06T03:22:26.916257574-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.585072116-06:00","closed_at":"2026-01-06T04:05:11.888769667-06:00","close_reason":"Epic tracked, phases ready for work"}
{"id":"co-mopq","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T15:44:22.062884565-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.350318339-06:00","closed_at":"2026-01-12T03:09:08.350318339-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T15:44:22-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-mor","title":"Design quarterly assessment app based on intake data","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T01:59:24.80268774-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.843971137-06:00","closed_at":"2026-01-05T02:47:27.275768771-06:00","close_reason":"Created design document at docs/quarterly-assessment-design.md covering: assessment types, risk scoring engine, recommendations engine, UI wireframes, API endpoints, and 4-phase implementation plan"}
{"id":"co-mp3e","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:13:04.210946126-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.654292032-06:00","closed_at":"2026-01-12T03:09:08.654292032-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:13:04-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-mpim","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T22:42:59.710419964-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.404037482-06:00","closed_at":"2026-01-12T03:09:07.404037482-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T22:42:59-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-mpyp","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:16:18.513570959-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:20.885772706-06:00","closed_at":"2026-01-12T17:27:20.885772706-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:16:18-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-mtgf","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T01:12:35.212826307-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.200637359-06:00","closed_at":"2026-01-12T03:09:07.200637359-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T01:12:35-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-mti","title":"Procurement: Cost Item Management UI","description":"## Overview\nImplement procurement UI for managing cost items, product mappings, and aliases.\n\n## Requirements\n- Cost Items list page with search/filter\n- Create/Edit cost item form\n- Manage product mappings (link inventory items to cost items)\n- Manage aliases (add common names for AI search)\n- New cost item request queue (review pending requests)\n- Bulk actions (activate/deactivate, category updates)\n\n## Key Files\n- apps/web/src/pages/procurement/CostItemsPage.jsx (CREATE)\n- apps/web/src/pages/procurement/CostItemDetailPage.jsx (CREATE)\n- apps/web/src/pages/procurement/NewCostItemRequestsPage.jsx (CREATE)\n- apps/web/src/components/procurement/CostItemProductsModal.jsx (CREATE)\n- apps/web/src/components/procurement/CostItemAliasesModal.jsx (CREATE)\n\n## Dependencies\n- co-np5 (Cost Item CRUD Service)\n\n## Acceptance Criteria\n- Procurement can create/edit cost items\n- Can map cost items to inventory products\n- Can add search aliases\n- Can review and resolve new item requests\n- Bulk operations work correctly","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/nux","created_at":"2026-01-06T01:04:39.631727428-06:00","created_by":"mayor","updated_at":"2026-01-06T02:32:57.224617847-06:00","closed_at":"2026-01-06T02:32:57.224617847-06:00","close_reason":"Merged via PR #5","labels":["feature","frontend","procurement"],"dependencies":[{"issue_id":"co-mti","depends_on_id":"co-np5","type":"blocks","created_at":"2026-01-06T01:04:39.636029353-06:00","created_by":"mayor"}]}
{"id":"co-mu01a","title":"Fix duplicate migration numbers (19 collisions)","description":"attached_molecule: co-wisp-4mtiy\nattached_at: 2026-02-01T04:00:15Z\ndispatched_by: mayor\n\n## Problem\n19 migration number prefixes have multiple files, causing unpredictable execution order.\n\nCritical collisions:\n- 030: 4 files (includes cost_items_foundation)\n- 067: 2 files (includes rename_cost_items_to_line_items)\n- 071: 3 files\n- 068: 3 files\n\n## Impact\nStaging database is in inconsistent state. Migrations fail with \"line_items does not exist\".\n\n## Resolution\n1. Renumber all migrations to unique sequential numbers\n2. Ensure correct dependency order\n3. Reset staging DB\n4. Run fresh migrations + seeds\n\n## Reference\n- Findings log: /home/kaos/Documents/Plans/FINDINGS-LOG-2026-01-31.md\n- Migration plan: /home/kaos/Documents/Plans/FIX-migration-numbering.md\n- Original rename plan: /home/kaos/Documents/Plans/stateful-foraging-sunset.md\n\n## Note\nThis was supposedly fixed in a previous session that crashed. Creating this bead to ensure tracking.","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/obsidian","created_at":"2026-01-31T21:57:10.867654918-06:00","created_by":"mayor","updated_at":"2026-01-31T23:45:40.635013092-06:00","closed_at":"2026-01-31T23:45:40.635040899-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-mu01a","depends_on_id":"co-wisp-8nmdy","type":"blocks","created_at":"2026-01-31T22:00:11.580255523-06:00","created_by":"mayor"},{"issue_id":"co-mu01a","depends_on_id":"co-wisp-4mtiy","type":"blocks","created_at":"2026-01-31T22:21:57.027131944-06:00","created_by":"mayor"}]}
{"id":"co-mugvo","title":"Digest: mol-witness-patrol","description":"Patrol 6: copperhead-81 stuck 14+min","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T22:14:32.737853442-06:00","updated_at":"2026-01-31T22:14:32.737853442-06:00","closed_at":"2026-01-31T22:14:32.737680598-06:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"co-mugvo","depends_on_id":"co-wisp-59qa0","type":"parent-child","created_at":"2026-01-31T22:14:32.745272131-06:00","created_by":"copperhead/witness"}]}
{"id":"co-mzx","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T15:43:38.101509616-06:00","created_by":"mayor","updated_at":"2026-01-06T01:15:03.260555924-06:00","closed_at":"2026-01-06T01:15:03.260555924-06:00","close_reason":"Acknowledged - sessions restarted","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T15:43:37-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-n0d0t","title":"Add email domain validation to signup","description":"Signup form accepts invalid email domains like 'gmail.copm' instead of 'gmail.com'.\n\n## Fix needed:\n- Add email format validation in auth.routes.js signup endpoint\n- Validate email has valid TLD (.com, .net, .org, etc.)\n- Show user-friendly error message for invalid email\n\n## Location:\n- apps/api/src/routes/auth.routes.js - signup validation\n- apps/web/src/components/auth/Register.js - frontend validation","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-04T22:36:00.386663745-06:00","created_by":"kaos","updated_at":"2026-02-09T05:34:56.793779584-06:00","closed_at":"2026-02-09T05:34:56.793779584-06:00","close_reason":"Already implemented - email domain validation with MX record check exists in auth.routes.js"}
{"id":"co-n2x1","title":"Session ended: gt-polecat-immortan","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:19:10.420817406-06:00","created_by":"kaos","updated_at":"2026-01-22T22:38:15.898537966-06:00","closed_at":"2026-01-22T22:38:15.898537966-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"polecat/polecats/immortan","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:19:10-06:00\",\"rig\":\"polecat\",\"role\":\"polecat\",\"session_id\":\"gt-polecat-immortan\",\"worker\":\"immortan\"}"}
{"id":"co-n32","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T15:49:25.205360108-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-06T01:15:03.28873435-06:00","closed_at":"2026-01-06T01:15:03.28873435-06:00","close_reason":"Acknowledged - sessions restarted","event_kind":"session.ended","actor":"copperhead/polecats/furiosa","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T15:49:24-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-furiosa\",\"worker\":\"furiosa\"}"}
{"id":"co-n4jg","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:39:11.890912484-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:08.562346195-06:00","closed_at":"2026-01-12T03:09:08.562346195-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:39:11-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-n4tg9","title":"Tech debt: Migrate Inngest to BullMQ (55 files)","description":"attached_molecule: co-wisp-g1c5\nattached_at: 2026-01-27T07:54:13Z\ndispatched_by: mayor\n\n## Goal\nRemove all Inngest code and migrate remaining functionality to BullMQ.\n\n## Context\nProject has switched to BullMQ for job queues but 55 files still reference Inngest. Need full cleanup.\n\n## Scope\n\n### Directory to Remove\n`apps/api/src/inngest/` - entire directory:\n- client.js\n- events.js\n- functions/\n- functions.js\n- index.js\n- serve.js\n\n### Files to Update\n55 files reference Inngest - need to:\n1. Remove Inngest imports\n2. Replace Inngest event emissions with BullMQ jobService calls\n3. Remove Inngest-specific code paths\n\n## BullMQ Pattern to Use\n```javascript\n// Instead of: await inngest.send({ name: 'event/name', data: {...} })\n// Use: const { emitXxx } = require('../queues/jobService');\n//      await emitXxx(data);\n```\n\n## Existing BullMQ Infrastructure\n- `apps/api/src/queues/jobService.js` - Job emitters\n- `apps/api/src/queues/workers/` - Workers by domain\n- `apps/api/src/queues/index.js` - Queue definitions\n\n## Steps\n1. Identify all Inngest usages by category\n2. Create BullMQ equivalents where missing\n3. Update all 55 files to use BullMQ\n4. Remove apps/api/src/inngest/ directory\n5. Remove inngest from package.json dependencies\n6. Test that no imports break\n\n## Acceptance Criteria\n- [ ] No files import from inngest\n- [ ] apps/api/src/inngest/ directory deleted\n- [ ] inngest removed from package.json\n- [ ] All async jobs use BullMQ pattern\n- [ ] Syntax checks pass on all modified files","notes":"Completed migration: removed 12 inngest files, updated 16 files to use BullMQ for operational events and console.log for DEI events","status":"closed","priority":3,"issue_type":"task","assignee":"copperhead/polecats/garnet","created_at":"2026-01-27T00:47:30.413978646-06:00","created_by":"mayor","updated_at":"2026-01-27T02:00:51.243222146-06:00","closed_at":"2026-01-27T02:00:51.243229353-06:00","dependencies":[{"issue_id":"co-n4tg9","depends_on_id":"co-wisp-g1c5","type":"blocks","created_at":"2026-01-27T01:54:11.502901857-06:00","created_by":"mayor"}]}
{"id":"co-n4y4","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T01:11:05.368826908-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:14.807400169-06:00","closed_at":"2026-01-22T22:38:14.807400169-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T01:11:05-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-n6c6i","title":"Work Order Edit Page polish - navigation and field fixes","description":"attached_molecule: co-wisp-c89m\nattached_at: 2026-01-25T18:36:24Z\ndispatched_by: mayor\n\n## Polish Work Order Edit Page\n\nApply the following changes:\n\n### 1. FieldOpsApp.js (~line 1489)\nChange `handleEditWorkOrder` to navigate to the edit page instead of opening modal:\n```javascript\nconst handleEditWorkOrder = (workOrder) =\u003e {\n  // Navigate to full edit page instead of modal\n  navigate(`/dispatch/work-orders/${workOrder.id}/edit`);\n};\n```\n\n### 2. vite.config.ts\nAdd `appType: \"spa\"` for client-side routing:\n```typescript\nexport default defineConfig({\n  plugins: [react()],\n  appType: \"spa\",  // Ensure SPA mode for client-side routing\n  server: {\n```\n\n### 3. WorkOrderEditPage.jsx\n- Change all `navigate(-1)` and `navigate(`/dispatch/work-orders/${id}`)` to `navigate(\"/dispatch/work-orders\")` (go to list after save/cancel/hold)\n- Change \"Work Order ID\" label to \"Work Order #\"\n- Display `work_order_number || workOrderNumber || id.substring(0,8)` instead of raw ID\n- Use `reference_number` (snake_case) field name for reference number input\n\n## Files\n- `apps/web/src/components/FieldOpsApp.js`\n- `apps/web/vite.config.ts`\n- `apps/web/src/pages/dispatch/WorkOrderEditPage.jsx`","status":"closed","priority":3,"issue_type":"task","assignee":"copperhead/polecats/quartz","created_at":"2026-01-25T12:35:56.642079341-06:00","created_by":"mayor","updated_at":"2026-01-25T12:41:11.943293394-06:00","closed_at":"2026-01-25T12:41:11.943293394-06:00","close_reason":"Created WorkOrderEditPage.jsx with full edit form. Updated handleEditWorkOrder to navigate to edit page. Added route for /dispatch/work-orders/:id/edit."}
{"id":"co-n72m","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:35:07.741068986-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:48.326687367-06:00","closed_at":"2026-01-22T22:38:48.326687367-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:35:07-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-n8nk","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:51:31.863556003-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.787954334-06:00","closed_at":"2026-01-12T03:09:07.787954334-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:51:31-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-namo","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:10:48.617154927-06:00","created_by":"mayor","updated_at":"2026-01-12T18:16:08.238935211-06:00","closed_at":"2026-01-12T18:16:08.238935211-06:00","close_reason":"Stale session events cleaned during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:10:48-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-nc9b","title":"Digest: mol-witness-patrol","description":"Patrol 6: obsidian exploring, healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T11:45:37.933013754-06:00","updated_at":"2026-01-24T11:45:37.933013754-06:00","closed_at":"2026-01-24T11:45:37.93283815-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-nci6","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T00:06:33.075022435-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:15.396711889-06:00","closed_at":"2026-01-22T22:38:15.396711889-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T00:06:32-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-ne0dp","title":"Beta Platform Phase 3: Tenant provisioning service","description":"attached_molecule: co-wisp-vnei\nattached_at: 2026-01-29T07:12:44Z\ndispatched_by: mayor\n\nCreate tenant provisioning and demo seeding for beta testers.\n\n## Files to Create\n- apps/api/src/services/tenantProvisioning.service.js\n- apps/api/scripts/seedTesterTenant.js\n\n## Modify\n- apps/api/scripts/seed-demo-company.js (accept tenant_id parameter)\n\n## Provisioning Flow\n1. Create tenant with beta_tester=true\n2. Create admin user with temp password\n3. Seed demo data (customers, vendors, inventory, estimates, WOs)\n4. Send welcome email with credentials\n\n## NO users seeded - admin creates techs via User Management (tests real flow)\n\n## Reference\nSee /home/kaos/Documents/PLAN-Beta-Testing-Platform.md Phase 3","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/copperhead-57","created_at":"2026-01-29T00:18:30.889581608-06:00","created_by":"mayor","updated_at":"2026-01-29T03:06:33.410481204-06:00","closed_at":"2026-01-29T03:06:33.410481204-06:00","close_reason":"Implemented tenant provisioning service, seedTesterTenant script, and modified seed-demo-company.js for Phase 3","dependencies":[{"issue_id":"co-ne0dp","depends_on_id":"co-wisp-0a2c","type":"blocks","created_at":"2026-01-29T01:12:40.608953208-06:00","created_by":"copperhead/witness"},{"issue_id":"co-ne0dp","depends_on_id":"co-wisp-se74","type":"blocks","created_at":"2026-01-29T01:53:51.009261654-06:00","created_by":"mayor"},{"issue_id":"co-ne0dp","depends_on_id":"co-wisp-i85w","type":"blocks","created_at":"2026-01-29T02:43:55.046717081-06:00","created_by":"mayor"},{"issue_id":"co-ne0dp","depends_on_id":"co-wisp-vnei","type":"blocks","created_at":"2026-01-29T02:59:46.600180848-06:00","created_by":"mayor"}]}
{"id":"co-nh5wq","title":"SendGrid email invite for new users","description":"dispatched_by: unknown\n\nWhen admin creates a user, send email invite via SendGrid.\n\nIMPLEMENTATION:\n1. Add SendGrid config to apps/api/.env:\n   SENDGRID_API_KEY, SENDGRID_FROM_EMAIL, SENDGRID_INVITE_TEMPLATE_ID\n\n2. CREATE: apps/api/src/services/email/sendgridService.js\n   - sendUserInvite({ to, firstName, email, companyName, tempPassword, inviterName })\n\n3. MODIFY: apps/api/src/routes/user.routes.js\n   - After user creation, call sendUserInvite()\n   - Include tenant name, temp password, inviter name\n\n4. Add dependency: cd apps/api \u0026\u0026 npm install @sendgrid/mail\n\nNOTE: Template must be created manually in SendGrid dashboard with variables:\nfirst_name, email, company_name, login_url, temp_password, inviter_name","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/copperhead-91","created_at":"2026-02-08T16:31:24.854333261-06:00","created_by":"kaos","updated_at":"2026-02-08T16:50:18.423911018-06:00","closed_at":"2026-02-08T16:50:18.423911018-06:00","close_reason":"Implemented: SendGrid email invite for new users. PR #111. Service and route integration already existed; added env var documentation to .env.example."}
{"id":"co-ni58","title":"Add timezone selector to company settings","description":"attached_molecule: co-wisp-96vp\nattached_at: 2026-01-27T08:53:20Z\ndispatched_by: mayor\n\nAdd timezone configuration to tenant settings:\n\n**Database:**\n- Add `timezone VARCHAR(50) DEFAULT 'America/Chicago'` to tenant_settings table\n- Migration file needed\n\n**Backend:**\n- Add 'timezone' to allowed fields in tenantSettings.service.js\n- Return timezone in GET /api/tenant-settings\n\n**Frontend (CompanyPreferencesSettings.jsx):**\n- Add timezone dropdown with common US timezones:\n  - America/New_York (Eastern)\n  - America/Chicago (Central)\n  - America/Denver (Mountain)\n  - America/Los_Angeles (Pacific)\n  - America/Anchorage (Alaska)\n  - America/Honolulu (Hawaii)\n- Save on change via PATCH /api/tenant-settings\n\n**Files to modify:**\n- apps/api/migrations/069_tenant_timezone.sql (new)\n- apps/api/src/services/tenantSettings.service.js\n- apps/web/src/components/Settings/CompanyPreferencesSettings.jsx","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/jade","created_at":"2026-01-24T11:02:15.766667277-06:00","created_by":"mayor","updated_at":"2026-01-27T09:45:05.383137369-06:00","closed_at":"2026-01-27T09:45:05.383137369-06:00","close_reason":"Merged PR #29","labels":["backend","company-settings","ui"],"dependencies":[{"issue_id":"co-ni58","depends_on_id":"co-wisp-96vp","type":"blocks","created_at":"2026-01-27T02:53:17.303719591-06:00","created_by":"mayor"}]}
{"id":"co-nip","title":"M2: Build Today's Jobs List screen","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/nux","created_at":"2026-01-05T05:10:52.64047899-06:00","created_by":"kaos","updated_at":"2026-01-05T11:27:53.054469459-06:00","closed_at":"2026-01-05T11:27:53.054469459-06:00","close_reason":"M2 (Today's Jobs List) already fully implemented as WorkOrderListScreen.tsx (797 lines). Features: filtering by status (All/Active/Scheduled/Completed), sorting options (Date/Priority/Status), pull-to-refresh, offline mode banner, empty state handling. Wired into bottom tab navigation as 'Jobs' tab.","labels":["lite-mvp","mobile","ui"]}
{"id":"co-nivu","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T00:26:19.35998249-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:15.168380432-06:00","closed_at":"2026-01-22T22:38:15.168380432-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T00:26:19-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-nncu","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:45:34.678254731-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.124389996-06:00","closed_at":"2026-01-12T03:09:08.124389996-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:45:34-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-no9","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T22:37:22.008936335-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.907810643-06:00","closed_at":"2026-01-12T03:09:09.907810643-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T22:37:21-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-nonh","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:45:43.852425482-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.790502759-06:00","closed_at":"2026-01-12T03:09:08.790502759-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:45:43-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-np5","title":"Cost Item CRUD Service and API","description":"## Overview\nImplement backend service for cost item management (CRUD operations).\n\n## Requirements\n- Create, read, update, delete cost items\n- Manage cost item to product mappings\n- Manage cost item aliases\n- Tenant-scoped operations\n- Pagination and filtering for list operations\n- Bulk import from seed data\n\n## Key Files\n- apps/api/src/services/costItem.service.js (CREATE)\n- apps/api/src/routes/costItem.routes.js (CREATE)\n\n## API Endpoints\nPOST   /api/cost-items              - Create cost item\nGET    /api/cost-items              - List cost items (paginated, filtered)\nGET    /api/cost-items/:id          - Get cost item details\nPUT    /api/cost-items/:id          - Update cost item\nDELETE /api/cost-items/:id          - Delete cost item\nPOST   /api/cost-items/:id/products - Add product mapping\nDELETE /api/cost-items/:id/products/:productId - Remove product mapping\nPOST   /api/cost-items/:id/aliases  - Add alias\nDELETE /api/cost-items/:id/aliases/:aliasId - Remove alias\nPOST   /api/cost-items/seed         - Bulk seed from seed data\n\n## Acceptance Criteria\n- All CRUD operations work correctly\n- Tenant isolation enforced\n- Product mappings manage inventory relationships\n- Aliases support natural language search\n- Seed endpoint loads seed data for tenant","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/slit","created_at":"2026-01-06T01:02:47.401550849-06:00","created_by":"mayor","updated_at":"2026-01-06T01:21:16.081049116-06:00","closed_at":"2026-01-06T01:21:16.081049116-06:00","close_reason":"Cost Item CRUD Service and API implemented","labels":["api","backend","feature"]}
{"id":"co-npab","title":"Session ended: gt-copperhead-toast","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:16:59.897867291-06:00","created_by":"copperhead/polecats/toast","updated_at":"2026-01-22T22:28:10.876671383-06:00","closed_at":"2026-01-22T22:28:10.876671383-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/toast","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:16:59-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-toast\",\"worker\":\"toast\"}"}
{"id":"co-nq4","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T17:28:18.025961981-06:00","created_by":"mayor","updated_at":"2026-01-06T01:15:21.186034359-06:00","closed_at":"2026-01-06T01:15:21.186034359-06:00","close_reason":"Acknowledged - stale session events","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T17:28:17-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-nqis","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:06:17.694180446-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:28:10.326800216-06:00","closed_at":"2026-01-22T22:28:10.326800216-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:06:17-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-nrq1","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:24:00.701069623-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.999001539-06:00","closed_at":"2026-01-12T03:09:07.999001539-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:24:00-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-nsed","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:43:59.172622638-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.501655579-06:00","closed_at":"2026-01-12T03:09:09.501655579-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:43:59-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-nw9m","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:05:31.446471194-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:21.25072248-06:00","closed_at":"2026-01-12T17:27:21.25072248-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:05:31-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ny2k","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:27:51.965121269-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.545953294-06:00","closed_at":"2026-01-12T03:09:09.545953294-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:27:51-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-o0hec","title":"Missing 'notifications' table causes 500 errors on staging","description":"attached_molecule: co-wisp-p91a0\nattached_at: 2026-02-01T10:20:13Z\ndispatched_by: mayor","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/onyx","created_at":"2026-02-01T04:18:48.760582012-06:00","created_by":"mayor","updated_at":"2026-02-01T04:35:13.013728859-06:00","closed_at":"2026-02-01T04:35:13.013728859-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-o0hec","depends_on_id":"co-wisp-p91a0","type":"blocks","created_at":"2026-02-01T04:20:09.108632827-06:00","created_by":"mayor"}]}
{"id":"co-o1e","title":"W2: Build Work Order Form","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:10:54.812802097-06:00","created_by":"kaos","updated_at":"2026-01-05T16:20:24.982760388-06:00","closed_at":"2026-01-05T16:20:24.982760388-06:00","close_reason":"Already implemented by MCP agents - see W1-W10 in features-list.md and claude-progress.md","labels":["lite-mvp","ui","web"]}
{"id":"co-o20","title":"Test intake form to quote workflow with all new fields","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T01:59:23.590622573-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.842792492-06:00","closed_at":"2026-01-05T02:26:37.209278764-06:00","close_reason":"Tested comprehensive intake with all 58 fields across 7 sections: Company (7), IT Environment (12), Network (6), Compliance (3), Backup (7), Support (6), Security (8). All fields save/load correctly. Start Quote from Intake transfers units to quote builder."}
{"id":"co-o23g","title":"Session ended: gt-copperhead-morsov","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:44:17.881126949-06:00","created_by":"copperhead/polecats/morsov","updated_at":"2026-01-12T14:48:09.912496866-06:00","closed_at":"2026-01-12T14:48:09.912496866-06:00","close_reason":"Stale session events - cleaned during triage","event_kind":"session.ended","actor":"copperhead/polecats/morsov","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:44:17-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-morsov\",\"worker\":\"morsov\"}"}
{"id":"co-o2wt","title":"Estimate Editor: Summary View with Tabs","description":"attached_molecule: co-wisp-8k88\nattached_at: 2026-01-27T08:54:23Z\ndispatched_by: mayor\n\nCreate the Summary view with its 4 tabs.\n\n**Summary Tab:**\n- Areas list with item counts and totals\n- Footer: Subtotal, Adjustment (editable), Tax (editable), TOTAL bar, PROFIT section\n\n**Scope of Work Tab:**\n- All areas expanded showing their line items (not accordion)\n- Read-only display of estimate content\n\n**Files Tab:**\n- File upload component (PDF, images, documents)\n- Area-assignable (dropdown to select area or leave at estimate level)\n- List uploaded files grouped by area\n\n**Drawings Tab:**\n- PDF-only upload for blueprints/drawings\n- Area-assignable\n- Thumbnail previews\n\n**Components to create:**\n- apps/web/src/components/salesops/views/EstimateSummaryView.jsx\n- apps/web/src/components/salesops/views/SummaryTab.jsx\n- apps/web/src/components/salesops/views/ScopeOfWorkTab.jsx\n- apps/web/src/components/salesops/views/FilesTab.jsx\n- apps/web/src/components/salesops/views/DrawingsTab.jsx\n\n**Reference:** See plan at ~/.claude/plans/flickering-meandering-beaver.md","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/flint","created_at":"2026-01-24T11:40:09.46610145-06:00","created_by":"mayor","updated_at":"2026-01-27T09:45:06.655524344-06:00","closed_at":"2026-01-27T09:45:06.655524344-06:00","close_reason":"Merged PR #31","labels":["estimate-editor","ui"],"dependencies":[{"issue_id":"co-o2wt","depends_on_id":"co-6ntx","type":"blocks","created_at":"2026-01-24T11:40:09.468890886-06:00","created_by":"mayor"},{"issue_id":"co-o2wt","depends_on_id":"co-wisp-8k88","type":"blocks","created_at":"2026-01-27T02:54:20.518385437-06:00","created_by":"mayor"}]}
{"id":"co-o7t","title":"Digest: mol-deacon-patrol","description":"Patrol 20: all healthy, handoff triggered","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T03:26:48.093901423-06:00","updated_at":"2026-01-08T19:31:30.92783591-06:00","closed_at":"2026-01-07T03:26:48.093764149-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-o83z","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:51:03.456641688-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.096588173-06:00","closed_at":"2026-01-12T03:09:08.096588173-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:51:03-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-o9nr","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T15:48:13.549695571-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T16:32:09.99957223-06:00","closed_at":"2026-01-12T16:32:09.99957223-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T15:48:13-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-o9sfr","title":"Backorder alerts for estimate makers","description":"attached_molecule: co-wisp-hzdb\nattached_at: 2026-01-27T05:59:31Z\ndispatched_by: mayor\n\n## Goal\nNotify estimate makers when parts they specified will be backordered, so they can adjust estimates or inform customers proactively.\n\n## Context\nWhen an estimate includes parts that are:\n- Out of stock\n- Have long lead times\n- Are on backorder from vendors\n\nThe estimate maker needs to know BEFORE the estimate is approved/converted to a work order.\n\n## Requirements\n1. Check inventory levels when estimate is created/updated\n2. Flag parts that are below required quantity or on backorder\n3. Show backorder warnings in estimate UI\n4. Optionally notify estimate maker via in-app notification or email\n5. Include expected availability date if known from PO data\n\n## Files likely involved\n- apps/api/src/services/ - inventory checking logic\n- apps/api/src/routes/estimate* - estimate endpoints\n- apps/web/src/pages/salesops/ - estimate UI components\n- apps/web/src/components/ - alert/warning components\n\n## Acceptance Criteria\n- [ ] Estimate form shows warning badges for backordered/low-stock parts\n- [ ] Warning includes part name, current stock, required qty, expected date\n- [ ] Estimate maker can still proceed but is informed\n- [ ] Works for both new estimates and edits","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/jasper","created_at":"2026-01-26T23:59:00.71268117-06:00","created_by":"mayor","updated_at":"2026-01-27T00:06:03.512745401-06:00","closed_at":"2026-01-27T00:06:03.512745401-06:00","close_reason":"Implemented backorder alerts for estimate makers. When adding parts to an estimate, the system now checks inventory levels and flags items that are backordered, low stock, or unavailable. Estimate makers see warnings but can still proceed.","dependencies":[{"issue_id":"co-o9sfr","depends_on_id":"co-wisp-hzdb","type":"blocks","created_at":"2026-01-26T23:59:30.628120278-06:00","created_by":"mayor"}]}
{"id":"co-oblu","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:09:14.598836689-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.067497297-06:00","closed_at":"2026-01-12T03:09:09.067497297-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:09:14-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-oed3","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T00:15:18.774004087-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:15.29498766-06:00","closed_at":"2026-01-22T22:38:15.29498766-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T00:15:18-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-oex9","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T19:44:50.338246755-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.693455979-06:00","closed_at":"2026-01-12T03:09:07.693455979-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T19:44:50-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-oghc","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:26:49.73699277-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.207460087-06:00","closed_at":"2026-01-12T03:09:08.207460087-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:26:49-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ogu0u","title":"Run button sweep E2E tests on staging and fix failures","description":"dispatched_by: mayor\n\nRun the button sweep E2E test suite against staging (beta.numeruspro.com).\n\n1. Run the buttonSweep.e2e.test.js tests against staging\n2. Report which buttons pass/fail  \n3. Fix any failures found\n4. Re-run to verify fixes\n\nStaging URL: https://beta.numeruspro.com\nTest file: apps/api/src/tests/e2e/buttonSweep.e2e.test.js","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/jet","created_at":"2026-02-04T12:44:30.737351967-06:00","created_by":"kaos","updated_at":"2026-02-04T15:15:29.60337936-06:00","closed_at":"2026-02-04T15:15:29.60337936-06:00","close_reason":"Cancelled - switching to focused Edit button fix"}
{"id":"co-oh10","title":"Session ended: gt-copperhead-bullet","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:44:17.566439706-06:00","created_by":"copperhead/polecats/bullet","updated_at":"2026-01-22T22:38:48.233024594-06:00","closed_at":"2026-01-22T22:38:48.233024594-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/bullet","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:44:17-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-bullet\",\"worker\":\"bullet\"}"}
{"id":"co-ohyo","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-14T00:37:06.940927074-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:48.200157258-06:00","closed_at":"2026-01-22T22:38:48.200157258-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-14T00:37:06-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-omq69","title":"Fix End of Day screen - submit time, sync parts, complete day","description":"dispatched_by: unknown\n\nEnd of Day screen has multiple setTimeout mocks instead of real API calls.\n\n## Locations\n- Submit Time: apps/mobile/src/screens/EndOfDayScreen.tsx:208\n- Sync Parts: apps/mobile/src/screens/EndOfDayScreen.tsx:255\n- Complete Day: apps/mobile/src/screens/EndOfDayScreen.tsx:349\n\n## Implementation\n1. Submit Time: Call time entries sync API, handle conflicts\n2. Sync Parts: Call parts usage sync API, reconcile with server\n3. Complete Day: Validate all data submitted, call day completion API, lock day\n\n## Acceptance\n- Submit Time syncs all pending time entries\n- Sync Parts uploads parts used during day\n- Complete Day finalizes and locks the day\n- Appropriate success/error feedback shown","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/mica","created_at":"2026-02-03T22:29:17.99733849-06:00","created_by":"kaos","updated_at":"2026-02-03T22:37:39.901153439-06:00","closed_at":"2026-02-03T22:37:39.901153439-06:00","close_reason":"Replaced setTimeout mocks with real API calls for Submit Time, Sync Parts, and Complete Day functionality"}
{"id":"co-oof","title":"Add support hours and after-hours needs to intake form","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T01:59:08.959170784-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.840412029-06:00","closed_at":"2026-01-05T02:23:22.080188832-06:00","close_reason":"Added Support Requirements section with: business hours, timezone, after-hours support needs, critical response SLA, monthly ticket volume estimate, and on-site support frequency"}
{"id":"co-oq86","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T00:27:30.225299435-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:15.120522954-06:00","closed_at":"2026-01-22T22:38:15.120522954-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T00:27:30-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-orns","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T20:21:44.906477928-06:00","created_by":"mayor","updated_at":"2026-01-12T20:24:48.270415367-06:00","closed_at":"2026-01-12T20:24:48.270415367-06:00","close_reason":"Stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T20:21:44-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ouz","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:22:45.224398879-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.785883851-06:00","closed_at":"2026-01-12T03:09:09.785883851-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:22:45-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ovyl","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T01:49:56.116929961-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:14.574384123-06:00","closed_at":"2026-01-22T22:38:14.574384123-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T01:49:55-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-oxzr","title":"Add RSB extensions to TransferDetailPage","description":"Add Right Sidebar extensions to the Transfer Detail page following the pattern used in AreaBasedEstimateEditor.\n\n## Context\n- Target: apps/web/src/pages/procurement/TransferDetailPage.jsx\n- Pattern: apps/web/src/components/salesops/AreaBasedEstimateEditor.jsx (lines 505-651)\n- Context Provider: apps/web/src/context/RightSidebarContext.jsx\n\n## Requirements\n1. Import useRightSidebar from context\n2. Register sections using registerSections() in useEffect\n3. Clean up with clearSections() on unmount\n\n## Suggested Extensions\n\n### 1. Location Stock\n- Current stock levels at source location\n- Current stock levels at destination location\n- Visual comparison (before/after transfer)\n- Icon: MapPin or Warehouse\n\n### 2. Transfer History\n- Previous transfers between same source/dest\n- Success rate, average quantities\n- Link to past transfer records\n- Icon: History or Clock\n\n### 3. Related Transfers\n- Other pending transfers for same items\n- Transfers in progress to/from same locations\n- Potential consolidation opportunities\n- Icon: ArrowRightLeft or GitBranch\n\n### 4. Item Details\n- Quick view of items being transferred\n- Stock levels across all locations\n- Reorder points and alerts status\n- Icon: Package or ClipboardList\n\n## Implementation Notes\n- Use existing transfer state and items data\n- Follow icon/badge patterns from estimate editor\n- Keep extensions useful for transfer verification workflow\n- Show real-time stock data if available","status":"closed","priority":2,"issue_type":"task","assignee":"max","created_at":"2026-01-15T04:50:48.284914993-06:00","created_by":"mayor","updated_at":"2026-01-15T05:10:24.081776652-06:00","closed_at":"2026-01-15T05:10:24.081776652-06:00","close_reason":"Added RSB extensions to TransferDetailPage with 4 collapsible sections: Location Stock, Transfer History, Related Transfers, and Item Details. Also created RightSidebarContext."}
{"id":"co-oyr5","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:11:19.451431995-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.305370863-06:00","closed_at":"2026-01-12T03:09:08.305370863-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:11:19-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-oz4o9","title":"Create schema-registry TypeScript package foundation","description":"attached_molecule: co-wisp-b1giz\nattached_at: 2026-01-31T08:48:49Z\ndispatched_by: mayor\n\nCreate the foundational TypeScript package at packages/schema-registry/ with:\n\n## Structure\n```\npackages/schema-registry/\n├── package.json\n├── tsconfig.json\n├── src/\n│   ├── index.ts\n│   ├── core/\n│   │   ├── index.ts\n│   │   ├── defineTable.ts\n│   │   ├── column.ts\n│   │   └── constraints.ts\n│   ├── mixins/\n│   │   ├── index.ts\n│   │   ├── tenant.ts        # tenant_id FK\n│   │   ├── timestamps.ts    # created_at, updated_at\n│   │   └── softDelete.ts    # deleted_at\n│   └── enums/\n│       ├── index.ts\n│       ├── userRoles.ts\n│       ├── workOrderStatuses.ts\n│       └── priorities.ts\n```\n\n## Core API Design\n\n### defineTable.ts\n```typescript\nexport function defineTable\u003cT extends TableConfig\u003e(name: string, config: T) {\n  return {\n    name,\n    columns: config.columns,\n    columnNames: Object.keys(config.columns) as (keyof T['columns'])[],\n    hasColumn: (col: string) =\u003e col in config.columns,\n    // ... other utilities\n  };\n}\n```\n\n### column.ts\n```typescript\nexport const column = {\n  uuid: () =\u003e new ColumnBuilder('uuid'),\n  varchar: (length: number) =\u003e new ColumnBuilder('varchar', length),\n  text: () =\u003e new ColumnBuilder('text'),\n  integer: () =\u003e new ColumnBuilder('integer'),\n  boolean: () =\u003e new ColumnBuilder('boolean'),\n  timestamp: () =\u003e new ColumnBuilder('timestamp'),\n  jsonb: () =\u003e new ColumnBuilder('jsonb'),\n  // etc.\n};\n```\n\n### Mixins\n```typescript\n// mixins/tenant.ts\nexport const TenantId = {\n  columns: {\n    tenant_id: column.uuid().notNull(),\n  },\n  constraints: [\n    fk('tenant_id').references('tenants', 'id').onDelete('CASCADE'),\n  ],\n};\n```\n\n## Enums to Define\n- UserRoles: admin, dispatcher, procurement, technician, manager\n- WorkOrderStatuses: draft, pending, scheduled, in_progress, completed, cancelled\n- Priorities: low, medium, high, urgent, critical\n\n## Verification\n1. `npm run build` passes\n2. Types export correctly\n3. Column names are type-safe strings","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T02:42:11.091692245-06:00","created_by":"mayor","updated_at":"2026-02-10T20:59:45.512192659-06:00","closed_at":"2026-02-10T20:59:45.512192659-06:00","close_reason":"Stale - all work caught up","dependencies":[{"issue_id":"co-oz4o9","depends_on_id":"co-wisp-b1giz","type":"blocks","created_at":"2026-01-31T02:48:36.703683163-06:00","created_by":"mayor"}]}
{"id":"co-ozh8f","title":"SECURITY: SQL injection fix in ORDER BY","description":"attached_molecule: co-wisp-24h8a\nattached_at: 2026-02-12T17:41:44Z\ndispatched_by: mayor\n\nMEDIUM but high-impact P1 - Audit reports.service.js for ORDER BY clauses using string interpolation. Replace with parameterized queries or whitelist-validated column names. Grep entire API codebase for other string interpolation in SQL (${} inside query strings). Fix any additional instances. Files: apps/api/src/services/reports.service.js","notes":"Fixed SQL injection in 3 files: (1) reports.service.js - replaced interpolated group_by in ORDER BY with whitelist-validated column mapping, (2) chatToolHandlers.js - replaced interpolated start_date/end_date with parameterized query placeholders, (3) transfer.controller.js - replaced manual quote-escaping with whitelist + parameterized query. Also audited entire API codebase - other interpolation patterns were already safe (whitelist-validated or internal-only).","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/quartz","created_at":"2026-02-12T11:40:03.938711118-06:00","created_by":"mayor","updated_at":"2026-02-12T11:50:16.934553204-06:00","closed_at":"2026-02-12T11:50:16.934553204-06:00","close_reason":"Completed — merged via PR #237","labels":["security","sqli"],"dependencies":[{"issue_id":"co-ozh8f","depends_on_id":"co-wisp-24h8a","type":"blocks","created_at":"2026-02-12T11:41:39.81625184-06:00","created_by":"mayor"}]}
{"id":"co-ozzf","title":"Session ended: gt-copperhead-cheedo","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:16:30.228425172-06:00","created_by":"copperhead/polecats/cheedo","updated_at":"2026-01-22T22:28:11.072638198-06:00","closed_at":"2026-01-22T22:28:11.072638198-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/cheedo","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:16:30-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-cheedo\",\"worker\":\"cheedo\"}"}
{"id":"co-p2v3u","title":"Line Item BOM with material labor and phases","description":"dispatched_by: unknown\n\nAdd Bill of Materials section to line item creation with labor calculations.\n\nCONCEPT:\n- Each material in BOM has install_time and install_phase (from inventory_items)\n- Line item labor = sum of BOM material install times\n- When used in estimate: labor scales with quantity and difficulty\n\nUI in LineItemSlidePanel.jsx:\n- Add Materials button opens search modal\n- BOM table shows: Material | Qty | Labor | Phase\n- Labor Summary shows totals by phase (rough/trim/finish)\n\nAPI updates in lineItem.routes.js:\n- GET /line-items/:id/products returns install_time, install_phase\n- POST /line-items accepts bom array with inventory_item_ids\n\nPhase badge colors:\n- rough_out: orange\n- trim: blue  \n- finish: green\n- any: slate","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/copperhead-92","created_at":"2026-02-08T16:31:25.122436552-06:00","created_by":"kaos","updated_at":"2026-02-08T19:59:35.838235055-06:00","closed_at":"2026-02-08T19:59:35.838235055-06:00","close_reason":"PR #113 merged to main"}
{"id":"co-p34f","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:52:56.865406277-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.26509331-06:00","closed_at":"2026-01-12T03:09:09.26509331-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:52:56-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-p41i","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:33:08.885863274-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.860983075-06:00","closed_at":"2026-01-12T03:09:07.860983075-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:33:08-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-p4fi","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:41:21.832541765-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:08.876200055-06:00","closed_at":"2026-01-12T03:09:08.876200055-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:41:21-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-p6b","title":"Digest: mol-deacon-patrol","description":"Patrol 6 complete: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T02:49:55.460179081-06:00","updated_at":"2026-01-08T19:31:30.979570339-06:00","closed_at":"2026-01-07T02:49:55.460054778-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-pbk5","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T13:56:41.538709835-06:00","created_by":"mayor","updated_at":"2026-01-12T14:08:25.648873835-06:00","closed_at":"2026-01-12T14:08:25.648873835-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T13:56:41-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-pcjb","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T19:59:34.23876614-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T20:06:25.480071749-06:00","closed_at":"2026-01-12T20:06:25.480071749-06:00","close_reason":"Stale session event","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T19:59:34-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-pe5o","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T03:44:21.070920316-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:07.005639255-06:00","closed_at":"2026-01-22T22:38:07.005639255-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T03:44:20-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-pf1","title":"API: Implement time entries CRUD","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:10:57.31671166-06:00","created_by":"kaos","updated_at":"2026-01-05T11:24:02.384227544-06:00","closed_at":"2026-01-05T11:24:02.384227544-06:00","close_reason":"Time entry routes already implemented in timeEntry.routes.js (423 lines): GET /api/time-entries (list with filters), POST (create), PUT /:id (update), DELETE /:id. Uses TimeEntryStateMachine from shared-domain. Mounted in index.js with auth.","labels":["api","backend","lite-mvp"]}
{"id":"co-pfo6","title":"Merge: furiosa-mk956pgx","description":"branch: polecat/furiosa-mk956pgx\ntarget: main\nsource_issue: furiosa-mk956pgx\nrig: copperhead\nagent_bead: co-copperhead-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-10T21:03:04.869595076-06:00","created_by":"kaos","updated_at":"2026-02-12T02:50:14.992977346-06:00","closed_at":"2026-02-12T02:50:14.992977346-06:00","close_reason":"Stale merge requests, work already merged on main"}
{"id":"co-pix0b","title":"HOTFIX: K8s runAsNonRoot fails - need numeric UID in security context","description":"attached_molecule: co-wisp-rrcc8\nattached_at: 2026-02-12T19:51:03Z\ndispatched_by: mayor\n\nSTAGING IS DOWN. The deploy-staging.yml security contexts added runAsNonRoot: true but the Docker image uses USER appuser (string name). K8s cannot verify non-root with a non-numeric user. Error: 'container has runAsNonRoot and image has non-numeric user (appuser)'. Fix: Add runAsUser: 1000 to the securityContext in deploy-staging.yml for both API and web containers. Also remove readOnlyRootFilesystem: true for API (Node.js needs to write temp files). Both API pods show CreateContainerConfigError. File: .github/workflows/deploy-staging.yml lines ~264 and ~357.","status":"closed","priority":0,"issue_type":"bug","assignee":"copperhead/polecats/obsidian","created_at":"2026-02-12T13:50:37.623382315-06:00","created_by":"mayor","updated_at":"2026-02-12T13:53:34.718229677-06:00","closed_at":"2026-02-12T13:53:34.718229677-06:00","close_reason":"Fixed. Added securityContext with numeric runAsUser (1001 for API, 101 for web nginx) and runAsNonRoot: true to both containers in deploy-staging.yml. PR #244.","labels":["blocking","hotfix","security"],"dependencies":[{"issue_id":"co-pix0b","depends_on_id":"co-wisp-rrcc8","type":"blocks","created_at":"2026-02-12T13:50:58.838427705-06:00","created_by":"mayor"}]}
{"id":"co-pj2l","title":"Estimate Editor: File Upload Backend","description":"attached_molecule: co-wisp-ovua\nattached_at: 2026-01-24T20:58:37Z\ndispatched_by: mayor\n\nCreate backend for estimate file uploads.\n\n**Database Migration (071_estimate_files.sql):**\n```sql\nCREATE TABLE estimate_files (\n  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n  tenant_id UUID REFERENCES tenants(id),\n  estimate_id UUID REFERENCES estimates(id) ON DELETE CASCADE,\n  area_id UUID REFERENCES estimate_areas(id) ON DELETE SET NULL,\n  file_name VARCHAR(255) NOT NULL,\n  file_type VARCHAR(50) NOT NULL,\n  file_size INTEGER,\n  file_url TEXT NOT NULL,\n  upload_type VARCHAR(20) DEFAULT 'file', -- 'file' or 'drawing'\n  uploaded_by UUID REFERENCES users(id),\n  uploaded_at TIMESTAMP DEFAULT NOW(),\n  created_at TIMESTAMP DEFAULT NOW(),\n  updated_at TIMESTAMP DEFAULT NOW()\n);\n\nCREATE INDEX idx_estimate_files_estimate ON estimate_files(estimate_id);\nCREATE INDEX idx_estimate_files_area ON estimate_files(area_id);\n```\n\n**API Endpoints:**\n- POST /api/estimates/:id/files - Upload file (multipart)\n- GET /api/estimates/:id/files - List files for estimate\n- DELETE /api/estimates/:id/files/:fileId - Delete file\n\n**Files to create:**\n- apps/api/migrations/071_estimate_files.sql\n- apps/api/src/routes/estimateFiles.routes.js\n- apps/api/src/services/estimateFiles.service.js\n\n**Reference:** See plan at ~/.claude/plans/flickering-meandering-beaver.md","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/granite","created_at":"2026-01-24T11:40:19.568103479-06:00","created_by":"mayor","updated_at":"2026-01-27T17:16:02.516252279-06:00","closed_at":"2026-01-27T17:16:02.516252279-06:00","close_reason":"Completed file upload backend with area support","labels":["backend","database","estimate-editor"],"dependencies":[{"issue_id":"co-pj2l","depends_on_id":"co-wisp-ovua","type":"blocks","created_at":"2026-01-27T17:11:00.958938531-06:00","created_by":"mayor"}]}
{"id":"co-pj42","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T16:49:09.661377677-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:21.470759509-06:00","closed_at":"2026-01-12T17:27:21.470759509-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T16:49:09-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-pj7n","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:40:01.765814513-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:08.534538165-06:00","closed_at":"2026-01-12T03:09:08.534538165-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:40:01-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-pknn","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T00:15:34.709749239-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:15.257358226-06:00","closed_at":"2026-01-22T22:38:15.257358226-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T00:15:34-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-pkqhk","title":"E2WO: Multi-crew splitting within phases","description":"When phase hours exceed threshold (e.g. 16 hrs), suggest splitting between crews. Group areas by proximity. Parallel crews get same scheduled date. AI suggests optimal split based on hours/skills/availability.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T17:53:51.895699987-06:00","created_by":"mayor","updated_at":"2026-01-24T18:53:39.769140165-06:00","closed_at":"2026-01-24T18:53:39.769140165-06:00","close_reason":"Closed"}
{"id":"co-plctl","title":"Beta Platform Phase 4: Admin estimate approval","description":"attached_molecule: co-wisp-a0bl\nattached_at: 2026-01-29T07:52:14Z\ndispatched_by: mayor\n\nAllow admin to approve estimates on behalf of clients (beta tenants only).\n\n## Modify\n- apps/api/src/services/estimateLifecycle.service.js - add adminApproveOnBehalf()\n- apps/api/src/routes/estimate.routes.js - add POST /:id/admin-approve-on-behalf\n- apps/web/src/components/estimates/EstimateDetail.jsx - add approval UI\n\n## Endpoint\nPOST /api/estimates/:id/admin-approve-on-behalf\nBody: { evidence: string, clientName: string }\n\n## UI\nYellow card shown only for beta_tester tenants when estimate is 'published'\nTextarea for evidence, button to approve\n\n## Reference\nSee /home/kaos/Documents/PLAN-Beta-Testing-Platform.md Phase 4","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/copperhead-55","created_at":"2026-01-29T00:18:38.515600135-06:00","created_by":"mayor","updated_at":"2026-01-29T02:46:59.864024668-06:00","closed_at":"2026-01-29T02:46:59.864024668-06:00","close_reason":"Implemented admin approval on behalf of client for beta testers","dependencies":[{"issue_id":"co-plctl","depends_on_id":"co-wisp-j7aj","type":"blocks","created_at":"2026-01-29T01:52:11.209196722-06:00","created_by":"mayor"},{"issue_id":"co-plctl","depends_on_id":"co-wisp-a0bl","type":"blocks","created_at":"2026-01-29T02:42:43.382194508-06:00","created_by":"mayor"}]}
{"id":"co-ple","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:45:23.589927097-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.69580298-06:00","closed_at":"2026-01-12T03:09:09.69580298-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:45:23-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-plhs","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:01:42.176934627-06:00","created_by":"mayor","updated_at":"2026-01-12T18:04:35.30266013-06:00","closed_at":"2026-01-12T18:04:35.30266013-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:01:42-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-pmg7","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:37:38.960969027-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.253383389-06:00","closed_at":"2026-01-12T03:09:07.253383389-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:37:38-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-pmwl","title":"Session ended: gt-copperhead-angharad","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T19:45:02.393870113-06:00","created_by":"copperhead/polecats/angharad","updated_at":"2026-01-12T19:48:08.533328793-06:00","closed_at":"2026-01-12T19:48:08.533328793-06:00","close_reason":"Triage: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/angharad","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T19:45:02-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-angharad\",\"worker\":\"angharad\"}"}
{"id":"co-pnb","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-10T22:29:50.152908348-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.944359233-06:00","closed_at":"2026-01-12T03:09:09.944359233-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-10T22:29:50-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-pnw","title":"Digest: mol-deacon-patrol","description":"Patrol 7: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T02:52:36.099378784-06:00","updated_at":"2026-01-08T19:31:30.978439393-06:00","closed_at":"2026-01-07T02:52:36.099200377-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-ppru","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:59:29.145960587-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T18:04:35.423483154-06:00","closed_at":"2026-01-12T18:04:35.423483154-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:59:29-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-ppve","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:57:20.119211777-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.514331599-06:00","closed_at":"2026-01-12T03:09:07.514331599-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":65,\"ended_at\":\"2026-01-11T21:57:20-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-pql8e","title":"Digest: mol-witness-patrol","description":"Patrol 3: copperhead-81 still stuck 8min, nudge delivered","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T22:08:46.708039816-06:00","updated_at":"2026-01-31T22:08:46.708039816-06:00","closed_at":"2026-01-31T22:08:46.707950743-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-pqo9","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T01:12:34.547929826-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:14.707989328-06:00","closed_at":"2026-01-22T22:38:14.707989328-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T01:12:34-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-pqs","title":"Digest: mol-deacon-patrol","description":"Patrol 8: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T02:55:12.527285846-06:00","updated_at":"2026-01-08T19:31:30.977262552-06:00","closed_at":"2026-01-07T02:55:12.527175684-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-prjp","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T06:07:58.291028523-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.753364457-06:00","closed_at":"2026-01-12T03:09:08.753364457-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T06:07:58-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-prwi","title":"Session ended: gt-copperhead-nightrider","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:18:46.17357251-06:00","created_by":"copperhead/polecats/nightrider","updated_at":"2026-01-22T22:28:10.498774831-06:00","closed_at":"2026-01-22T22:28:10.498774831-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/nightrider","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:18:46-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-nightrider\",\"worker\":\"nightrider\"}"}
{"id":"co-ps0q","title":"CO Request: Client email approval flow","description":"Send email to client for change order confirmation. Include work description, estimate delta. Track approval/rejection status.","status":"closed","priority":3,"issue_type":"task","assignee":"toecutter","created_at":"2026-01-13T02:39:10.098174159-06:00","created_by":"mayor","updated_at":"2026-01-13T05:43:34.245284088-06:00","closed_at":"2026-01-13T05:43:34.245284088-06:00","close_reason":"Implemented client email approval flow for change orders"}
{"id":"co-ps8j","title":"Session ended: gt-copperhead-valkyrie","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T03:49:33.662733946-06:00","created_by":"copperhead/polecats/valkyrie","updated_at":"2026-01-22T22:28:11.183697432-06:00","closed_at":"2026-01-22T22:28:11.183697432-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/valkyrie","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T03:49:33-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-valkyrie\",\"worker\":\"valkyrie\"}"}
{"id":"co-pvja","title":"Create seedSkills.js - Technician skills matrix","description":"Create apps/api/scripts/seedSkills.js following docs/COMPREHENSIVE-DEMO-SEED-PLAN.md Part 5.2.\n\nInclude skill definitions:\n- ELEC-RES: Residential Electrical (journeyman)\n- ELEC-COM: Commercial Electrical (master)\n- ELEC-IND: Industrial Electrical (master)\n- PANEL: Panel Upgrades (journeyman)\n- EV-CHARGER: EV Charger Installation (certified)\n- SOLAR: Solar Systems (certified)\n- LOW-VOLT: Low Voltage/Data (journeyman)\n\nAssign skills to existing technicians (tech@fieldops.dev, tech2@fieldops.dev).\nAdd npm script seed:skills to package.json.\nFollow idempotency pattern.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T19:41:16.602797168-06:00","created_by":"mayor","updated_at":"2026-01-12T19:43:40.661888817-06:00","closed_at":"2026-01-12T19:43:40.661888817-06:00","close_reason":"Already implemented"}
{"id":"co-pw4i","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T20:08:14.801560454-06:00","created_by":"mayor","updated_at":"2026-01-12T20:09:31.628378112-06:00","closed_at":"2026-01-12T20:09:31.628378112-06:00","close_reason":"Stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T20:08:14-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-pwied","title":"Fix migrations 099/101/102/103 - line item chain-of-custody","description":"attached_molecule: co-wisp-fn5g7\nattached_at: 2026-02-01T16:52:09Z\ndispatched_by: mayor\n\nMigrations 099, 101, 102, 103 are skipped - line item chain-of-custody/splitting features that may reference wrong columns.\n\n**To fix:**\n1. Review each migration for column references\n2. Update to match current line_items schema\n3. Remove from SKIP_MIGRATIONS in migrate.js\n4. Test on staging\n\n**Files:**\n- apps/api/scripts/migrate.js (SKIP_MIGRATIONS lines 63-64)\n- apps/api/migrations/099_*.sql\n- apps/api/migrations/101_*.sql\n- apps/api/migrations/102_*.sql\n- apps/api/migrations/103_*.sql","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-01T10:47:36.733861036-06:00","created_by":"mayor","updated_at":"2026-02-01T13:52:49.191359878-06:00","closed_at":"2026-02-01T13:52:49.191363525-06:00","dependencies":[{"issue_id":"co-pwied","depends_on_id":"co-wisp-fn5g7","type":"blocks","created_at":"2026-02-01T10:52:04.042242404-06:00","created_by":"mayor"}]}
{"id":"co-q12wq","title":"Verify polecat worktree works","description":"attached_molecule: co-wisp-f81v\nattached_at: 2026-01-25T23:00:09Z\ndispatched_by: mayor","notes":"VERIFIED: Polecat worktree works correctly. Worktree at polecat/obsidian on branch polecat/obsidian/co-q12wq@mkuccnji. Dependencies install, 385 tests pass (22 suites). No code changes - verification task.","status":"closed","priority":3,"issue_type":"task","assignee":"copperhead/polecats/obsidian","created_at":"2026-01-25T16:59:37.361803749-06:00","created_by":"mayor","updated_at":"2026-01-25T17:29:34.77350676-06:00","closed_at":"2026-01-25T17:29:34.77350676-06:00","close_reason":"Polecat spawn test passed - worktrees work correctly after gt update","dependencies":[{"issue_id":"co-q12wq","depends_on_id":"co-wisp-f81v","type":"blocks","created_at":"2026-01-25T17:00:08.144480514-06:00","created_by":"mayor"}]}
{"id":"co-q1un","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:26:39.638086374-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:15.573407284-06:00","closed_at":"2026-01-22T22:38:15.573407284-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:26:39-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-q2dm","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:53:51.622784632-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.771499218-06:00","closed_at":"2026-01-12T03:09:08.771499218-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:53:51-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-q4cp","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:30:21.006587882-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.228488955-06:00","closed_at":"2026-01-12T03:09:09.228488955-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":31.62,\"ended_at\":\"2026-01-11T04:30:20-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-q6db","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T06:57:49.975969618-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.682014621-06:00","closed_at":"2026-01-12T03:09:08.682014621-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T06:57:49-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-q6i2","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T19:43:23.89011588-06:00","created_by":"mayor","updated_at":"2026-01-12T19:48:08.677649232-06:00","closed_at":"2026-01-12T19:48:08.677649232-06:00","close_reason":"Triage: stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T19:43:23-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-q7a4","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:32:38.272568927-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.932960686-06:00","closed_at":"2026-01-12T03:09:08.932960686-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:32:38-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-q8b2","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:37:50.297241332-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.518993605-06:00","closed_at":"2026-01-12T03:09:09.518993605-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:37:50-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-q9j","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:36:05.258711599-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.749090466-06:00","closed_at":"2026-01-12T03:09:09.749090466-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T00:36:05-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-qa81","title":"Implement Cost Item Architecture - labor_source, inventory labor fields, BOM triggers","description":"Implement schema changes from Cost Item Architecture documents:\n\n## Reference Docs (in docs/architecture/)\n- COST-ITEM-WORK-TEMPLATE-ARCHITECTURE.md\n- COST-ITEM-ARCHITECTURE-AMENDMENT-01.md\n\n## Required Changes\n\n### 1. inventory_items table - ADD columns:\n- default_labor_code VARCHAR(10) DEFAULT 'LAB1'\n- default_labor_time DECIMAL(10,4) DEFAULT 0\n\n### 2. cost_items table - ADD column:\n- labor_source VARCHAR(20) DEFAULT 'manual' CHECK (labor_source IN ('manual', 'calculated'))\n\n### 3. cost_item_bom table - CREATE (links cost_items → inventory_items):\n- cost_item_id UUID REFERENCES cost_items(id)\n- inventory_item_id UUID REFERENCES inventory_items(id) \n- quantity DECIMAL(10,4)\n- is_optional BOOLEAN\n- UNIQUE(cost_item_id, inventory_item_id)\n\n### 4. Functions \u0026 Triggers:\n- recalculate_cost_item_from_bom(p_cost_item_id UUID)\n- Trigger on cost_item_bom INSERT/UPDATE/DELETE\n- Trigger on inventory_items price/labor changes\n\n### 5. Audit existing schema first per doc instructions","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/toast","created_at":"2026-01-11T03:25:47.379521873-06:00","created_by":"mayor","updated_at":"2026-01-11T03:28:56.130772395-06:00","closed_at":"2026-01-11T03:28:56.130772395-06:00","close_reason":"Created migration 044_cost_item_bom_architecture.sql implementing all required schema changes"}
{"id":"co-qcqm","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T22:21:50.526861326-06:00","created_by":"mayor","updated_at":"2026-01-12T22:24:02.784016229-06:00","closed_at":"2026-01-12T22:24:02.784016229-06:00","close_reason":"Stale session events","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T22:21:50-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-qdo","title":"AI: Procurement Invoice OCR \u0026 Inventory","description":"AI-powered invoice processing with OCR and inventory management.\n\n## Features: invoice_ocr, invoice_processing, inventory_matching, po_reconciliation, cost_averaging\n\n## Workflow\n\n### 1. Invoice OCR (invoice_ocr)\n- Upload scanned invoice image/PDF\n- Claude Vision extracts:\n  - Vendor name and info\n  - Invoice number and date\n  - Line items (description, qty, unit price, total)\n  - Tax, shipping, total\n- Returns structured JSON\n\n### 2. Invoice Processing (invoice_processing)\n- Parse OCR output into inventory transactions\n- Validate totals match\n- Flag discrepancies for review\n\n### 3. Inventory Matching (inventory_matching)\n- Match invoice line items to existing inventory SKUs\n- Fuzzy matching for vendor part numbers\n- Suggest new SKU creation for unknown items\n- Handle unit of measure conversions\n\n### 4. PO Reconciliation (po_reconciliation)\n- Match invoice to open purchase orders\n- Flag quantity/price discrepancies\n- Support partial receipts\n- Track backorders\n\n### 5. Cost Averaging (cost_averaging)\n- Calculate weighted average cost:\n  existing_qty * existing_cost + new_qty * new_cost / total_qty\n- Update inventory item cost\n- Track cost history for reporting\n\n## API\n- POST /api/ai/invoice-ocr - Upload and extract invoice\n- POST /api/ai/match-invoice-items - Match to inventory\n- POST /api/ai/reconcile-po - Match to PO\n- GET /api/inventory/:id/cost-history - View cost changes\n\n## Reports\n- When was item X last received?\n- What was the price history?\n- Average cost over time\n- Vendor price comparison\n\n## Token Usage\n- Invoice OCR uses Claude Vision: ~10-20K tokens per image\n- Pro plan has 2M tokens/month to accommodate\n\n(Moved from ms-jdc4)","status":"closed","priority":2,"issue_type":"task","assignee":"mayor/","created_at":"2026-01-08T01:59:16.612401001-06:00","created_by":"mayor","updated_at":"2026-01-08T02:19:57.703033679-06:00","closed_at":"2026-01-08T02:19:57.703033679-06:00","close_reason":"Invoice OCR feature implemented with Claude Vision - extraction, inventory matching, PO reconciliation, and cost averaging"}
{"id":"co-qikf","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T20:14:32.131925624-06:00","created_by":"mayor","updated_at":"2026-01-12T20:15:35.967381829-06:00","closed_at":"2026-01-12T20:15:35.967381829-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T20:14:32-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-qirz","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:27:46.606145414-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.188938575-06:00","closed_at":"2026-01-12T03:09:08.188938575-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:27:46-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-qjp","title":"Merge: nux-mk296la0","description":"branch: polecat/nux-mk296la0\ntarget: main\nsource_issue: nux-mk296la0\nrig: copperhead\nagent_bead: co-copperhead-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-06T02:26:08.091925022-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-08T19:31:30.897557021-06:00","closed_at":"2026-01-06T03:43:50.30442208-06:00","close_reason":"Already merged via PR #5"}
{"id":"co-qpok","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:15:13.723240568-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:20.922322569-06:00","closed_at":"2026-01-12T17:27:20.922322569-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:15:13-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-qqvb","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:47:31.957361768-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.115071029-06:00","closed_at":"2026-01-12T03:09:08.115071029-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:47:31-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-qrd0e","title":"Fix signup crash: tenant provisioning seeds before COMMIT","description":"attached_molecule: co-wisp-ogrcq\nattached_at: 2026-02-12T02:01:40Z\ndispatched_by: mayor\n\nBeta signup crashes with 502. Root cause: tenantProvisioning.service.js line 198 calls seedForTenant() inside an open transaction, but the seed script opens its own DB connection and calls verifyTenant() which can't see the uncommitted tenant. Fix: move the seedForTenant() call after the COMMIT on line 201, or commit before seeding. Error: 'Tenant d9bf22e0... not found. Run seedDemoUser.js first.' Files: apps/api/src/services/tenantProvisioning.service.js (line ~196-201), apps/api/scripts/seedBetaTesterScenarios.js (line ~286). Invite code BETA-HM7M-Z2FG confirmed valid in DB.","notes":"Fixed: moved seedForTenant() after COMMIT in provisionBetaTenant(). Seeder opens its own DB connection so couldn't see uncommitted tenant row. Wrapped in try/catch so seeding failure is non-fatal. Commit: 18721402","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/obsidian","created_at":"2026-02-11T20:01:21.701113308-06:00","created_by":"mayor","updated_at":"2026-02-11T20:11:56.641620874-06:00","closed_at":"2026-02-11T20:11:56.641620874-06:00","close_reason":"Fix deployed to staging via PR #209, CI/CD auto-deployed, verified working","dependencies":[{"issue_id":"co-qrd0e","depends_on_id":"co-wisp-ogrcq","type":"blocks","created_at":"2026-02-11T20:01:36.776757218-06:00","created_by":"mayor"}]}
{"id":"co-qt6in","title":"Digest: mol-witness-patrol","description":"Patrol 2: copperhead-81 stuck in transmuting 6+ min, nudged. All other checks clear.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T22:07:32.507254265-06:00","updated_at":"2026-01-31T22:07:32.507254265-06:00","closed_at":"2026-01-31T22:07:32.507058598-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-qtey","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:11:47.694986718-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.030751423-06:00","closed_at":"2026-01-12T03:09:09.030751423-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:11:47-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-qu38l","title":"SECURITY: Secrets rotation \u0026 JWT hardening","description":"attached_molecule: co-wisp-zbxdk\nattached_at: 2026-02-12T17:41:10Z\ndispatched_by: mayor\n\nCRITICAL P0 - Rotate all API keys (Anthropic, OpenAI). Verify .env is in .gitignore and NOT committed (check git history). Move secrets to K8s secrets/env injection. Strengthen JWT secret for staging/prod (no defaults). Add JWT token expiry validation. Files: apps/api/.env, apps/api/src/middleware/auth.js, apps/api/src/index.js","notes":"Implemented: Created centralized config/jwt.js with explicit HS256 algorithm enforcement on all sign/verify calls. Removed hardcoded fallback secret from mobile-sync.controller.js. Added validateJwtSecrets() startup check that fatally rejects weak/missing/short secrets in production/staging. Removed duplicated generateTokens from auth.routes.js and sso.routes.js. Updated .env.example and k8s secrets template. Filed co-u853j for .env files in git history. All 7 files syntax-checked.","status":"closed","priority":0,"issue_type":"task","assignee":"copperhead/polecats/obsidian","created_at":"2026-02-12T11:39:54.273794837-06:00","created_by":"mayor","updated_at":"2026-02-12T11:50:02.137788148-06:00","closed_at":"2026-02-12T11:50:02.137788148-06:00","close_reason":"Completed by obsidian. MR co-f5tmz queued.","labels":["critical","security"],"dependencies":[{"issue_id":"co-qu38l","depends_on_id":"co-wisp-zbxdk","type":"blocks","created_at":"2026-02-12T11:41:05.586336797-06:00","created_by":"mayor"}]}
{"id":"co-qxnr","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-14T00:36:37.914905255-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:48.213876275-06:00","closed_at":"2026-01-22T22:38:48.213876275-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-14T00:36:37-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-r3rs","title":"Add USA states selector to company settings","description":"attached_molecule: co-wisp-yzxf\nattached_at: 2026-01-27T08:56:08Z\ndispatched_by: mayor\n\nAdd state dropdown for company address in settings:\n\n**Database:**\n- State column already exists on `tenants` table (VARCHAR(50))\n- No migration needed\n\n**Backend:**\n- Ensure state is returned in tenant info endpoint\n- Add/verify PATCH endpoint updates state on tenants table\n\n**Frontend (CompanyPreferencesSettings.jsx):**\n- Add 'Company Address' section with state dropdown\n- Use standard US states + territories list (50 states + DC, PR, etc.)\n- Consider also adding: address, city, zip fields if not present\n- Save on change\n\n**Files to modify:**\n- apps/api/src/routes/tenant.routes.js (verify PATCH support)\n- apps/web/src/components/Settings/CompanyPreferencesSettings.jsx\n- Consider creating shared US_STATES constant file","status":"closed","priority":3,"issue_type":"task","assignee":"copperhead/polecats/marble","created_at":"2026-01-24T11:02:25.363588484-06:00","created_by":"mayor","updated_at":"2026-01-27T09:45:07.959641409-06:00","closed_at":"2026-01-27T09:45:07.959641409-06:00","close_reason":"Merged PR #33","labels":["company-settings","ui"],"dependencies":[{"issue_id":"co-r3rs","depends_on_id":"co-wisp-yzxf","type":"blocks","created_at":"2026-01-27T02:56:06.28601883-06:00","created_by":"mayor"}]}
{"id":"co-r47k0","title":"Fix seed: work_orders_technician_id_fkey violation when seeding demo technicians with per-tenant UUIDs","description":"attached_molecule: co-wisp-1x4kn\nattached_at: 2026-02-12T07:21:07Z\ndispatched_by: mayor\n\n## Bug\nPOST /api/settings/seed-demo-data succeeds for most data but fails on work orders:\n\n    insert or update on table \"work_orders\" violates foreign key constraint \"work_orders_technician_id_fkey\"\n\nConfirmed on staging (beta.numeruspro.com) with a fresh tenant signup + seed.\n\n## Root Cause\nPR #212 changed SCENARIO_IDS from hardcoded UUIDs to per-tenant UUID v5 derivation. The technician user INSERT uses the derived IDs, but the work order INSERT may be referencing stale/mismatched technician IDs. Either:\n1. The derived IDs for technicians aren't matching between seedDemoTechnicians() and the work order seed functions\n2. The technician seed step is failing silently and work orders reference non-existent user IDs\n3. The SCENARIO_IDS object is being read before setTenantConfig() regenerates it\n\n## What seeds correctly\n- 4 customers, 8 sites\n- 5 estimates, 13 areas, 40 line items  \n- 3 inventory locations, 4 vendors\n- 8 purchase orders\n- 1 material request, 1 inventory transfer\n\n## What fails\n- 10 work orders (all reference technician_id which is FK to users.id)\n\n## How to reproduce\n1. Create a beta invite in staging DB\n2. Sign up via POST /api/auth/signup\n3. Call POST /api/settings/seed-demo-data with the auth token\n4. Response includes success:true but data.error contains the FK violation\n\n## Fix approach\nIn apps/api/scripts/seedBetaTesterScenarios.js:\n1. Verify that getScenarioIds(tenantId) is called BEFORE any seed function runs\n2. Ensure seedDemoTechnicians() uses the same derived IDs that work order functions reference\n3. Ensure the technician INSERT actually succeeds (check for silent failures)\n4. The SCENARIO_IDS variable must be module-scoped and refreshed by setTenantConfig()\n5. Add a verification step: after seeding technicians, query to confirm they exist before proceeding to work orders\n\n## Test on staging\nAfter fix, repeat the reproduce steps. All 10 work orders should seed without FK violation.","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/opal","created_at":"2026-02-12T01:20:43.611882801-06:00","created_by":"mayor","updated_at":"2026-02-12T01:27:12.913119472-06:00","closed_at":"2026-02-12T01:27:12.913119472-06:00","close_reason":"Fixed: added seedDemoTechnicians() to seedBetaTenantDataWithClient, fixed provisionBetaTenant to use same-transaction client, added missing seedLineItemsCatalog and seedInventoryItems calls","dependencies":[{"issue_id":"co-r47k0","depends_on_id":"co-wisp-1x4kn","type":"blocks","created_at":"2026-02-12T01:21:02.691269259-06:00","created_by":"mayor"}]}
{"id":"co-r4bq","title":"Actions System - Non-billable internal tracking","description":"Implement unified Actions system for tracking internal operational tasks across all departments. Based on action-items-system-spec.md.\n\nCore features:\n- Actions table with types, priorities, status workflow\n- Polymorphic links to estimates, POs, clients, products\n- Full audit trail (activity log)\n- Watchers/subscriptions\n- Notification system (in-app, email, digest, escalation)\n- Dashboard widgets and department views\n\nAction types: MISSING_PRODUCT, LOW_STOCK, PO_DISCREPANCY, ESTIMATE_REVIEW, ESTIMATE_REVISION, TRANSFER_REQUEST, PRICE_VARIANCE, GENERAL","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-09T03:50:13.883828671-06:00","created_by":"mayor","updated_at":"2026-02-10T20:53:06.165115391-06:00","closed_at":"2026-02-10T20:53:06.165115391-06:00","close_reason":"Stale - all work caught up"}
{"id":"co-r4bq.1","title":"Actions - Database schema (tables, indexes)","description":"Create actions tables:\n- actions (main table)\n- action_links (polymorphic relations)\n- action_activities (audit log)\n- action_watchers\n- action_notification_settings","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/keeper","created_at":"2026-01-09T03:50:20.245629583-06:00","created_by":"mayor","updated_at":"2026-02-10T20:53:05.33303222-06:00","closed_at":"2026-02-10T20:53:05.33303222-06:00","close_reason":"Stale - all work caught up","dependencies":[{"issue_id":"co-r4bq.1","depends_on_id":"co-r4bq","type":"parent-child","created_at":"2026-01-09T03:50:20.249003735-06:00","created_by":"mayor"}]}
{"id":"co-r4bq.2","title":"Actions - Service and CRUD API","description":"Create action.service.js and action.routes.js with full CRUD, status transitions, activity logging","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/morsov","created_at":"2026-01-09T03:50:28.331376476-06:00","created_by":"mayor","updated_at":"2026-02-10T20:53:04.471342124-06:00","closed_at":"2026-02-10T20:53:04.471342124-06:00","close_reason":"Stale - all work caught up","dependencies":[{"issue_id":"co-r4bq.2","depends_on_id":"co-r4bq","type":"parent-child","created_at":"2026-01-09T03:50:28.336691827-06:00","created_by":"mayor"}]}
{"id":"co-r4bq.3","title":"Actions - Dashboard and summary endpoints","description":"Summary counts, aging report, my-stats endpoints for dashboard widgets","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/ace","created_at":"2026-01-09T03:50:28.380542681-06:00","created_by":"mayor","updated_at":"2026-02-10T20:53:03.567533955-06:00","closed_at":"2026-02-10T20:53:03.567533955-06:00","close_reason":"Stale - all work caught up","dependencies":[{"issue_id":"co-r4bq.3","depends_on_id":"co-r4bq","type":"parent-child","created_at":"2026-01-09T03:50:28.382285825-06:00","created_by":"mayor"}]}
{"id":"co-r4bq.4","title":"Actions - UI components (dashboard widget, list, detail modal)","description":"React components for actions management UI","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/warboy","created_at":"2026-01-09T03:50:28.419414164-06:00","created_by":"mayor","updated_at":"2026-02-10T20:53:02.730836689-06:00","closed_at":"2026-02-10T20:53:02.730836689-06:00","close_reason":"Stale - all work caught up","dependencies":[{"issue_id":"co-r4bq.4","depends_on_id":"co-r4bq","type":"parent-child","created_at":"2026-01-09T03:50:28.421192941-06:00","created_by":"mayor"}]}
{"id":"co-r8ss","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:27:00.530182731-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:09.370984659-06:00","closed_at":"2026-01-12T03:09:09.370984659-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:27:00-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-r9eah","title":"Decouple demo data seed from signup - add seed-on-demand endpoint and onboarding step","description":"attached_molecule: co-wisp-hgpxb\nattached_at: 2026-02-12T03:28:09Z\ndispatched_by: mayor\n\n## Context\nBeta signup crashes with 502 because seedBetaTesterScenarios.js fails during tenant provisioning. The seed script creates its own DB pool and calls pool.end() (killing connections), and verifyTenant() can't find the uncommitted tenant.\n\n## Solution\nDecouple seeding from signup. Signup creates account cleanly, user triggers demo seed from onboarding flow.\n\n## Changes Required\n\n### 1. Disable seeding during signup\n**File:** apps/api/src/routes/auth.routes.js (~line 269)\n- Change seedDemoData: true to seedDemoData: false\n- Update response to set demoDataSeeded: false\n\n### 2. Add seed demo data API endpoint\n**File:** apps/api/src/routes/settings.routes.js (new file)\n- POST /api/settings/seed-demo-data\n- Requires auth (admin role)\n- Uses seedBetaTenantDataWithClient(client, tenantId, userId) - the version that accepts an external client/transaction\n- Guard: check if tenant already has customers to prevent double-seeding\n- Wraps in its own transaction (BEGIN/COMMIT)\n- Returns JSON with summary of seeded data\n\n### 3. Mount the new route\n**File:** apps/api/src/index.js\n- Import and mount settings routes with authenticateToken middleware\n\n### 4. Add seedDemoData() to frontend API service\n**File:** apps/web/src/services/api.service.js\n- Add seedDemoData() method that POSTs to /api/settings/seed-demo-data\n\n### 5. Add \"Load Demo Data\" step in onboarding flow\n**File:** apps/web/src/components/onboarding/OnboardingFlow.jsx\n- Add DEMO_DATA step between OFFER/SUCCESS (or after WELCOME)\n- Call the new API endpoint\n- Show loading spinner (seed takes a few seconds)\n- \"Skip\" option to proceed without demo data\n- On success, show summary and continue to dashboard\n\n## Key Implementation Notes\n- Use seedBetaTenantDataWithClient(client, tenantId, userId) NOT seedForTenant() - the former accepts an external client and doesn't kill the connection pool\n- The seed is idempotent (uses fixed UUIDs, ON CONFLICT clauses, clears before re-seeding)\n- All 11 seed steps run inside a single transaction with savepoints\n- The function is exported from apps/api/scripts/seedBetaTesterScenarios.js\n- Follow existing patterns: express-validator for validation, JSON responses with {success, data, message}\n\n## Verification\n1. Sign up with invite code - completes without 502, user lands in empty tenant\n2. Onboarding flow shows \"Load Demo Data\" option\n3. Clicking it seeds all data (4 customers, 5 estimates, 10 WOs, 8 POs, inventory)\n4. Skipping proceeds to dashboard with empty tenant\n5. Running seed twice is safe (idempotent)","status":"closed","priority":1,"issue_type":"feature","assignee":"copperhead/polecats/jasper","created_at":"2026-02-11T21:27:27.758271781-06:00","created_by":"mayor","updated_at":"2026-02-12T00:20:50.369129228-06:00","closed_at":"2026-02-12T00:20:50.369129228-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-r9eah","depends_on_id":"co-wisp-hgpxb","type":"blocks","created_at":"2026-02-11T21:28:05.575909121-06:00","created_by":"mayor"}]}
{"id":"co-r9t9","title":"Add RSB extensions to AssetsPage","description":"Add Right Sidebar extensions to the Assets page following the pattern used in AreaBasedEstimateEditor.\n\n## Context\n- Target: apps/web/src/pages/warehouse/AssetsPage.jsx\n- Pattern: apps/web/src/components/salesops/AreaBasedEstimateEditor.jsx (lines 505-651)\n- Context Provider: apps/web/src/context/RightSidebarContext.jsx\n\n## Suggested Extensions\n\n### 1. Inspection Status\n- Assets due for inspection\n- Overdue inspections count\n- Quick schedule inspection\n- Icon: ClipboardCheck or Shield\n\n### 2. Asset Health\n- Assets by condition status\n- Maintenance alerts\n- Depreciation summary\n- Icon: Heart or Activity\n\n### 3. Location Overview\n- Assets by location breakdown\n- Unassigned assets\n- Recently moved assets\n- Icon: MapPin or Building\n\n### 4. Quick Actions\n- Schedule inspection\n- Transfer asset\n- Mark for disposal\n- Generate asset report\n- Icon: Zap or Settings\n\n## Implementation Notes\n- Use existing assets state\n- Badge showing overdue inspection count\n- Follow icon/badge patterns from estimate editor","status":"closed","priority":2,"issue_type":"task","assignee":"nux","created_at":"2026-01-15T04:52:20.550485557-06:00","created_by":"mayor","updated_at":"2026-01-15T05:19:25.204119362-06:00","closed_at":"2026-01-15T05:19:25.204119362-06:00","close_reason":"Added RSB extensions to AssetsPage with 4 sections: Inspection Status, Asset Health, Location Overview, Quick Actions. Also added infrastructure (RightSidebarContext, RightSidebarProvider, updated RightSidebar)."}
{"id":"co-rfuz","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-14T00:31:09.396047826-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:48.219691086-06:00","closed_at":"2026-01-22T22:38:48.219691086-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-14T00:31:09-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-rh4p","title":"Merge: coma-mkbs97gw","description":"branch: polecat/coma-mkbs97gw\ntarget: main\nsource_issue: coma-mkbs97gw\nrig: copperhead\nagent_bead: co-copperhead-polecat-coma\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-15T05:19:52.498111527-06:00","created_by":"copperhead/witness","updated_at":"2026-01-15T05:22:21.069506044-06:00","closed_at":"2026-01-15T05:22:21.069506044-06:00","close_reason":"Merged to main"}
{"id":"co-rj1r","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:12:23.103109155-06:00","created_by":"mayor","updated_at":"2026-01-12T18:16:08.245206277-06:00","closed_at":"2026-01-12T18:16:08.245206277-06:00","close_reason":"Stale session events cleaned during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:12:23-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-rj8d","title":"Company Settings - Price visibility toggle for estimates","description":"Add tenant setting to control whether line item prices are shown on customer-facing estimates:\n- Add show_prices_on_estimates column to tenant_settings\n- Add toggle in Settings page\n- When false: Customer portal shows only total, not line item prices\n- Default: true (show prices)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T03:34:59.742951053-06:00","created_by":"mayor","updated_at":"2026-01-09T03:36:20.511201301-06:00","closed_at":"2026-01-09T03:36:20.511201301-06:00","close_reason":"Feature already implemented - table, API, and UI toggle all exist"}
{"id":"co-rkfz","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:34:38.378174676-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:32.645801306-06:00","closed_at":"2026-01-22T22:38:32.645801306-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:34:38-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-rmkt","title":"Create /docs skill for Gas Town - documentation agent with flowchart/Mermaid capabilities","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T11:45:35.724326404-06:00","created_by":"mayor","updated_at":"2026-02-10T20:52:44.683015903-06:00","closed_at":"2026-02-10T20:52:44.683015903-06:00","close_reason":"Stale - cleanup"}
{"id":"co-rnm","title":"Digest: mol-deacon-patrol","description":"Patrol 9: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T02:57:51.194143366-06:00","updated_at":"2026-01-08T19:31:31.092232948-06:00","closed_at":"2026-01-07T02:57:51.19403001-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-roh2","title":"Merge: nux-1768138755","description":"branch: polecat/nux-1768138755\ntarget: main\nsource_issue: nux-1768138755\nrig: copperhead\nagent_bead: co-copperhead-polecat-nux\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-11T07:39:33.193389501-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-11T15:03:14.209114991-06:00","closed_at":"2026-01-11T15:03:14.209114991-06:00","close_reason":"Work already merged to main"}
{"id":"co-rq7p","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:28:59.301482079-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-12T03:09:09.361914064-06:00","closed_at":"2026-01-12T03:09:09.361914064-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:28:59-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-rq8ka","title":"Fix Docker build - missing seedBetaTesterScenarios module","description":"dispatched_by: mayor\n\nStaging API pod crashes on startup with MODULE_NOT_FOUND error.\n\n## Error\n```\nError: Cannot find module '../scripts/seedBetaTesterScenarios'\nRequire stack:\n- /app/apps/api/src/services/tenantProvisioning.service.js\n- /app/apps/api/src/routes/auth.routes.js\n- /app/apps/api/src/index.js\n```\n\n## Root Cause\ntenantProvisioning.service.js requires a script that isn't included in the Docker image.\n\n## Fix Options\n1. Add scripts/ directory to Docker COPY in Dockerfile\n2. Make the require conditional/lazy-load\n3. Move seed functions into the service file\n\n## Files\n- apps/api/Dockerfile - may need to include scripts/\n- apps/api/src/services/tenantProvisioning.service.js - line 15 has the require\n\n## Impact\n- Staging is running on 12h old pod\n- Any deployment change triggers crash\n- OpenAI API key added to secret but can't be used until fixed","notes":"Fixed via lazy-load require. PR #143: https://github.com/FrankAtGHub/copperhead/pull/143","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/copperhead-97","created_at":"2026-02-09T09:10:00.313609912-06:00","created_by":"kaos","updated_at":"2026-02-09T09:19:47.662788384-06:00","closed_at":"2026-02-09T09:19:47.662801678-06:00"}
{"id":"co-rqctv","title":"Beta invites: add revoke button for active invites","description":"dispatched_by: mayor\n\nFollow-up to co-dffvg (PR #186). Add a Revoke button to the beta invites list for invites with status 'pending' or 'sent'.\n\nRequirements:\n- Add a Revoke button (red/destructive style) in each invite row for pending/sent invites\n- Clicking it should call the existing revoke endpoint: POST /api/admin/beta-invites/:id/revoke (check betaInvites.routes.js for the endpoint)\n- Add a confirmation dialog before revoking ('Are you sure? This invite code will no longer work.')\n- After revoking, update the row to show status 'revoked' with appropriate styling\n- Don't show revoke button for already-revoked, used, or expired invites\n\nFile: apps/web/src/pages/admin/BetaInvitesPage.jsx","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/copperhead-104","created_at":"2026-02-09T19:40:22.070324923-06:00","created_by":"kaos","updated_at":"2026-02-09T19:44:53.766517441-06:00","closed_at":"2026-02-09T19:44:53.766517441-06:00","close_reason":"Closed"}
{"id":"co-rrvnb","title":"Auto-scheduling when parts arrive","description":"attached_molecule: co-wisp-o7zx\nattached_at: 2026-01-29T07:46:40Z\ndispatched_by: mayor\n\nWhen parts for a work order are received and marked available, automatically suggest or schedule the work order based on technician availability and customer preferences.","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/chalcedony","created_at":"2026-01-29T01:43:18.989421668-06:00","created_by":"mayor","updated_at":"2026-01-29T03:21:24.676869749-06:00","closed_at":"2026-01-29T03:21:24.676869749-06:00","close_reason":"Added triggerAutoScheduling() and processAutoSchedulingQueue() to partsScheduling.service.js. When parts become available, notifies dispatchers or auto-schedules WO.","dependencies":[{"issue_id":"co-rrvnb","depends_on_id":"co-wisp-o7zx","type":"blocks","created_at":"2026-01-29T01:46:37.07578966-06:00","created_by":"mayor"}]}
{"id":"co-rsvg","title":"Session ended: gt-copperhead-toast","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:18:43.689633549-06:00","created_by":"copperhead/polecats/toast","updated_at":"2026-01-22T22:28:10.537806038-06:00","closed_at":"2026-01-22T22:28:10.537806038-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/toast","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:18:43-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-toast\",\"worker\":\"toast\"}"}
{"id":"co-rww3","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:24:22.462598699-06:00","created_by":"mayor","updated_at":"2026-01-12T14:33:10.550588371-06:00","closed_at":"2026-01-12T14:33:10.550588371-06:00","close_reason":"Stale session event - cleaned in triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:24:22-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-rxif","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:39:49.545453684-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:08.543832953-06:00","closed_at":"2026-01-12T03:09:08.543832953-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:39:49-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-ryxqb","title":"Enable skipped migrations 053/064 for line_item_bom table","description":"attached_molecule: co-wisp-ulqdv\nattached_at: 2026-02-01T16:47:09Z\ndispatched_by: mayor\n\nThe estimates API fails with: relation \"line_item_bom\" does not exist\n\n**Root cause:** Migrations 053 and 064 are in SKIP_MIGRATIONS set in migrate.js:\n- 053_cost_item_bom_architecture.sql - creates line_item_bom table  \n- 064_bom_context_templates.sql - creates BOM templates\n\nThese were skipped because they reference line_item columns that didn't exist at the time.\n\n**To fix:**\n1. Review migrations 053 and 064 for compatibility with current schema\n2. Update migrations if needed to work with current line_items table structure\n3. Remove from SKIP_MIGRATIONS in migrate.js\n4. Run migrations on staging\n5. Verify estimates endpoint works\n\n**Files:**\n- apps/api/scripts/migrate.js (lines 47-52 - SKIP_MIGRATIONS)\n- apps/api/migrations/053_cost_item_bom_architecture.sql\n- apps/api/migrations/064_bom_context_templates.sql","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/opal","created_at":"2026-02-01T10:45:18.369230717-06:00","created_by":"mayor","updated_at":"2026-02-01T10:49:21.521961412-06:00","closed_at":"2026-02-01T10:49:21.521961412-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-ryxqb","depends_on_id":"co-wisp-ulqdv","type":"blocks","created_at":"2026-02-01T10:47:04.719333495-06:00","created_by":"mayor"}]}
{"id":"co-s0qdo","title":"Add client addresses to beta tenant seeding","description":"## Problem  \nThe seedBetaTenantData function creates demo customers but does not populate address fields. This means estimates and work orders won't display client addresses.\n\n## Current Code\ntenantProvisioning.service.js ~line 248\n\n## Required Fix\nAdd address fields (address_line1, city, state, postal_code) to demoCustomers array and update the INSERT statement.\n\n## Related\nFrom QA review of co-aukp2","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-05T00:43:09.755022171-06:00","created_by":"copperhead/polecats/magnetite","updated_at":"2026-02-10T20:59:50.085689715-06:00","closed_at":"2026-02-10T20:59:50.085689715-06:00","close_reason":"Stale - all work caught up"}
{"id":"co-s2l8","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:59:36.576466971-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.068880579-06:00","closed_at":"2026-01-12T03:09:08.068880579-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:59:36-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-s7r9","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:31:21.742868429-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.569838023-06:00","closed_at":"2026-01-12T03:09:07.569838023-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":8.5,\"ended_at\":\"2026-01-11T21:31:21-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-s7ugi","title":"Create Dashboard Stats API endpoint","description":"dispatched_by: mayor\n\nDashboard needs KPIs but no API exists. Create the backend endpoint.\n\nTasks:\n1. Create GET /api/dashboard/stats endpoint\n2. Return JSON with:\n   - todaysJobs: { count, urgent, completed }\n   - openEstimates: { count, totalValue }\n   - recentActivity: last 10 activities (WO created, estimate sent, etc)\n   - techsActive: { count, total } (if location tracking exists)\n3. All queries scoped to tenant_id from JWT\n4. Add appropriate indexes if needed\n5. Cache response for 60 seconds (optional)\n\nResponse format:\n{\n  todaysJobs: { count: 5, urgent: 1, completed: 2 },\n  openEstimates: { count: 12, totalValue: 45000.00 },\n  recentActivity: [\n    { type: 'work_order', action: 'created', title: 'WO-1234', timestamp: '...' },\n    ...\n  ]\n}\n\nFiles:\n- CREATE: apps/api/src/routes/dashboard.routes.js\n- MODIFY: apps/api/src/index.js (mount route)\n\nReference: docs/ux-plans/02-dashboard-kpis.md","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/amazonite","created_at":"2026-02-05T14:39:08.773771664-06:00","created_by":"kaos","updated_at":"2026-02-05T14:48:42.318359761-06:00","closed_at":"2026-02-05T14:48:42.318359761-06:00","close_reason":"Closed"}
{"id":"co-s8j1","title":"Seed work order tasks and BOM data","description":"Enhance seedComprehensiveDemo.js to add realistic work order tasks and parts.\n\nFor each seeded work order, add:\n1. work_order_tasks - 3-5 tasks per WO (e.g., 'Install main panel', 'Run circuits', 'Install fixtures')\n2. task_steps - Steps within each task\n3. work_order_parts - Parts/materials linked to WO\n4. task_parts - Parts linked to specific tasks\n\nUse existing inventory_items from seedProcurementDemo.js.\n\nThis fixes the empty WO detail view issue - tasks and parts checklists need data.\nFollow existing patterns in seedComprehensiveDemo.js.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T19:41:26.296675269-06:00","created_by":"mayor","updated_at":"2026-01-12T19:45:50.901844791-06:00","closed_at":"2026-01-12T19:45:50.901844791-06:00","close_reason":"Added createTaskParts() function to seedComprehensiveDemo.js. Links inventory items to specific tasks based on keywords in task descriptions. Commit: b389f0a8"}
{"id":"co-s986","title":"Session ended: gt-copperhead-dag","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:16:45.135538989-06:00","created_by":"copperhead/polecats/dag","updated_at":"2026-01-22T22:28:10.925667812-06:00","closed_at":"2026-01-22T22:28:10.925667812-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/dag","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:16:44-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-dag\",\"worker\":\"dag\"}"}
{"id":"co-sb4r","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:14:25.840182294-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.916676677-06:00","closed_at":"2026-01-12T03:09:07.916676677-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:14:25-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-sb9","title":"Digest: mol-deacon-patrol","description":"Patrol complete: idle town, witnesses running, refineries stopped, no orphans","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T02:34:37.77181706-06:00","updated_at":"2026-01-08T19:31:30.98649788-06:00","closed_at":"2026-01-07T02:34:37.771675777-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-sb9h","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:34:10.730119281-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.269778437-06:00","closed_at":"2026-01-12T03:09:07.269778437-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:34:10-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-scfa","title":"Merge: toast-mkggvne4","description":"branch: polecat/toast-mkggvne4\ntarget: main\nsource_issue: toast-mkggvne4\nrig: copperhead\nagent_bead: co-copperhead-polecat-toast\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-16T00:06:03.328455676-06:00","created_by":"copperhead/polecats/toast","updated_at":"2026-01-16T00:08:03.953611125-06:00","closed_at":"2026-01-16T00:08:03.953611125-06:00","close_reason":"Merged to main"}
{"id":"co-schq2","title":"E2WO: Multi-phase work order splitting","description":"Update conversion to create multiple work orders when estimate has items in different phases. Phase 2 WOs blocked until Phase 1 complete. Add phase, phase_sequence, blocked_by_work_order_ids, split_group_id columns to work_orders table.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T17:53:51.534844178-06:00","created_by":"mayor","updated_at":"2026-01-24T18:53:33.064177854-06:00","closed_at":"2026-01-24T18:53:33.064177854-06:00","close_reason":"Closed"}
{"id":"co-se86","title":"Digest: mol-witness-patrol","description":"Patrol 13: obsidian 2/5 done, on task 3 (left nav)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T11:48:18.670124774-06:00","updated_at":"2026-01-24T11:48:18.670124774-06:00","closed_at":"2026-01-24T11:48:18.669926307-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-sfo","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:25:44.155093155-06:00","created_by":"mayor","updated_at":"2026-01-07T03:06:37.75033133-06:00","closed_at":"2026-01-07T03:06:37.75033133-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:25:44-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-sfv0","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:17:46.735382065-06:00","created_by":"mayor","updated_at":"2026-01-12T18:25:23.169837644-06:00","closed_at":"2026-01-12T18:25:23.169837644-06:00","close_reason":"stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:17:46-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-sgpl","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:37:56.501588139-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.580514815-06:00","closed_at":"2026-01-12T03:09:08.580514815-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:37:56-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-sgs","title":"Assessment UI - Infrastructure Grid (3x3)","description":"Create Infrastructure assessment grid matching template (3x3 format):\nRow 1: Business Continuity | Servers | Backup/DR\nRow 2: Remote Access | Cloud Backup | DR Plan  \nRow 3: HA (High Availability) | Compliance | Workstations\n\nEach cell has:\n- Current state (dropdown: None/Basic/Standard/Advanced)\n- Notes field\n- Recommendation checkbox\n- Color coding based on state","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:07:08.150635123-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.594435719-06:00","closed_at":"2026-01-05T03:15:48.130537585-06:00","close_reason":"Implemented all assessment grids (3x3 format with state dropdowns, notes, recommend checkboxes) and connectivity/LOB tables","dependencies":[{"issue_id":"co-sgs","depends_on_id":"co-2db","type":"blocks","created_at":"2026-01-05T03:07:53.815720655-06:00","created_by":"mayor"},{"issue_id":"co-sgs","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:12.599383737-06:00","created_by":"mayor"}]}
{"id":"co-shgv","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T01:13:48.570235013-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.191046704-06:00","closed_at":"2026-01-12T03:09:07.191046704-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T01:13:48-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-sihp","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:42:05.310525023-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.142746735-06:00","closed_at":"2026-01-12T03:09:08.142746735-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:42:05-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-sk7z","title":"Session ended: gt-copperhead-capable","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:30:19.961189887-06:00","created_by":"copperhead/polecats/capable","updated_at":"2026-01-22T22:28:10.129703971-06:00","closed_at":"2026-01-22T22:28:10.129703971-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/capable","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:30:19-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-capable\",\"worker\":\"capable\"}"}
{"id":"co-sks7d","title":"Pre-existing test failure: @testing-library/user-event setup() broken across all tests","description":"attached_molecule: co-wisp-3skoy\nattached_at: 2026-02-12T08:10:28Z\ndispatched_by: mayor","notes":"Fixed: (1) Added vitest resolve aliases for @field-ops/shared-ui and @field-ops/shared-domain to resolve source TS directly, (2) Changed esbuild loader to tsx for TypeScript type export support, (3) Updated stale App.test.tsx, (4) Migrated appNav.test.js from jest to vitest, (5) Fixed ConvertToWorkOrderPage component accessibility and test assertions. All 103 tests pass.","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/amber","created_at":"2026-02-12T02:07:17.660538711-06:00","created_by":"copperhead/polecats/ruby","updated_at":"2026-02-12T02:25:13.026383937-06:00","closed_at":"2026-02-12T02:25:13.026383937-06:00","close_reason":"Completed — merged via PR #223","dependencies":[{"issue_id":"co-sks7d","depends_on_id":"co-wisp-3skoy","type":"blocks","created_at":"2026-02-12T02:10:23.383317808-06:00","created_by":"mayor"}]}
{"id":"co-sl57","title":"Lookup Slide Panel - Generic Component + Content","description":"attached_molecule: co-wisp-yqkm\nattached_at: 2026-01-27T08:51:07Z\ndispatched_by: mayor\n\n## Phase 2: Generic Lookup Slide Panel\n\nCreate the generic slide-out panel that sits between RSB and estimate content, plus content components for each lookup type.\n\n### Tasks:\n1. Create LookupSlidePanel.jsx - Generic container\n2. Create apps/web/src/components/lookup/ directory\n3. Create InventorySearchContent.jsx - Search + request new item\n4. Create CustomerSearchContent.jsx - Customer search + select\n5. Create SimilarEstimatesContent.jsx - View similar estimates\n6. Create CalculatorContent.jsx - Interactive pricing calculator\n7. Create SiteInfoContent.jsx - Site/property details\n\n### Plan Reference:\n/home/kaos/.claude/plans/snoopy-baking-wind.md - Phase 2\n\n### Files to Create:\n- apps/web/src/components/LookupSlidePanel.jsx\n- apps/web/src/components/lookup/InventorySearchContent.jsx\n- apps/web/src/components/lookup/CustomerSearchContent.jsx\n- apps/web/src/components/lookup/SimilarEstimatesContent.jsx\n- apps/web/src/components/lookup/CalculatorContent.jsx\n- apps/web/src/components/lookup/SiteInfoContent.jsx\n- apps/web/src/components/lookup/index.js","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/ruby","created_at":"2026-01-20T23:59:12.351240096-06:00","created_by":"mayor","updated_at":"2026-01-27T09:45:04.73764546-06:00","closed_at":"2026-01-27T09:45:04.73764546-06:00","close_reason":"Already implemented","dependencies":[{"issue_id":"co-sl57","depends_on_id":"co-wisp-yqkm","type":"blocks","created_at":"2026-01-27T02:51:04.584225008-06:00","created_by":"mayor"}]}
{"id":"co-slmm","title":"Smart Scheduling Engine (AI) - Auto-assigns jobs based on tech skills, location, traffic, and parts availability. Skill-based matching, route optimization, traffic-aware scheduling, parts availability check, customer preference learning, one-click optimize my day for dispatchers.","status":"closed","priority":1,"issue_type":"feature","assignee":"copperhead/polecats/capable","created_at":"2026-01-16T17:23:04.53505217-06:00","created_by":"mayor","updated_at":"2026-01-16T17:29:50.507944704-06:00","closed_at":"2026-01-16T17:29:50.507944704-06:00","close_reason":"Implemented Smart Scheduling Engine with AI-powered tech suggestion, one-click optimize-my-day, skill matching, parts availability, customer preferences. MR: co-8xhn","labels":["ai","feature"]}
{"id":"co-slyp","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:26:59.576981038-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.379692462-06:00","closed_at":"2026-01-12T03:09:09.379692462-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:26:59-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-snxh","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:15:09.10516883-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.275244577-06:00","closed_at":"2026-01-12T03:09:08.275244577-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:15:09-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-sqjje","title":"Fix 3 conflicting PRs - combine into single PR","description":"dispatched_by: mayor\n\n3 PRs have merge conflicts. Fix all in ONE combined PR to avoid multiple staging deploys.\n\n## PRs to fix:\n1. #72 - fix(clients): wire Edit buttons to ClientModal\n2. #79 - feat(mobile): wire force sync and retry sync  \n3. #81 - feat(timesheets): implement QuickBooks IIF export\n\n## Process:\n1. Create fresh branch from origin/main\n2. Cherry-pick/reapply changes from each PR branch\n3. Resolve any conflicts\n4. Create SINGLE PR with all 3 features combined\n5. Close the 3 original conflicting PRs\n\n## Branch refs:\n- polecat/marble/co-i71gj@ml7idc2l (Edit Client)\n- polecat/lapis/co-wlkyc@ml7kbjzq (Mobile Sync)\n- polecat/zircon/co-5jeah@ml8a5qbo (QuickBooks)\n\n## IMPORTANT: \nOnly create ONE PR. Do not merge until instructed.","notes":"Combined all 3 PRs into single PR #86. Original PRs #72, #79, #81 closed. Waiting for merge approval.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/coral","created_at":"2026-02-04T11:47:05.106318526-06:00","created_by":"kaos","updated_at":"2026-02-04T11:59:56.950023943-06:00","closed_at":"2026-02-04T11:59:56.950023943-06:00","close_reason":"Combined 3 conflicting PRs (#72, #79, #81) into single PR #87. All conflicts resolved."}
{"id":"co-srk","title":"PLAN-001 Phase 1: Core Infrastructure","description":"tenant_add_ons table, templates.json, electrical.csv, addOn.service.js, costItemTemplate.service.js, API routes","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T01:23:54.99649601-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.544148721-06:00","closed_at":"2026-01-07T01:38:08.839251893-06:00","close_reason":"Phase 1 complete - PR #12 merged"}
{"id":"co-sru8","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T22:50:33.549002204-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.375929131-06:00","closed_at":"2026-01-12T03:09:07.375929131-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T22:50:33-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ss4","title":"Merge: forge-mk1pngym","description":"branch: polecat/forge-mk1pngym\ntarget: main\nsource_issue: forge-mk1pngym\nrig: copperhead\nagent_bead: co-copperhead-polecat-forge\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-05T16:30:04.826810811-06:00","created_by":"copperhead/polecats/forge","updated_at":"2026-01-06T01:15:12.00507861-06:00","closed_at":"2026-01-06T01:15:12.00507861-06:00","close_reason":"Already merged to main in commit 5d78441"}
{"id":"co-stefr","title":"Fix signature capture on Work Order Close-Out screen","description":"dispatched_by: unknown\n\nSignature capture on Close-Out screen has setTimeout mock instead of real implementation.\n\n## Location\n- File: apps/mobile/src/screens/WorkOrderCloseOutScreen.tsx:243\n- Current: setTimeout mock, no actual signature capture\n\n## Implementation\n1. Integrate signature pad component (react-native-signature-canvas or similar)\n2. Capture signature as base64 image\n3. Submit signature with work order completion API\n4. Store signature reference in work_orders table\n\n## Acceptance\n- Customer can sign on screen with finger/stylus\n- Signature is captured and saved\n- Signature appears in work order record","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/slate","created_at":"2026-02-03T22:29:17.134277717-06:00","created_by":"kaos","updated_at":"2026-02-03T22:34:41.892954976-06:00","closed_at":"2026-02-03T22:34:41.892954976-06:00","close_reason":"Closed"}
{"id":"co-stm","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:28:25.68046457-06:00","created_by":"mayor","updated_at":"2026-01-07T03:06:37.610808562-06:00","closed_at":"2026-01-07T03:06:37.610808562-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:28:25-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-su9","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T15:47:50.800360778-06:00","created_by":"mayor","updated_at":"2026-01-06T01:15:03.275041972-06:00","closed_at":"2026-01-06T01:15:03.275041972-06:00","close_reason":"Acknowledged - sessions restarted","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T15:47:50-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-svr0w","title":"Merge: co-cdihq (scheduling UI)","description":"Branch: polecat/copperhead-63/co-cdihq@mkzvrize\nCommit: a937f50a feat(scheduling): implement dispatcher scheduling dashboard UI\n\nNew SchedulingDashboard page with:\n- Unscheduled WO panel with parts status\n- Drag-drop calendar\n- Technician suggestions\n- Optimize My Day button","status":"closed","priority":1,"issue_type":"merge-request","assignee":"refinery-1","created_at":"2026-01-29T15:45:56.715583981-06:00","created_by":"mayor","updated_at":"2026-01-29T15:48:46.542715179-06:00","closed_at":"2026-01-29T15:48:46.542715179-06:00","close_reason":"Merged to main as 14fcb348. Scheduling dashboard with tech suggestions and optimization.","labels":["gt:merge-request"]}
{"id":"co-sw84","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:11:35.632534363-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:21.089793213-06:00","closed_at":"2026-01-12T17:27:21.089793213-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:11:35-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-sxg","title":"Session ended: gt-copperhead-rictus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:16:50.126411911-06:00","created_by":"copperhead/polecats/rictus","updated_at":"2026-01-07T03:06:37.930697539-06:00","closed_at":"2026-01-07T03:06:37.930697539-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"copperhead/polecats/rictus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:16:49-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-rictus\",\"worker\":\"rictus\"}"}
{"id":"co-sy5z5","title":"Full procurement workflow: Estimate to WO","description":"attached_molecule: co-wisp-fn5v\nattached_at: 2026-01-29T07:47:42Z\ndispatched_by: mayor\n\nComplete flow from estimate approval → PO creation → vendor order → receiving → WO parts assignment. Track status at each stage with proper state machine transitions.","notes":"Implemented full procurement orchestration workflow:\n\n1. Created procurementOrchestration.service.js with:\n   - triggerProcurementWorkflow() for auto-MR creation on estimate approval\n   - autoCreatePOsFromMRs() for auto-PO creation from approved MRs\n   - getEstimateProcurementStatus() for end-to-end pipeline visibility\n   - getProcurementDashboard() for procurement team summary\n   - getApprovedEstimatesQueue() for WO conversion queue\n\n2. Created procurementOrchestration.routes.js with REST API endpoints\n\n3. Updated approvedQueue.routes.js to use real implementation\n\n4. Added integration tests\n\nLeveraged existing infrastructure:\n- procurementWorkflow.service.js functions\n- Procurement worker job handlers\n- Database schema from migration 082","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/carnelian","created_at":"2026-01-29T01:43:19.222826537-06:00","created_by":"mayor","updated_at":"2026-01-29T01:58:50.315814959-06:00","closed_at":"2026-01-29T01:58:50.315814959-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-sy5z5","depends_on_id":"co-wisp-fn5v","type":"blocks","created_at":"2026-01-29T01:47:39.113505241-06:00","created_by":"mayor"}]}
{"id":"co-synx","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:45:27.690251317-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:28:09.941745591-06:00","closed_at":"2026-01-22T22:28:09.941745591-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:45:27-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-szy2","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:52:18.821264358-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.121682232-06:00","closed_at":"2026-01-12T03:09:09.121682232-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":31.62,\"ended_at\":\"2026-01-11T04:52:18-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-t2z","title":"Add tablets and mobile devices to intake form","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-05T01:58:56.997016203-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.636500411-06:00","closed_at":"2026-01-05T02:04:24.668145681-06:00","close_reason":"Added tablets and mobiles fields to intake form, getIntakeData, setIntakeData, updateIntakeSummary, and startQuoteFromIntake"}
{"id":"co-t5hi","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T13:59:08.700788943-06:00","created_by":"mayor","updated_at":"2026-01-12T14:08:25.656582232-06:00","closed_at":"2026-01-12T14:08:25.656582232-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T13:59:08-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-t7n5","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:11:32.794748409-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:09.039853458-06:00","closed_at":"2026-01-12T03:09:09.039853458-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:11:32-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-t99q","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:11:58.256067221-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:16.272964934-06:00","closed_at":"2026-01-22T22:38:16.272964934-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:11:58-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-t9x","title":"mspp refinery worktree broken - .repo.git missing","description":"The mspp refinery worktree at /home/kaos/gt/mspp/refinery/rig/.git points to /home/kaos/gt/mspp/.repo.git/worktrees/rig which does not exist. The .repo.git directory is missing entirely from mspp rig. This prevents the refinery from performing git operations (fetch, rebase, merge, push). Workaround: recreate the mspp .repo.git or set up a fresh worktree.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-08T01:53:23.381850325-06:00","created_by":"mspp/refinery","updated_at":"2026-01-08T19:31:30.529668871-06:00","closed_at":"2026-01-08T02:04:03.677613491-06:00","close_reason":"Recreated .repo.git and refinery worktree"}
{"id":"co-tbr1","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T16:54:00.499368889-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:21.384687552-06:00","closed_at":"2026-01-12T17:27:21.384687552-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T16:54:00-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-tcj32","title":"Service Contracts System with Notifications","description":"## Coming Soon Feature\n\nAdd service contracts management with automated reminder notifications.\n\n## Overview\nService contracts track agreements with customers for recurring maintenance, warranties, \nand service level agreements. The system should integrate with the scheduled reminders \ninfrastructure built in co-z6la0.\n\n## Proposed Features\n\n### Service Contracts Table\n- contract_number, customer_id, asset_id (optional)\n- start_date, end_date, renewal_date\n- contract_type (warranty, maintenance, SLA, etc.)\n- billing_frequency, contract_value\n- terms and conditions (text/document)\n- status (draft, active, expiring, expired, cancelled)\n\n### Contract Management UI\n- List view with filters (status, customer, expiring soon)\n- Contract detail page\n- Create/edit contract form\n- Document attachment support\n- Renewal workflow\n\n### Automated Notifications\n- 90/60/30/7 days before expiration reminders\n- Renewal reminders to sales/account managers\n- Customer notification options\n- Integration with Actions for follow-up tracking\n\n### Reporting\n- Contracts expiring this month/quarter\n- Revenue by contract type\n- Renewal rate tracking\n\n## Dependencies\n- Scheduled reminders infrastructure (co-z6la0)\n- Notifications UI\n- Customer management (existing)\n\n## Notes\nThis is a backlog item for future implementation. Priority and timeline TBD based on \nbusiness needs.","status":"closed","priority":4,"issue_type":"feature","created_at":"2026-01-28T10:12:59.488855518-06:00","created_by":"mayor","updated_at":"2026-02-10T20:59:50.641977654-06:00","closed_at":"2026-02-10T20:59:50.641977654-06:00","close_reason":"Stale - all work caught up","labels":["backlog","coming-soon"]}
{"id":"co-tcvi","title":"Agent Browser: Create test helper utilities","description":"Create utilities for agent-browser integration:\n- Browser session management helpers\n- Snapshot parsing utilities  \n- Element reference helpers (@e1, @e2)\n- Screenshot capture/comparison helpers\n- Result formatting for test reports\n\nLocation: apps/web/tests/agent-browser/ or similar","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/browser","created_at":"2026-01-21T02:05:19.421538673-06:00","created_by":"mayor","updated_at":"2026-01-21T02:14:43.370556167-06:00","closed_at":"2026-01-21T02:14:43.370556167-06:00","close_reason":"Created agent-browser test utilities: session management, snapshot parsing, element references (@e1/@e2), screenshot capture/comparison, and result reporting","labels":["agent-browser","testing"]}
{"id":"co-tdpj","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T01:03:24.44307342-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:14.856211255-06:00","closed_at":"2026-01-22T22:38:14.856211255-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T01:03:24-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-te8p","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:40:51.65568509-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-12T03:09:09.212389409-06:00","closed_at":"2026-01-12T03:09:09.212389409-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/furiosa","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T04:40:51-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-furiosa\",\"worker\":\"furiosa\"}"}
{"id":"co-te8z","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T19:48:55.955784616-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.660637256-06:00","closed_at":"2026-01-12T03:09:07.660637256-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T19:48:55-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ter0n","title":"Create Puppeteer screenshot automation for manuals","description":"attached_molecule: co-wisp-pl6o\nattached_at: 2026-01-29T00:57:28Z\ndispatched_by: mayor\n\nCreate a Puppeteer script to capture numbered screenshots for each step in the user manuals.\n\n## Requirements\n\n1. Read the manual files from /home/kaos/Documents/manuals/\n2. For each step in each manual, capture a screenshot of the corresponding UI\n3. Number screenshots to match manual steps\n4. Save screenshots with naming convention: XX-manual-name-step-YY.png\n\n## Manual Files\n- 01-quick-start-guide.txt - Initial setup steps\n- 02-estimate-to-work-order.txt - Estimate to single WO flow  \n- 03-estimate-to-project.txt - Multi-phase project flow\n- 04-flowcharts.txt - Mermaid diagrams (may not need screenshots)\n\n## Screenshot Naming Examples\n- 01-quick-start-01-company-settings.png\n- 01-quick-start-02-create-user.png\n- 02-estimate-wo-01-new-estimate.png\n- 02-estimate-wo-02-add-line-items.png\n- 03-project-01-convert-to-project.png\n\n## Output Location\n/home/kaos/Documents/manuals/screenshots/\n\n## Technical Notes\n- Use existing Puppeteer setup in copperhead\n- Login as demo user\n- Navigate to each screen mentioned in manual\n- Capture viewport screenshot\n- Add step numbers to manual text referencing each screenshot\n\n## Acceptance Criteria\n- [ ] Screenshots captured for all setup steps (manual 01)\n- [ ] Screenshots captured for estimate-to-WO flow (manual 02)\n- [ ] Screenshots captured for project flow (manual 03)\n- [ ] Screenshots numbered consistently\n- [ ] Manual files updated with screenshot references","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/calcite","created_at":"2026-01-28T18:56:26.061016342-06:00","created_by":"mayor","updated_at":"2026-01-28T20:18:53.131580354-06:00","closed_at":"2026-01-28T20:18:53.131580354-06:00","close_reason":"Capturas de pantalla completadas: 24 imágenes numeradas para los 3 manuales en /home/kaos/Documents/manuals/screenshots/","dependencies":[{"issue_id":"co-ter0n","depends_on_id":"co-wisp-pl6o","type":"blocks","created_at":"2026-01-28T18:57:25.221199382-06:00","created_by":"mayor"}]}
{"id":"co-tga","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T11:52:28.711090902-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-06T01:15:03.242557916-06:00","closed_at":"2026-01-06T01:15:03.242557916-06:00","close_reason":"Acknowledged - sessions restarted","event_kind":"session.ended","actor":"copperhead/polecats/furiosa","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T11:52:27-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-furiosa\",\"worker\":\"furiosa\"}"}
{"id":"co-ti0f","title":"CO Request: Resolution - schedule or assign","description":"After client approval: option to schedule for later visit OR create change order and assign to on-site tech immediately.","status":"closed","priority":3,"issue_type":"task","assignee":"copperhead/slit","created_at":"2026-01-13T02:39:10.386992451-06:00","created_by":"mayor","updated_at":"2026-01-13T05:39:21.672049652-06:00","closed_at":"2026-01-13T05:39:21.672049652-06:00","close_reason":"Implemented CO request resolution with Schedule Later and Assign Now options"}
{"id":"co-tjhvy","title":"PeekPanel 3.4: Retrofit QuotesListPage with side peek","description":"File: pages/salesops/QuotesListPage.jsx\nCurrent: Click row → navigate to editor\nChange: Click → side peek with quote summary. 'Edit' button → navigates to editor.\n- peekType=\"quote-summary\", contextType=\"list\"\n- Show quote status, customer, total, line items summary\n- Import PeekPanel from components/panels\n\n## Testing\n- Click quote row → side peek opens with quote summary\n- Edit button navigates to full editor\n- Position switcher works\n- No regressions","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-12T01:49:00.301189423-06:00","created_by":"mayor","updated_at":"2026-02-12T01:49:00.301189423-06:00"}
{"id":"co-tln5","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:20:41.477047273-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:15.713900716-06:00","closed_at":"2026-01-22T22:38:15.713900716-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:20:41-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-tltn","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:22:46.49114888-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.386612691-06:00","closed_at":"2026-01-12T03:09:09.386612691-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:22:46-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-tncs","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T02:45:14.830864865-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.462458401-06:00","closed_at":"2026-01-12T03:09:09.462458401-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":23.6,\"ended_at\":\"2026-01-11T02:45:14-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-tr1c","title":"Add RSB extensions to StockLedgerPage","description":"Add Right Sidebar extensions to the Stock Ledger page following the pattern used in AreaBasedEstimateEditor.\n\n## Context\n- Target: apps/web/src/pages/warehouse/StockLedgerPage.jsx\n- Pattern: apps/web/src/components/salesops/AreaBasedEstimateEditor.jsx (lines 505-651)\n- Context Provider: apps/web/src/context/RightSidebarContext.jsx\n\n## Suggested Extensions\n\n### 1. Quick Filters\n- Preset filter combinations (Today, This Week, Adjustments Only)\n- Recent filter history\n- Save custom filter presets\n- Icon: Filter or Sliders\n\n### 2. Move Type Legend\n- Color-coded move type reference\n- Click to filter by type\n- Count per type in current view\n- Icon: Tag or Palette\n\n### 3. Location Summary\n- Stock totals by holder/location\n- Quick jump to location detail\n- Visual stock distribution\n- Icon: MapPin or Warehouse\n\n### 4. Export Actions\n- Export current view to CSV\n- Generate audit report\n- Print ledger\n- Icon: Download or FileText\n\n## Implementation Notes\n- Use existing filters state\n- Badge showing active filter count\n- Follow icon/badge patterns from estimate editor","status":"closed","priority":2,"issue_type":"task","assignee":"angharad","created_at":"2026-01-15T04:52:02.623873397-06:00","created_by":"mayor","updated_at":"2026-01-15T05:11:23.514824602-06:00","closed_at":"2026-01-15T05:11:23.514824602-06:00","close_reason":"Implemented RSB extensions for StockLedgerPage: Quick Filters, Move Type Legend, Location Summary, Export Actions"}
{"id":"co-ts6y","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T19:32:06.793762635-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.71509768-06:00","closed_at":"2026-01-12T03:09:07.71509768-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T19:32:06-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-tsn2","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:34:52.916527193-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.528133453-06:00","closed_at":"2026-01-12T03:09:09.528133453-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:34:52-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ttd0","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:45:52.685982782-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-12T03:09:09.166943847-06:00","closed_at":"2026-01-12T03:09:09.166943847-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/furiosa","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T04:45:52-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-furiosa\",\"worker\":\"furiosa\"}"}
{"id":"co-ttnm","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:20:17.358127797-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.626569009-06:00","closed_at":"2026-01-12T03:09:08.626569009-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:20:17-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-tudo","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T23:32:01.63338711-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.286403508-06:00","closed_at":"2026-01-12T03:09:07.286403508-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T23:32:01-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-tvp","title":"API: Implement photos upload","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:10:57.738115378-06:00","created_by":"kaos","updated_at":"2026-01-05T11:25:45.412059458-06:00","closed_at":"2026-01-05T11:25:45.412059458-06:00","close_reason":"Implemented photos.routes.js with full CRUD: GET /api/photos (list by work_order_id), GET /:id, POST /upload (multer with 10MB limit, multi-file), PUT /:id (caption/category), DELETE /:id (soft delete). Uses work_order_photos table from 030_lite_core migration. Static serving at /uploads. Mounted in index.js with auth.","labels":["api","backend","lite-mvp"]}
{"id":"co-txmd","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:57:11.582435351-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.078164679-06:00","closed_at":"2026-01-12T03:09:08.078164679-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:57:11-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-tyi","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:01:00.948427506-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:09.649324422-06:00","closed_at":"2026-01-12T03:09:09.649324422-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:01:00-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-tz745","title":"SECURITY: Tighten rate limiting on auth endpoints","description":"dispatched_by: mayor\n\nThe general rate limiter (100 req/15 min) is too loose for auth endpoints. Add stricter per-endpoint rate limiting: POST /api/auth/login: 10 requests per 15 minutes per IP. POST /api/auth/signup: 3 requests per 15 minutes per IP. POST /api/auth/register: 3 requests per 15 minutes per IP. POST /api/auth/refresh: 20 requests per 15 minutes per IP. Use express-rate-limit with separate instances for each sensitive endpoint. Apply them in auth.routes.js directly (not in index.js). Keep the global 100/15min limiter as a backstop. File: apps/api/src/routes/auth.routes.js - add rate limiters at the top and apply to each route.","status":"closed","priority":0,"issue_type":"task","assignee":"copperhead/polecats/quartz","created_at":"2026-02-10T17:52:23.52640594-06:00","created_by":"kaos","updated_at":"2026-02-10T19:44:57.803764311-06:00","closed_at":"2026-02-10T19:44:57.803764311-06:00","close_reason":"Added per-endpoint rate limiters: login 10/15m, signup 3/15m, register 3/15m, refresh 20/15m. Global backstop remains."}
{"id":"co-tzhr","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T22:20:11.000972051-06:00","created_by":"mayor","updated_at":"2026-01-12T22:21:06.937595805-06:00","closed_at":"2026-01-12T22:21:06.937595805-06:00","close_reason":"triage: stale event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T22:20:10-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-u05d","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:15:43.758760205-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.014861755-06:00","closed_at":"2026-01-12T03:09:09.014861755-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:15:43-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-u1m","title":"Assessment Report Generation","description":"Generate assessment reports:\n- PDF export matching PowerPoint template format\n- Executive summary (1-page overview)\n- Full technical assessment\n- Baseline report format\n- Proposed improvements report format\n- Print-friendly styling","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T03:07:28.727162542-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.853520014-06:00","closed_at":"2026-01-05T03:42:23.861474367-06:00","close_reason":"Report generation implemented with percentage scores, executive summary, and print-ready formatting","dependencies":[{"issue_id":"co-u1m","depends_on_id":"co-8u4","type":"blocks","created_at":"2026-01-05T03:08:00.912920392-06:00","created_by":"mayor"},{"issue_id":"co-u1m","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:14.247842763-06:00","created_by":"mayor"}]}
{"id":"co-u337","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-21T03:36:37.20201377-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-22T22:28:09.590019383-06:00","closed_at":"2026-01-22T22:28:09.590019383-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-21T03:36:37-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-u3uo","title":"Lookup Slide Panel + Inventory Management - Backend","description":"attached_molecule: co-wisp-sjav\nattached_at: 2026-01-26T18:34:39Z\ndispatched_by: mayor\n\n## Phase 1: Database \u0026 API Foundation\n\nCreate the backend infrastructure for inventory item requests and the lookup_product_info AI tool.\n\n### Tasks:\n1. Create migration: inventory_item_requests table (see plan for schema)\n2. Create inventoryItemRequest.routes.js with CRUD endpoints\n3. Add lookup_product_info tool to estimateTools.js\n4. Add handler to estimateToolHandlers.js\n5. Add /ai/lookup-product-info endpoint to ai.routes.js\n\n### Plan Reference:\n/home/kaos/.claude/plans/snoopy-baking-wind.md - Phases 1 and 4\n\n### Files to Create/Modify:\n- apps/api/migrations/XXX_inventory_item_requests.sql\n- apps/api/src/routes/inventoryItemRequest.routes.js\n- apps/api/src/services/ai/estimateTools.js\n- apps/api/src/services/ai/estimateToolHandlers.js\n- apps/api/src/routes/ai.routes.js\n- apps/api/src/index.js (mount new routes)","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/obsidian","created_at":"2026-01-20T23:58:40.954988274-06:00","created_by":"mayor","updated_at":"2026-01-26T12:37:59.16052834-06:00","closed_at":"2026-01-26T12:37:59.16052834-06:00","close_reason":"Phase 1 backend complete. Added lookup_product_info AI tool and handler. Migration, routes, and API endpoint were already in place.","dependencies":[{"issue_id":"co-u3uo","depends_on_id":"co-wisp-sjav","type":"blocks","created_at":"2026-01-26T12:34:38.179088392-06:00","created_by":"mayor"}]}
{"id":"co-u6ylg","title":"Resolve merge conflicts on PR #109","description":"dispatched_by: mayor\n\nPR #109 (refactor: rename cost item to line item across codebase) has merge conflicts with main.\n\nRebase or merge main into the branch and resolve conflicts, then push.\n\nBranch: polecat/heliodor/co-a7myr@mlaayip7\nPR: https://github.com/FrankAtGHub/copperhead/pull/109","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/copperhead-96","created_at":"2026-02-08T20:05:27.052273903-06:00","created_by":"kaos","updated_at":"2026-02-08T20:13:03.189460263-06:00","closed_at":"2026-02-08T20:13:03.189460263-06:00","close_reason":"Rebased PR #109 onto latest main. Resolved one conflict in LineItemSlidePanel.jsx header comment (merged BOM description line from main with line-item rename from PR). Branch is now MERGEABLE/CLEAN."}
{"id":"co-u7d","title":"Trade Starter Data Add-Ons System","description":"PLAN-001: Paid add-on catalogs for trades (electrical ready), onboarding flow, Settings Add-Ons page","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-07T01:23:40.906591546-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.571922044-06:00","closed_at":"2026-01-07T03:12:50.436667921-06:00","close_reason":"PLAN-001 complete: Phase 1 (PR #12), Phase 2 (PR #14), Phase 3 (PR #13) all merged"}
{"id":"co-u853j","title":"SECURITY: .env with secrets committed in git history (commits 996c90c7, 8694713c)","status":"open","priority":1,"issue_type":"bug","created_at":"2026-02-12T11:45:44.076039862-06:00","created_by":"copperhead/polecats/obsidian","updated_at":"2026-02-12T11:45:44.076039862-06:00"}
{"id":"co-u8j","title":"SSO Phase 6: Testing \u0026 Polish","description":"- E2E tests for each provider (Azure, Google, Apple)\n- Security audit (state param, nonce, domain validation)\n- Documentation updates\n- Error handling \u0026 user messaging","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T03:22:48.452447739-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.961890264-06:00","closed_at":"2026-01-06T16:28:04.474611422-06:00","close_reason":"Phase 6 complete - security audit, documentation, and error handling merged in PR #10","dependencies":[{"issue_id":"co-u8j","depends_on_id":"co-zj0","type":"blocks","created_at":"2026-01-06T03:22:59.410600458-06:00","created_by":"mayor"},{"issue_id":"co-u8j","depends_on_id":"co-dex","type":"blocks","created_at":"2026-01-06T03:22:59.45355196-06:00","created_by":"mayor"}]}
{"id":"co-uac","title":"Area-Based Estimate Editor with AI Search","description":"Implemented and merged","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T01:04:52.866856369-06:00","created_by":"mayor","updated_at":"2026-01-06T01:04:52.866856369-06:00","closed_at":"2026-01-06T01:04:53.866856369-06:00","labels":["ai","feature","frontend","salesops"],"dependencies":[{"issue_id":"co-uac","depends_on_id":"co-6ka","type":"blocks","created_at":"2026-01-06T01:04:52.870416392-06:00","created_by":"mayor"},{"issue_id":"co-uac","depends_on_id":"co-np5","type":"blocks","created_at":"2026-01-06T01:04:52.872935794-06:00","created_by":"mayor"}]}
{"id":"co-uaxxd","title":"PeekPanel 3.2: Retrofit WorkOrdersListPage with side peek","description":"attached_molecule: co-wisp-une2t\nattached_at: 2026-02-12T08:02:13Z\ndispatched_by: mayor\n\nFile: pages/dispatch/WorkOrdersListPage.jsx\nCurrent: Click row → navigate() to full page\nChange: Click → side peek with WO summary. Double-click or 'Open full page' → navigates.\n- New WorkOrderSummaryContent component showing status, tech, line items, schedule\n- peekType=\"wo-summary\", contextType=\"list\", fullPageUrl=\"/dispatch/work-orders/${id}\"\n- Import PeekPanel from components/panels\n- PeekPanelProvider must be in MainLayout first (Phase 2 — co-vguv8)\n\n## Testing\n- Click WO row → side peek opens with WO summary\n- Double-click → navigates to full WO page\n- Position switcher works\n- List stays visible when peek is open\n- No regressions","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/topaz","created_at":"2026-02-12T01:49:57.009156065-06:00","created_by":"mayor","updated_at":"2026-02-12T02:14:08.490189961-06:00","closed_at":"2026-02-12T02:14:08.490189961-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-uaxxd","depends_on_id":"co-wisp-une2t","type":"blocks","created_at":"2026-02-12T02:02:09.098233939-06:00","created_by":"mayor"}]}
{"id":"co-uchs0","title":"Fix New Technician button - create user modal with role filter","description":"dispatched_by: unknown\n\nThe '+ New Technician' button on Dispatch \u003e Technicians page does nothing.\n\n## Location\n- File: apps/web/src/pages/dispatch/TechniciansListPage.jsx:186\n- Current: Empty onClick with TODO comment\n\n## Implementation\n1. Create TechnicianModal component (or reuse UserModal with role filter)\n2. Limit role selection to technician roles only:\n   - lead_technician\n   - technician (helper)\n3. On submit, call POST /api/users with role constraint\n4. Refresh technician list after success\n\n## Acceptance\n- Click '+ New Technician' opens modal\n- Modal only shows technician role options\n- Submitting creates user and refreshes list","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/granite","created_at":"2026-02-03T22:07:32.776530867-06:00","created_by":"kaos","updated_at":"2026-02-03T22:11:40.251764463-06:00","closed_at":"2026-02-03T22:11:40.251764463-06:00","close_reason":"Implemented New Technician modal: added POST /api/users endpoint, createUser method in apiService, and NewTechnicianModal component in TechniciansListPage with technician role filter"}
{"id":"co-uddjk","title":"Fix bug report button visibility","description":"dispatched_by: mayor\n\nThe bug report button exists but E2E test couldn't find it. Current position is fixed bottom-6 left-72.\n\nTasks:\n1. Move button to bottom-right (right-6 bottom-20) - standard position, above potential chat widgets\n2. Add pulse animation on first visit (use localStorage to track)\n3. Add tooltip on hover: Report a bug or give feedback\n4. Increase padding (p-3 to p-4) for better touch target\n5. Ensure z-index is high enough (z-[9999])\n6. Add aria-label for accessibility\n\nFile: apps/web/src/components/BugReportButton.jsx\nReference: docs/ux-plans/04-bug-report-visibility.md","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/kyanite","created_at":"2026-02-05T14:38:49.532038247-06:00","created_by":"kaos","updated_at":"2026-02-05T14:45:30.039873427-06:00","closed_at":"2026-02-05T14:45:30.039873427-06:00","close_reason":"Fixed: button repositioned to bottom-20, added pulse animation, improved z-index, padding, tooltip, and aria-label. Branch pushed: polecat/kyanite/co-uddjk@ml9xa47m"}
{"id":"co-udwv","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T01:03:14.979766355-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:14.915077557-06:00","closed_at":"2026-01-22T22:38:14.915077557-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T01:03:14-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-udyd","title":"Session ended: gt-copperhead-goose","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:18:19.258291488-06:00","created_by":"copperhead/polecats/goose","updated_at":"2026-01-22T22:28:10.674303013-06:00","closed_at":"2026-01-22T22:28:10.674303013-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/goose","payload":"{\"cost_usd\":0.25,\"ended_at\":\"2026-01-16T04:18:19-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-goose\",\"worker\":\"goose\"}"}
{"id":"co-udz3","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:31:06.437454751-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.870160728-06:00","closed_at":"2026-01-12T03:09:07.870160728-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:31:06-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-uezz","title":"Session ended: gt-copperhead-ace","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:47:41.914587989-06:00","created_by":"copperhead/polecats/ace","updated_at":"2026-01-12T14:48:09.922952049-06:00","closed_at":"2026-01-12T14:48:09.922952049-06:00","close_reason":"Stale session events - cleaned during triage","event_kind":"session.ended","actor":"copperhead/polecats/ace","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:47:41-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-ace\",\"worker\":\"ace\"}"}
{"id":"co-ugy1q","title":"Rebase co-r9eah branch onto main to resolve security regressions","description":"attached_molecule: co-wisp-89epq\nattached_at: 2026-02-12T05:42:00Z\ndispatched_by: mayor\n\n## Context\nPR #211 (branch polecat/jasper/co-r9eah@mliweybi) was forked before two security PRs landed on main. Refinery flagged these regressions and closed the PR.\n\n## Problems to resolve during rebase\n1. **Rate limiters reverted** - PR #206 added loginLimiter, signupLimiter, registerLimiter, refreshLimiter to auth.routes.js. Jasper's branch overwrites these. After rebase, ensure all rate limiters from main are preserved.\n2. **PII-leaking endpoint re-added** - PR #205 removed GET /validate/:code from betaInvites.routes.js. Jasper's branch brings it back. After rebase, ensure this endpoint stays removed.\n3. **tenantProvisioning revert** - Less critical since seedDemoData is now false, but ensure the try/catch from main is preserved.\n\n## What to do\n1. Checkout branch polecat/jasper/co-r9eah@mliweybi\n2. Rebase onto current main: git rebase main\n3. Resolve conflicts by keeping main's security fixes while preserving jasper's feature changes:\n   - auth.routes.js: keep rate limiters from main, keep seedDemoData: false from jasper\n   - betaInvites.routes.js: keep main's version (no /validate/:code endpoint)\n   - tenantProvisioning.service.js: keep main's try/catch, keep jasper's seedDemoData: false behavior\n4. Force push the rebased branch\n5. Open a new PR\n\n## The actual feature changes to PRESERVE from jasper's work\n- seedDemoData: false in auth.routes.js signup route\n- New file: tenantSettings.routes.js (POST /api/settings/seed-demo-data)\n- Mount in index.js\n- seedDemoData() in api.service.js\n- DEMO_DATA step in OnboardingFlow.jsx","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/onyx","created_at":"2026-02-11T23:41:37.85282714-06:00","created_by":"mayor","updated_at":"2026-02-11T23:44:21.476348974-06:00","closed_at":"2026-02-11T23:44:21.476348974-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-ugy1q","depends_on_id":"co-wisp-89epq","type":"blocks","created_at":"2026-02-11T23:41:55.8942751-06:00","created_by":"mayor"}]}
{"id":"co-uix83","title":"Peek Panel System - configurable multi-position panel component","description":"dispatched_by: mayor\n\n## Feature: Peek Panel System\n\nA unified panel component that can display content (forms, detail views) in multiple configurable positions, with a user-switchable position menu.\n\n### Positions\n- **Center Peek** - centered modal overlay\n- **Side Peek** - right-side slide-out drawer (like existing LookupSlidePanel)\n- **Bottom Peek** - bottom sheet / drawer\n- **Full Page** - takes over the full viewport\n- **Control Peek** - TBD (possibly anchored near the triggering control)\n\n### Requirements\n1. Single `\u003cPeekPanel\u003e` component that accepts a `position` prop\n2. Position switcher dropdown in the panel header (see reference screenshots in ~/Documents/peekFeature/)\n3. Smooth transitions when switching between positions\n4. Backdrop overlay with click-to-close\n5. Consistent header pattern: icon, title, description, close button, position menu\n6. Should replace/wrap existing modal and slide-panel patterns over time\n7. Remember user's preferred position (localStorage or context)\n8. Dark mode support via existing theme system\n9. Mobile-responsive (side peek collapses to full on small screens)\n\n### Technical Notes\n- Build on existing Tailwind panel patterns (see LookupSlidePanel.jsx, ActionDetailModal.jsx)\n- Use React Portal for rendering\n- Leverage existing z-index layering conventions (backdrop z-40, panel z-50)\n- Animation: translate + opacity transitions (duration-300)\n\n### Reference\nScreenshots in /home/kaos/Documents/peekFeature/ showing the center peek with position menu and side peek layout.","notes":"PeekPanel system implemented: PeekPanel.jsx, PeekPanelHeader.jsx, usePeekPanel hook. Supports center/side/bottom/full positions with Framer Motion transitions, position-switcher dropdown, localStorage preference, mobile-responsive, dark mode. Branch: polecat/quartz/co-uix83@mliu5w5o","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/quartz","created_at":"2026-02-11T20:24:27.732052874-06:00","created_by":"kaos","updated_at":"2026-02-11T20:30:09.518284255-06:00","closed_at":"2026-02-11T20:30:09.51828871-06:00"}
{"id":"co-ujiu","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:16:45.086118178-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.243935503-06:00","closed_at":"2026-01-12T03:09:08.243935503-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:16:45-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-uk7","title":"W1: Build Work Order List screen","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:10:54.408413869-06:00","created_by":"kaos","updated_at":"2026-01-05T16:20:24.978385681-06:00","closed_at":"2026-01-05T16:20:24.978385681-06:00","close_reason":"Already implemented by MCP agents - see W1-W10 in features-list.md and claude-progress.md","labels":["lite-mvp","ui","web"]}
{"id":"co-ulwu","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:56:08.038721461-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T15:04:01.061046625-06:00","closed_at":"2026-01-12T15:04:01.061046625-06:00","close_reason":"acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:56:07-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-un48","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:17:51.384093112-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:20.812683319-06:00","closed_at":"2026-01-12T17:27:20.812683319-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:17:51-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-uqwd","title":"Phase 1: Create database migrations 047 \u0026 048","description":"dispatched_by: mayor\n\nCreate migrations for labor attributes and trade dependencies per EST-WO plan:\n\n1. 047_inventory_labor_attributes.sql:\n   - Add labor_pricing_model, blended_labor_rate to tenants\n   - Add install_time_default, install_phase_default, install_time_unit_default to inventory_categories\n   - Add install_time, install_phase, install_time_unit, install_time_source, install_time_confidence to inventory_items\n   - Seed category defaults\n\n2. 048_phase_crew_and_trade_deps.sql:\n   - Add blocked_until_trade, trade_ready_at, crew_size, target_completion_date to work_orders\n   - Create work_order_crew, trade_blockers, labor_types, category_labor_rules tables\n   - Seed default trade blockers and labor types\n\nFull SQL in docs/plans/EST-WO-implementation-plan.md lines 103-284","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/crew/phase1","created_at":"2026-01-23T22:27:29.450830652-06:00","created_by":"mayor","updated_at":"2026-01-23T22:39:06.519264364-06:00","closed_at":"2026-01-23T22:39:06.519264364-06:00","close_reason":"Created migrations 067_inventory_labor_attributes.sql and 068_phase_crew_and_trade_deps.sql (used 067/068 since 047/048 already existed). Files staged for commit.","labels":["database","est-wo"]}
{"id":"co-uw2","title":"Crew worker frank in mspp - human-managed persistent workspace.","description":"Crew worker frank in mspp - human-managed persistent workspace.\n\nrole_type: crew\nrig: mspp\nagent_state: idle\nhook_bead: null\nrole_bead: hq-crew-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-04T21:19:33.584094936-06:00","created_by":"kaos","updated_at":"2026-01-12T14:08:55.38414105-06:00","closed_at":"2026-01-12T14:08:55.38414105-06:00","close_reason":"mspp rig has no active workers - stale agent beads"}
{"id":"co-ux8t","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:49:43.04863631-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.139775277-06:00","closed_at":"2026-01-12T03:09:09.139775277-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":31.62,\"ended_at\":\"2026-01-11T04:49:42-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-uzfiz","title":"Use full beta scenarios seed for new tenants","description":"dispatched_by: copperhead/polecats/sunstone\n\ntenantProvisioning.service.js uses minimal seedBetaTenantData instead of full beta scenarios.\n\n## Root cause:\nseedBetaTenantData() only seeds basic data (3 customers, 5 items, 3 WOs).\nseedBetaTesterScenarios.js has full scenarios with estimates, areas, line items, BOM.\n\n## Fix:\nIn tenantProvisioning.service.js, replace:\n  demoDataSummary = await seedBetaTenantData(client, tenant.id, adminUser.id);\n\nWith:\n  const { seedForTenant } = require('../scripts/seedBetaTesterScenarios');\n  demoDataSummary = await seedForTenant(tenant.id, adminUser.id);\n\nThe seedForTenant function already exists and handles setting tenant config.\n\n## Files:\n- apps/api/src/services/tenantProvisioning.service.js (line 186)","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/hematite","created_at":"2026-02-04T22:47:17.040747459-06:00","created_by":"kaos","updated_at":"2026-02-04T22:49:54.848483287-06:00","closed_at":"2026-02-04T22:49:54.848483287-06:00","close_reason":"Replaced seedBetaTenantData with seedForTenant from seedBetaTesterScenarios.js"}
{"id":"co-v5k","title":"Tenant Settings - Estimating Configuration Fields (from spec doc)","description":"## Overview\nAdd all missing tenant_settings fields from electrical-estimating-config-formulas.md to enable full estimating configuration.\n\n## Database Migration: 043_estimating_config_settings.sql\n\n### Difficulty Multipliers (Section 2.2)\n```sql\nALTER TABLE tenant_settings ADD COLUMN difficulty_standard DECIMAL(4,2) DEFAULT 1.00;\nALTER TABLE tenant_settings ADD COLUMN difficulty_minor DECIMAL(4,2) DEFAULT 1.10;\nALTER TABLE tenant_settings ADD COLUMN difficulty_moderate DECIMAL(4,2) DEFAULT 1.25;\nALTER TABLE tenant_settings ADD COLUMN difficulty_major DECIMAL(4,2) DEFAULT 1.50;\nALTER TABLE tenant_settings ADD COLUMN difficulty_severe DECIMAL(4,2) DEFAULT 1.75;\n```\n\n### Height Adjustments (Section 2.3)\n```sql\nALTER TABLE tenant_settings ADD COLUMN height_break_1 INTEGER DEFAULT 12;\nALTER TABLE tenant_settings ADD COLUMN height_factor_1 DECIMAL(4,2) DEFAULT 1.15;\nALTER TABLE tenant_settings ADD COLUMN height_break_2 INTEGER DEFAULT 18;\nALTER TABLE tenant_settings ADD COLUMN height_factor_2 DECIMAL(4,2) DEFAULT 1.25;\nALTER TABLE tenant_settings ADD COLUMN height_break_3 INTEGER DEFAULT 20;\nALTER TABLE tenant_settings ADD COLUMN height_factor_3 DECIMAL(4,2) DEFAULT 1.50;\nALTER TABLE tenant_settings ADD COLUMN height_break_4 INTEGER DEFAULT 50;\nALTER TABLE tenant_settings ADD COLUMN height_factor_4 DECIMAL(4,2) DEFAULT 2.00;\nALTER TABLE tenant_settings ADD COLUMN union_height_rules BOOLEAN DEFAULT false;\n```\n\n### Installation Type Factors (Section 2.4)\n```sql\nALTER TABLE tenant_settings ADD COLUMN surface_mount_factor DECIMAL(4,2) DEFAULT 1.20;\nALTER TABLE tenant_settings ADD COLUMN grouped_run_factor DECIMAL(4,2) DEFAULT 0.60;\n```\n\n### Material Settings (Section 3)\n```sql\nALTER TABLE tenant_settings ADD COLUMN standard_waste_pct DECIMAL(5,2) DEFAULT 5.00;\nALTER TABLE tenant_settings ADD COLUMN high_waste_pct DECIMAL(5,2) DEFAULT 10.00;\nALTER TABLE tenant_settings ADD COLUMN flag_volatile_materials BOOLEAN DEFAULT true;\nALTER TABLE tenant_settings ADD COLUMN volatility_alert_pct DECIMAL(5,2) DEFAULT 10.00;\n```\n\n### Overhead \u0026 Profit (Section 4)\n```sql\nALTER TABLE tenant_settings ADD COLUMN overhead_pct DECIMAL(5,2) DEFAULT 15.00;\nALTER TABLE tenant_settings ADD COLUMN overhead_mode VARCHAR(10) DEFAULT 'pct'; -- 'pct' or 'fixed'\nALTER TABLE tenant_settings ADD COLUMN overhead_fixed DECIMAL(12,2);\nALTER TABLE tenant_settings ADD COLUMN target_profit_pct DECIMAL(5,2) DEFAULT 12.00;\nALTER TABLE tenant_settings ADD COLUMN floor_profit_pct DECIMAL(5,2) DEFAULT 8.00;\n```\n\n### Taxes \u0026 Fees (Section 5)\n```sql\nALTER TABLE tenant_settings ADD COLUMN sales_tax_rate DECIMAL(5,2) DEFAULT 0.00;\nALTER TABLE tenant_settings ADD COLUMN tax_labor BOOLEAN DEFAULT false;\nALTER TABLE tenant_settings ADD COLUMN default_permit_fee DECIMAL(10,2) DEFAULT 0.00;\nALTER TABLE tenant_settings ADD COLUMN permit_as_percentage BOOLEAN DEFAULT false;\nALTER TABLE tenant_settings ADD COLUMN permit_pct DECIMAL(5,2) DEFAULT 1.50;\nALTER TABLE tenant_settings ADD COLUMN trip_charge DECIMAL(10,2) DEFAULT 0.00;\nALTER TABLE tenant_settings ADD COLUMN delivery_fee DECIMAL(10,2) DEFAULT 75.00;\nALTER TABLE tenant_settings ADD COLUMN include_delivery BOOLEAN DEFAULT false;\nALTER TABLE tenant_settings ADD COLUMN supervisor_hourly DECIMAL(10,2) DEFAULT 0.00;\n```\n\n### Scheduling (Section 6.1)\n```sql\nALTER TABLE tenant_settings ADD COLUMN shift_length DECIMAL(4,2) DEFAULT 8.00;\nALTER TABLE tenant_settings ADD COLUMN productive_hours DECIMAL(4,2) DEFAULT 6.50;\nALTER TABLE tenant_settings ADD COLUMN ot_threshold DECIMAL(4,2) DEFAULT 8.00;\nALTER TABLE tenant_settings ADD COLUMN ot_rate DECIMAL(4,2) DEFAULT 1.50;\n```\n\n## UI Sections (Settings → Estimating Configuration)\n1. **Difficulty Factors** - Site condition multipliers\n2. **Height Adjustments** - Thresholds and multipliers\n3. **Installation Types** - Surface/concealed/grouped factors\n4. **Material Settings** - Waste allowances, volatility alerts\n5. **Overhead \u0026 Profit** - Recovery percentages\n6. **Taxes \u0026 Fees** - Sales tax, permits, standard charges\n7. **Scheduling** - Productive hours, overtime rules\n\n## Files to Create/Modify\n- apps/api/migrations/043_estimating_config_settings.sql\n- apps/web/src/components/Settings/EstimatingConfigSettings.jsx (new)\n- apps/web/src/components/Settings/SettingsPage.jsx (add tab)\n- apps/api/src/routes/tenantSettings.routes.js","status":"closed","priority":2,"issue_type":"feature","assignee":"deacon","created_at":"2026-01-10T23:23:35.132854632-06:00","created_by":"mayor","updated_at":"2026-01-12T05:40:48.380417352-06:00","closed_at":"2026-01-12T05:40:48.380417352-06:00","close_reason":"Quick pass"}
{"id":"co-v6hoy","title":"Fix migrations 107/110/111/112/116 - various missing references","description":"attached_molecule: co-wisp-invuo\nattached_at: 2026-02-01T16:53:05Z\ndispatched_by: mayor\n\nMigrations 107, 110, 111, 112, 116 are skipped due to various missing column/table references.\n\n**To fix:**\n1. Review each migration for what's missing\n2. Create prerequisite tables/columns or fix references\n3. Remove from SKIP_MIGRATIONS in migrate.js\n4. Test on staging\n\n**Files:**\n- apps/api/scripts/migrate.js (SKIP_MIGRATIONS line 66)\n- apps/api/migrations/107_*.sql\n- apps/api/migrations/110_*.sql\n- apps/api/migrations/111_*.sql\n- apps/api/migrations/112_*.sql\n- apps/api/migrations/116_*.sql","status":"closed","priority":2,"issue_type":"bug","assignee":"copperhead/polecats/pearl","created_at":"2026-02-01T10:47:37.119393138-06:00","created_by":"mayor","updated_at":"2026-02-01T10:59:27.211804438-06:00","closed_at":"2026-02-01T10:59:27.211804438-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-v6hoy","depends_on_id":"co-wisp-invuo","type":"blocks","created_at":"2026-02-01T10:52:59.177705907-06:00","created_by":"mayor"}]}
{"id":"co-v7qf","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:49:21.827271744-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.93488265-06:00","closed_at":"2026-01-12T03:09:07.93488265-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:49:21-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-v85o","title":"Merge: rictus-mk94yhoj","description":"branch: polecat/rictus-mk94yhoj\ntarget: main\nsource_issue: rictus-mk94yhoj\nrig: copperhead\nagent_bead: co-copperhead-polecat-rictus\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-10T20:57:10.622231869-06:00","created_by":"kaos","updated_at":"2026-02-12T02:50:15.145451388-06:00","closed_at":"2026-02-12T02:50:15.145451388-06:00","close_reason":"Stale merge requests, work already merged on main"}
{"id":"co-v89g","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T06:12:24.149680138-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.744464869-06:00","closed_at":"2026-01-12T03:09:08.744464869-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T06:12:23-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-v9ji","title":"Session ended: gt-polecat-max","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-15T05:11:22.895427945-06:00","created_by":"kaos","updated_at":"2026-01-22T22:38:16.313884891-06:00","closed_at":"2026-01-22T22:38:16.313884891-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"polecat/polecats/max","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-15T05:11:22-06:00\",\"rig\":\"polecat\",\"role\":\"polecat\",\"session_id\":\"gt-polecat-max\",\"worker\":\"max\"}"}
{"id":"co-vaod","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:57:16.003189902-06:00","created_by":"mayor","updated_at":"2026-01-12T18:04:35.505616832-06:00","closed_at":"2026-01-12T18:04:35.505616832-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:57:15-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-vc1r","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T19:37:51.690250277-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.70562835-06:00","closed_at":"2026-01-12T03:09:07.70562835-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T19:37:51-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-vdr6","title":"Digest: mol-witness-patrol","description":"Patrol 9: obsidian 1/5 tasks done, implementing API routes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T11:46:45.382213048-06:00","updated_at":"2026-01-24T11:46:45.382213048-06:00","closed_at":"2026-01-24T11:46:45.382095089-06:00","close_reason":"Squashed from 10 wisps"}
{"id":"co-vf6h","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:08:27.668017802-06:00","created_by":"mayor","updated_at":"2026-01-12T17:27:21.211557935-06:00","closed_at":"2026-01-12T17:27:21.211557935-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:08:27-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-vg6v","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:27:40.085666368-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.198231459-06:00","closed_at":"2026-01-12T03:09:08.198231459-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:27:40-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-vguv8","title":"PeekPanel Phase 2+3.1: Add PeekPanelProvider to MainLayout + retrofit CustomersPage","description":"attached_molecule: co-wisp-kq905\nattached_at: 2026-02-12T07:50:39Z\ndispatched_by: mayor\n\n## Phase 2: Integration\n1. Create context/PeekPanelContext.jsx — Minimal context for global keyboard shortcut (Ctrl+Shift+P cycles position). Passive provider — does nothing unless a PeekPanel registers.\n2. Add \u003cPeekPanelProvider\u003e to MainLayout.jsx — Wrap layout content. Zero effect on existing components.\n\n## Phase 3.1: CustomersPage Retrofit\nFile: pages/salesops/CustomersPage.jsx\nCurrent: Click row → inline modal (hand-rolled fixed div)\nChange: Replace with \u003cPeekPanel peekType=\"customer-detail\" contextType=\"list\"\u003e\n- Default: side peek (list stays visible)\n- Content: Customer details (company info, contact, sites)\n- Uses usePeekPanel hook for state management\n- Import PeekPanel from components/panels\n\n## Key Pattern\nThe PeekPanel component is on main (PR #210). Supports positions: center, side, bottom, full. usePeekPanel hook handles localStorage persistence. See components/panels/PeekPanel.jsx for API.\n\n## Testing\n- Verify customers list still renders correctly\n- Click a customer row → side peek opens with customer details\n- Position switcher works (side/center/bottom/full)\n- ESC closes the peek\n- No regressions on other pages","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/topaz","created_at":"2026-02-12T01:49:42.849384165-06:00","created_by":"mayor","updated_at":"2026-02-12T02:01:06.597577839-06:00","closed_at":"2026-02-12T02:01:06.597577839-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-vguv8","depends_on_id":"co-wisp-kq905","type":"blocks","created_at":"2026-02-12T01:50:35.242882022-06:00","created_by":"mayor"}]}
{"id":"co-vh6x","title":"Session ended: gt-copperhead-coma","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:21:50.673880765-06:00","created_by":"copperhead/polecats/coma","updated_at":"2026-01-12T17:27:20.682200194-06:00","closed_at":"2026-01-12T17:27:20.682200194-06:00","close_reason":"Closed","event_kind":"session.ended","actor":"copperhead/polecats/coma","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:21:50-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-coma\",\"worker\":\"coma\"}"}
{"id":"co-vhjy","title":"Merge: capable-mk9dv3ie","description":"branch: polecat/capable-mk9dv3ie\ntarget: main\nsource_issue: capable-mk9dv3ie\nrig: copperhead\nagent_bead: co-copperhead-polecat-capable\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-11T07:38:58.625701762-06:00","created_by":"copperhead/polecats/capable","updated_at":"2026-01-11T15:03:14.215479699-06:00","closed_at":"2026-01-11T15:03:14.215479699-06:00","close_reason":"Work already merged to main"}
{"id":"co-vip","title":"M13: Build Work Order Task Checklist screen","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/spark","created_at":"2026-01-05T05:10:53.43596618-06:00","created_by":"kaos","updated_at":"2026-01-05T16:14:04.245126079-06:00","closed_at":"2026-01-05T16:14:04.245126079-06:00","close_reason":"M13 WorkOrderTaskChecklistScreen implemented with navigation wiring and UI integration","labels":["lite-mvp","mobile","ui"]}
{"id":"co-vllu","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T15:03:46.293145454-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.414333057-06:00","closed_at":"2026-01-12T03:09:08.414333057-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T15:03:46-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-vlvp","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:31:35.878719569-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.53692762-06:00","closed_at":"2026-01-12T03:09:09.53692762-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:31:35-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-vnzsi","title":"PeekPanel 3.3: Retrofit DispatchHub with PeekPanel stack","description":"attached_molecule: co-wisp-rh6ck\nattached_at: 2026-02-12T08:17:14Z\ndispatched_by: mayor\n\nFile: pages/dispatch/DispatchHub.jsx\nCurrent: Uses usePanelStack() + ResponsivePanel for WO detail, tech detail, assign-tech panels\nChange: Replace with usePeekPanelStack() + PeekPanel\n- Each panel type gets its own peekType (dispatch-wo, dispatch-tech, dispatch-assign)\n- Assign-tech panel: contextType=\"form\" (defaults to bottom)\n- WO detail: contextType=\"list\" (defaults to side)\n- Must preserve existing stacking behavior (max 3 panels)\n- Import PeekPanel from components/panels\n- PeekPanelProvider already in MainLayout (PR #218)\n\n## Key Files\n- pages/dispatch/DispatchHub.jsx (main file to modify)\n- hooks/usePanel.js (usePanelStack reference)\n- hooks/usePeekPanel.js (new hook to use)\n- components/panels/PeekPanel.jsx (component to use)\n\n## Testing\n- Open DispatchHub → click WO → peek opens with WO detail\n- Click tech assignment → second peek opens on stack\n- Position switcher works on all stacked peeks\n- Close all → empty state returns\n- Existing drag-drop scheduling still works\n- No regressions on dispatch board layout","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/obsidian","created_at":"2026-02-12T02:16:49.491935829-06:00","created_by":"mayor","updated_at":"2026-02-12T02:24:00.57326737-06:00","closed_at":"2026-02-12T02:24:00.57326737-06:00","close_reason":"Completed — merged via PR #222","dependencies":[{"issue_id":"co-vnzsi","depends_on_id":"co-wisp-rh6ck","type":"blocks","created_at":"2026-02-12T02:17:10.360587138-06:00","created_by":"mayor"}]}
{"id":"co-vsew","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T17:57:18.177749693-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.925784731-06:00","closed_at":"2026-01-12T03:09:07.925784731-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T17:57:18-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-vsz","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:02:10.152312755-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.639791274-06:00","closed_at":"2026-01-12T03:09:09.639791274-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":48.35,\"ended_at\":\"2026-01-11T01:02:10-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-vvrg","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T21:59:22.219531898-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.496084591-06:00","closed_at":"2026-01-12T03:09:07.496084591-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":65,\"ended_at\":\"2026-01-11T21:59:22-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-vvz3","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T19:38:37.370298552-06:00","created_by":"mayor","updated_at":"2026-01-12T19:48:08.713974409-06:00","closed_at":"2026-01-12T19:48:08.713974409-06:00","close_reason":"Triage: stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T19:38:37-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-vx7dx","title":"Full procurement workflow: estimate to PO to receiving to WO","description":"attached_molecule: co-wisp-8mhj\nattached_at: 2026-01-27T07:27:03Z\ndispatched_by: mayor\n\n## Goal\nComplete end-to-end procurement workflow connecting estimates, purchase orders, receiving, and work order assignment.\n\n## Context\nCurrently pieces exist but aren't fully connected:\n- Estimates have BOM/materials\n- POs can be created\n- Receiving exists\n- WOs have parts\n\nNeed seamless flow where:\n1. Estimate approved → materials identified\n2. Materials checked against inventory\n3. Shortages trigger material requests\n4. Material requests become PO line items\n5. PO sent to vendor\n6. PO received → inventory updated\n7. Parts allocated to WO\n8. WO becomes schedulable\n\n## Requirements\n\n1. **Estimate → Material Request flow**\n   - When estimate approved, auto-check material availability\n   - Create material requests for items not in stock\n   - Link MRs back to estimate/WO\n\n2. **Material Request → PO flow**\n   - Group MRs by vendor for efficient ordering\n   - Create PO from selected MRs\n   - Track which MR items are on which PO\n\n3. **PO → Receiving flow**\n   - Receive against PO line items\n   - Update inventory on receive\n   - Partial receives supported\n\n4. **Receiving → WO allocation**\n   - When parts received, allocate to waiting WOs\n   - Update WO parts status\n   - Trigger schedulable notification (use existing BullMQ)\n\n## Integration points\n- Use BullMQ for async processing (NOT Inngest)\n- Leverage existing partsScheduling service from PR #26\n- Leverage department notifications from PR #25\n\n## Acceptance Criteria\n- [ ] Estimate approval triggers material availability check\n- [ ] Material shortages auto-create MRs\n- [ ] MRs can be converted to PO\n- [ ] PO receive updates inventory and WO status\n- [ ] Full audit trail from estimate to WO completion","notes":"Implemented WO parts procurement linking and integration tests. PR #34: https://github.com/FrankAtGHub/copperhead/pull/34","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/flint","created_at":"2026-01-27T01:26:30.418704909-06:00","created_by":"mayor","updated_at":"2026-01-27T17:36:41.031214648-06:00","closed_at":"2026-01-27T17:36:41.031221457-06:00","dependencies":[{"issue_id":"co-vx7dx","depends_on_id":"co-wisp-l1yk","type":"blocks","created_at":"2026-01-27T01:27:02.054883287-06:00","created_by":"mayor"},{"issue_id":"co-vx7dx","depends_on_id":"co-wisp-8mhj","type":"blocks","created_at":"2026-01-27T17:10:27.045335858-06:00","created_by":"mayor"}]}
{"id":"co-vxaa","title":"Session ended: gt-copperhead-nux","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-21T03:35:03.125350452-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-22T22:28:09.659740885-06:00","closed_at":"2026-01-22T22:28:09.659740885-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/nux","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-21T03:35:03-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-nux\",\"worker\":\"nux\"}"}
{"id":"co-vxfy","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T03:31:31.320526501-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-12T03:09:09.325406834-06:00","closed_at":"2026-01-12T03:09:09.325406834-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T03:31:31-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-vxlo","title":"Create seedLeads.js - Sales pipeline demo data","description":"Create apps/api/scripts/seedLeads.js following the pattern in docs/COMPREHENSIVE-DEMO-SEED-PLAN.md Part 5.1.\n\nInclude:\n- 10 leads across 5 pipeline stages (new, qualified, proposal, negotiation, won/lost)\n- Lead sources (web, referral, cold_call)\n- Lead activities (calls, emails, meetings)\n- Realistic electrical contractor leads (office builds, renovations, industrial)\n- Link to DEMO_TENANT_ID\n\nFollow idempotency pattern: check for existing, clean up, insert with ON CONFLICT.\nAdd npm script seed:leads to package.json","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T19:40:59.700835866-06:00","created_by":"mayor","updated_at":"2026-01-12T19:45:35.843913198-06:00","closed_at":"2026-01-12T19:45:35.843913198-06:00","close_reason":"seedLeads.js already implemented with 8 leads across all pipeline stages, lead sources, activities, and npm script"}
{"id":"co-vyb","title":"SSO Phase 4: Frontend Integration","description":"- Add SSOButtons component to login page\n- Create SSOCallback handler page\n- Build admin SSOConfigPage for provider management\n- Style provider buttons per brand guidelines","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T03:22:46.208177645-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.934169609-06:00","closed_at":"2026-01-06T15:25:01.302466756-06:00","close_reason":"Merged PR #7","dependencies":[{"issue_id":"co-vyb","depends_on_id":"co-cvr","type":"blocks","created_at":"2026-01-06T03:22:59.319885806-06:00","created_by":"mayor"}]}
{"id":"co-vzts","title":"Merge: browser-mknqoq5a","description":"branch: polecat/browser-mknqoq5a\ntarget: main\nsource_issue: browser-mknqoq5a\nrig: copperhead\nagent_bead: co-copperhead-polecat-browser\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-22T22:27:28.091084454-06:00","created_by":"copperhead/polecats/browser","updated_at":"2026-01-22T22:41:49.444872072-06:00","closed_at":"2026-01-22T22:41:49.444872072-06:00","close_reason":"Orphaned MR - branch polecat/browser-mknqoq5a never pushed, worktree cleaned up","labels":["gt:merge-request"]}
{"id":"co-w00qa","title":"Backorder notification: Create service to notify estimate maker when backorder detected on their estimate's parts","description":"attached_molecule: co-wisp-e8sv\nattached_at: 2026-01-27T23:18:59Z\ndispatched_by: mayor","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/diamond","created_at":"2026-01-27T16:44:34.076219209-06:00","created_by":"mayor","updated_at":"2026-01-27T22:03:41.97105423-06:00","closed_at":"2026-01-27T22:03:41.97105423-06:00","close_reason":"Implemented backorder notification service: traces PO items through work order parts, work orders, and lineage to find estimate makers and notifies them on backorder detection, resolution, or date changes","dependencies":[{"issue_id":"co-w00qa","depends_on_id":"co-mhkh2","type":"blocks","created_at":"2026-01-27T16:44:49.560256072-06:00","created_by":"mayor"},{"issue_id":"co-w00qa","depends_on_id":"co-wisp-h5ei","type":"blocks","created_at":"2026-01-27T17:18:56.696184196-06:00","created_by":"mayor"},{"issue_id":"co-w00qa","depends_on_id":"co-wisp-6ent","type":"blocks","created_at":"2026-01-27T17:44:53.759933581-06:00","created_by":"mayor"},{"issue_id":"co-w00qa","depends_on_id":"co-wisp-1nwh","type":"blocks","created_at":"2026-01-27T21:43:00.988368154-06:00","created_by":"mayor"},{"issue_id":"co-w00qa","depends_on_id":"co-wisp-e8sv","type":"blocks","created_at":"2026-01-27T21:57:15.822683959-06:00","created_by":"mayor"}]}
{"id":"co-w1m2","title":"Session ended: gt-copperhead-valkyrie","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:22:31.525647382-06:00","created_by":"copperhead/polecats/valkyrie","updated_at":"2026-01-22T22:28:10.289782758-06:00","closed_at":"2026-01-22T22:28:10.289782758-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/valkyrie","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:22:31-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-valkyrie\",\"worker\":\"valkyrie\"}"}
{"id":"co-w9p6","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:55:32.482474686-06:00","created_by":"mayor","updated_at":"2026-01-12T15:04:01.021278674-06:00","closed_at":"2026-01-12T15:04:01.021278674-06:00","close_reason":"acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:55:32-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-wai","title":"API: Implement customers CRUD","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T05:10:58.313335308-06:00","created_by":"kaos","updated_at":"2026-01-05T11:23:58.030011525-06:00","closed_at":"2026-01-05T11:23:58.030011525-06:00","close_reason":"Customer routes already implemented in customer.routes.js: GET /api/customers (list with pagination/search), GET /:id, POST (create), PUT /:id (update), DELETE /:id (soft delete). Mounted in index.js with auth.","labels":["api","backend","lite-mvp"]}
{"id":"co-wdcid","title":"Implement Notifications UI","description":"attached_molecule: co-wisp-ukr7\nattached_at: 2026-01-28T19:12:11Z\ndispatched_by: mayor\n\nBuild the user interface for viewing and managing notifications.\n\n## Context\nCurrently notifications exist in the backend but have no UI (placeholder only).\nThis should be implemented after the scheduled reminders backend work (co-z6la0) is complete.\n\n## Requirements\n\n### Notification Center\n- Bell icon in header with unread count badge\n- Dropdown panel showing recent notifications\n- Click to view full notification list\n\n### Notifications List View\n- Paginated list of all notifications\n- Filter by: read/unread, type, date range\n- Mark as read (individual and bulk)\n- Delete notifications\n\n### Notification Item Display\n- Icon based on notification type\n- Title and message preview\n- Timestamp (relative: '2 hours ago')\n- Link to related entity (if applicable)\n- Unread indicator (dot or highlight)\n\n### Real-time Updates\n- WebSocket subscription for new notifications\n- Toast/popup for new notifications\n- Sound option (user preference)\n\n## Files to Reference\n- apps/web/src/components/ (existing component patterns)\n- apps/api/src/routes/notifications.routes.js (API endpoints)\n- apps/api/migrations/083_notifications_table.sql (schema)\n\n## Acceptance Criteria\n- [ ] Bell icon shows unread count\n- [ ] Dropdown shows last 5 notifications\n- [ ] Full list page with filters\n- [ ] Mark as read works\n- [ ] Real-time updates via WebSocket\n- [ ] Mobile responsive","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/magnetite","created_at":"2026-01-28T10:12:58.918352873-06:00","created_by":"mayor","updated_at":"2026-01-28T18:57:39.976761732-06:00","closed_at":"2026-01-28T18:57:39.976761732-06:00","close_reason":"Merged via co-6s3h7","dependencies":[{"issue_id":"co-wdcid","depends_on_id":"co-z6la0","type":"blocks","created_at":"2026-01-28T10:12:58.928995509-06:00","created_by":"mayor"},{"issue_id":"co-wdcid","depends_on_id":"co-wisp-ukr7","type":"blocks","created_at":"2026-01-28T13:12:08.126655499-06:00","created_by":"mayor"}]}
{"id":"co-whln","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T18:18:12.911488716-06:00","created_by":"mayor","updated_at":"2026-01-12T18:25:23.130035417-06:00","closed_at":"2026-01-12T18:25:23.130035417-06:00","close_reason":"stale session event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T18:18:12-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-wjdk","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:48:05.16732675-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.781303151-06:00","closed_at":"2026-01-12T03:09:08.781303151-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:48:05-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-wl0l","title":"Session ended: gt-copperhead-cheedo","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T02:14:05.335328569-06:00","created_by":"copperhead/polecats/cheedo","updated_at":"2026-01-12T03:09:07.119575874-06:00","closed_at":"2026-01-12T03:09:07.119575874-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/cheedo","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T02:14:05-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-cheedo\",\"worker\":\"cheedo\"}"}
{"id":"co-wlkyc","title":"Wire mobile Force Sync and Retry Sync to real implementation","description":"dispatched_by: unknown\n\nMobile sync buttons have mock implementations with setTimeout.\n\n## Locations\n- Force Sync: apps/mobile/src/screens/SettingsScreen.tsx (force sync button)\n- Retry Sync: apps/mobile/src/screens/TechnicianDashboardScreen.tsx:267 (2-second loading, no actual sync)\n\n## Implementation\n1. Force Sync: Trigger full data sync with server\n   - Sync pending time entries\n   - Sync pending parts usage\n   - Sync work order updates\n   - Pull latest assignments\n   \n2. Retry Sync: Retry failed sync operations\n   - Check for pending/failed items\n   - Retry each failed operation\n   - Show progress indicator\n   - Report success/failure count\n\n## Acceptance\n- Force Sync triggers actual data synchronization\n- Retry Sync retries failed operations\n- Progress shown during sync\n- Success/failure feedback displayed","notes":"Wired Force Sync (SettingsScreen) and Retry Sync (TechnicianDashboardScreen) to useWorkOrderOutbox hook. Force Sync syncs pending items + pulls latest work orders. Retry Sync retries failed ops first, then syncs remaining, then refreshes. Both show progress and feedback.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/lapis","created_at":"2026-02-03T23:01:39.062539103-06:00","created_by":"kaos","updated_at":"2026-02-03T23:07:54.231492863-06:00","closed_at":"2026-02-03T23:07:54.231511024-06:00"}
{"id":"co-wo6","title":"Merge: nux-mk3qcsqq","description":"branch: polecat/nux-mk3qcsqq\ntarget: main\nsource_issue: nux-mk3qcsqq\nrig: copperhead","status":"closed","priority":1,"issue_type":"merge-request","created_at":"2026-01-07T03:27:31.577126463-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.536593678-06:00","closed_at":"2026-01-07T03:30:37.047380679-06:00","close_reason":"Merged to main (fcff3384)"}
{"id":"co-wobwp","title":"Merge: co-yepdt (migration 086)","description":"source_issue: co-yepdt\nbranch: polecat/copperhead-68/co-yepdt@ml00tufe\nworker: copperhead-68\n\nBeta Platform: Database migration 086 for beta testing platform","status":"closed","priority":0,"issue_type":"merge-request","created_at":"2026-01-29T16:45:09.621116028-06:00","created_by":"mayor","updated_at":"2026-01-29T16:56:54.658740776-06:00","closed_at":"2026-01-29T16:56:54.658740776-06:00","close_reason":"Merged migration only to main (fa62326c). Branch had stale base, extracted intended change only.","labels":["gt:merge-request"]}
{"id":"co-wosnm","title":"Fix signup error: invalid reference to related source","description":"dispatched_by: mayor\n\nStaging signup at beta.numeruspro.com generates error: 'invalid reference to related source'\n\n## To reproduce:\n1. Go to beta.numeruspro.com/register\n2. Fill out signup form with invite code\n3. Submit - error appears\n\n## Investigate:\n- Check auth.routes.js signup endpoint\n- Check tenantProvisioning.service.js\n- Look for foreign key constraint or reference issues\n- Check database migrations\n\n## Recent changes:\n- Invite code field added (commit 14764c59)\n- May be related to tenant provisioning or user creation","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/sunstone","created_at":"2026-02-04T16:05:28.737440471-06:00","created_by":"kaos","updated_at":"2026-02-04T16:15:28.387734128-06:00","closed_at":"2026-02-04T16:15:28.387734128-06:00","close_reason":"PR #92 merged - fixed column name mismatches in tenant provisioning"}
{"id":"co-wq73","title":"Add document numbering UI to company settings","description":"attached_molecule: co-wisp-vgg6\nattached_at: 2026-01-27T08:55:34Z\ndispatched_by: mayor\n\nAdd UI section to configure document number sequences:\n\n**Frontend (CompanyPreferencesSettings.jsx):**\n\nAdd 'Document Numbering' section with configuration for:\n- **Estimates**: prefix, next number, padding\n- **Purchase Orders**: prefix, next number, padding  \n- **Work Orders**: prefix, next number, padding\n- **Invoices**: prefix, next number, padding (backend already exists)\n\n**UI Design:**\n```\nDocument Numbering\n─────────────────────────────────────\nDocument Type    Prefix    Next #    Preview\n─────────────────────────────────────\nEstimates        [EST-]    [1001]    EST-01001\nPurchase Orders  [PO-]     [1001]    PO-01001\nWork Orders      [WO-]     [1001]    WO-01001\nInvoices         [INV-]    [1001]    INV-01001\n─────────────────────────────────────\n```\n\n**Features:**\n- Live preview of formatted number\n- Validation: prefix max 10 chars, next_number \u003e 0\n- Warning if reducing next_number (could cause duplicates)\n- Save button per row or save all\n\n**API Calls:**\n- GET /api/document-sequences (fetch all)\n- PATCH /api/document-sequences/:type (update one)\n\n**Files to modify:**\n- apps/web/src/components/Settings/CompanyPreferencesSettings.jsx\n- May need new component: DocumentNumberingSettings.jsx","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/basalt","created_at":"2026-01-24T11:02:46.524894935-06:00","created_by":"mayor","updated_at":"2026-01-27T09:45:07.275030872-06:00","closed_at":"2026-01-27T09:45:07.275030872-06:00","close_reason":"Merged PR #32","labels":["company-settings","ui"],"dependencies":[{"issue_id":"co-wq73","depends_on_id":"co-jlqo","type":"blocks","created_at":"2026-01-24T11:02:46.527901393-06:00","created_by":"mayor"},{"issue_id":"co-wq73","depends_on_id":"co-wisp-vgg6","type":"blocks","created_at":"2026-01-27T02:55:31.996952063-06:00","created_by":"mayor"}]}
{"id":"co-wvk","title":"Assessment UI - Technical POC \u0026 Financials","description":"Create UI section for Technical Point of Contact matching template:\n- Primary contact name, email, phone\n- Current IT support description\n- Financials section: current monthly spend, budget\n- Buying criteria (dropdown/multi-select)\n- Competition notes","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-05T03:06:47.619768711-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.599963966-06:00","closed_at":"2026-01-05T03:13:01.517004918-06:00","close_reason":"Implemented navigation, dashboard, and basic assessment editor with corporate background, technical POC, and location inventory sections","dependencies":[{"issue_id":"co-wvk","depends_on_id":"co-2db","type":"blocks","created_at":"2026-01-05T03:07:52.282046433-06:00","created_by":"mayor"},{"issue_id":"co-wvk","depends_on_id":"co-4bn","type":"parent-child","created_at":"2026-01-05T03:08:11.220291601-06:00","created_by":"mayor"}]}
{"id":"co-x0py","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T01:56:32.902504734-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:14.481171027-06:00","closed_at":"2026-01-22T22:38:14.481171027-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T01:56:32-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-x1w9","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:22:41.652747232-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.554946963-06:00","closed_at":"2026-01-12T03:09:09.554946963-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:22:41-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-x2dw","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-21T03:29:40.416150241-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-22T22:28:09.700092724-06:00","closed_at":"2026-01-22T22:28:09.700092724-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/furiosa","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-21T03:29:40-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-furiosa\",\"worker\":\"furiosa\"}"}
{"id":"co-x3cr","title":"Phase 5: Update conversion UI components","description":"dispatched_by: mayor\n\nUpdate two React components:\n\n1. WorkOrderConversionPage.jsx:\n   - Add Project Timeline Section with deadline picker\n   - Add Crew Sizing Section per phase (show options from calculateCrewOptions)\n   - Add Trade Dependencies Section (select blockers)\n   - Add Auto-Assignment Preview (show ranked techs)\n\n2. InventoryItemForm.jsx:\n   - Add install_time fields (time, phase, unit)\n   - Add 'Suggest with AI' button (calls /suggest-install-time)\n   - Show confidence indicator for AI suggestions\n   - Phase and unit dropdowns\n\nReference: docs/plans/EST-WO-implementation-plan.md Phase 5 section","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/crew/phase5","created_at":"2026-01-23T22:28:01.991540786-06:00","created_by":"mayor","updated_at":"2026-01-23T23:14:36.280586146-06:00","closed_at":"2026-01-23T23:14:36.280586146-06:00","close_reason":"Updated WorkOrderConversionPage.jsx and InventoryItemForm.jsx with deadline picker, crew sizing section, trade dependencies, auto-assignment preview, and AI install time suggestion UI. Commit 086be1e5.","labels":["est-wo","ui"],"dependencies":[{"issue_id":"co-x3cr","depends_on_id":"co-anp2","type":"blocks","created_at":"2026-01-23T22:28:01.99782957-06:00","created_by":"mayor"}]}
{"id":"co-x4f","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:15:33.66918905-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-07T03:06:37.987904317-06:00","closed_at":"2026-01-07T03:06:37.987904317-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:15:33-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-x5o0","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:24:15.901667962-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:28:10.209306793-06:00","closed_at":"2026-01-22T22:28:10.209306793-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:24:15-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-x9knp","title":"task","description":"attached_molecule: co-wisp-8bk6t\nattached_at: 2026-01-30T03:34:38Z\ndispatched_by: mayor\n\nPR #43 (polecat/copperhead-73/co-97bb8) has merge conflicts.\n\nBranch: polecat/copperhead-73/co-97bb8\nTitle: feat(beta): add tenant provisioning and beta tester services\n\nConflicts:\n- Migration 085_notification_preferences.sql - main already has this!\n- apps/api/src/index.js\n- Queue workers\n\nFix:\n1. Rebase onto origin/main\n2. Check if 085 migration is identical to main - if so, remove from branch\n3. If different, renumber to 089\n4. Resolve index.js and worker conflicts\n5. Push force","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/copperhead-76","created_at":"2026-01-29T21:29:45.86202496-06:00","created_by":"mayor","updated_at":"2026-01-29T21:43:40.997738835-06:00","closed_at":"2026-01-29T21:43:40.997738835-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-x9knp","depends_on_id":"co-wisp-8bk6t","type":"blocks","created_at":"2026-01-29T21:34:27.636274482-06:00","created_by":"mayor"}]}
{"id":"co-x9m","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-05T17:36:08.741409394-06:00","created_by":"mayor","updated_at":"2026-01-06T01:15:57.730948843-06:00","closed_at":"2026-01-06T01:15:57.730948843-06:00","close_reason":"Acknowledged - stale session events","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-05T17:36:08-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-xa5","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:24:32.722266539-06:00","created_by":"mayor","updated_at":"2026-01-07T03:06:37.780446955-06:00","closed_at":"2026-01-07T03:06:37.780446955-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:24:32-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-xabd","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:42:53.908391254-06:00","created_by":"mayor","updated_at":"2026-01-12T17:44:30.532069331-06:00","closed_at":"2026-01-12T17:44:30.532069331-06:00","close_reason":"stale event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:42:53-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-xbay","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T03:49:38.193487964-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:28:11.142351763-06:00","closed_at":"2026-01-22T22:28:11.142351763-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T03:49:38-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-xbe6","title":"Refinery: Update mayor/rig working tree after merge","description":"## Problem\n\nWhen the refinery merges a polecat's branch into main, it updates git refs (HEAD moves to new commit) but does NOT update the working tree files in `mayor/rig`. This causes:\n\n1. Files show as \"deleted\" or \"modified\" in `git status` (working tree diverges from HEAD)\n2. New files from merged commits don't appear on disk\n3. Web/API servers running from `mayor/rig` don't see the merged changes\n4. Manual intervention required: `git checkout -- .` to sync\n\n## Root Cause\n\nGit merge operations update the repository state (commits, branches) but don't automatically checkout files to the working directory when done from another location or via bare operations.\n\n## Observed Impact\n\n- Estimate UI changes merged but not visible in running app\n- Migration files missing from disk despite being in HEAD\n- Required manual `git checkout -- .` to restore files\n\n## Proposed Fix\n\nAfter refinery completes a merge to main, it should:\n\n```bash\n# In mayor/rig after merge\ngit checkout -- .\n# Or more safely:\ngit reset --hard HEAD\n```\n\n## Files to Modify\n\n- Gas Town refinery merge logic (wherever merge completion is handled)\n- Possibly add post-merge hook to mayor/rig\n\n## Acceptance Criteria\n\n- [ ] After refinery merge, `git status` in mayor/rig shows clean working tree\n- [ ] New/modified files from merge are present on disk\n- [ ] Running dev servers see changes without manual intervention","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-11T05:25:53.403801423-06:00","created_by":"mayor","updated_at":"2026-02-10T20:52:54.381326436-06:00","closed_at":"2026-02-10T20:52:54.381326436-06:00","close_reason":"Stale - all work caught up"}
{"id":"co-xce","title":"Digest: mol-deacon-patrol","description":"Patrol 19: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T03:24:06.014118112-06:00","updated_at":"2026-01-08T19:31:30.930237879-06:00","closed_at":"2026-01-07T03:24:06.013964944-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-xdjix","title":"Department notification routing: Add notification_preferences table and routing service for procurement/warehouse teams","description":"attached_molecule: co-wisp-elg3\nattached_at: 2026-01-27T22:46:04Z\ndispatched_by: mayor","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/slate","created_at":"2026-01-27T16:44:34.810130238-06:00","created_by":"mayor","updated_at":"2026-01-27T17:18:44.711577302-06:00","closed_at":"2026-01-27T17:18:44.711577302-06:00","close_reason":"Implemented notification preferences table and routing service with migration 084, services, and API routes","dependencies":[{"issue_id":"co-xdjix","depends_on_id":"co-wisp-oooq","type":"blocks","created_at":"2026-01-27T16:46:01.496918004-06:00","created_by":"mayor"},{"issue_id":"co-xdjix","depends_on_id":"co-wisp-elg3","type":"blocks","created_at":"2026-01-27T17:12:29.560430965-06:00","created_by":"mayor"}]}
{"id":"co-xecb","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T22:08:19.262385884-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.468541184-06:00","closed_at":"2026-01-12T03:09:07.468541184-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":65,\"ended_at\":\"2026-01-11T22:08:19-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-xfce6","title":"User profile: allow tech to upload a profile picture","description":"dispatched_by: mayor\n\nThe user profile dropdown (just merged in PR #164) should allow users (especially techs) to upload a profile picture. Currently the avatar shows a static first letter.\n\nRequirements:\n- Add profile picture upload in the user profile/account area\n- Store the image (S3/MinIO or base64 in DB — check existing file upload patterns)\n- Display the uploaded profile pic in the avatar circle instead of the first letter\n- Fallback to first letter if no picture is set\n- Allow the user to change/remove their profile picture\n\nCheck existing file upload patterns in the codebase (file.routes.js, photo uploads for work orders) and follow the same approach.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/copperhead-103","created_at":"2026-02-09T18:35:44.650433878-06:00","created_by":"kaos","updated_at":"2026-02-09T18:44:13.510228245-06:00","closed_at":"2026-02-09T18:44:13.510228245-06:00","close_reason":"Closed"}
{"id":"co-xj4ir","title":"SECURITY: Token storage \u0026 XSS/CSP prevention","description":"attached_molecule: co-wisp-opha0\nattached_at: 2026-02-12T17:50:39Z\ndispatched_by: mayor\n\nHIGH P1 - Migrate token from localStorage to httpOnly cookie OR add strict CSP to prevent XSS exploitation. Add Content-Security-Policy header to nginx.conf. Add X-Content-Type-Options: nosniff (verify). Disable sourcemaps in production (GENERATE_SOURCEMAP=false). Files: apps/web/src/services/api.service.js, apps/web/src/context/AuthContext.js, apps/web/nginx.conf","notes":"Implemented: Added strict Content-Security-Policy header to nginx.conf (script-src 'self', object-src 'none', allowlists for OSM tiles + Cloudflare CDN). Fixed nginx add_header inheritance bug where security headers were silently not applied to HTML/static asset responses. Disabled production sourcemaps (sourcemap: false) and modulePreload polyfill (avoids inline scripts violating CSP). X-Content-Type-Options: nosniff verified present. 2 files changed: apps/web/nginx.conf, apps/web/vite.config.ts.","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/obsidian","created_at":"2026-02-12T11:39:57.257215764-06:00","created_by":"mayor","updated_at":"2026-02-12T11:57:19.946315985-06:00","closed_at":"2026-02-12T11:57:19.946315985-06:00","close_reason":"Completed by obsidian. MR co-i8cfo queued.","labels":["high","security"],"dependencies":[{"issue_id":"co-xj4ir","depends_on_id":"co-qu38l","type":"blocks","created_at":"2026-02-12T11:40:14.702945625-06:00","created_by":"mayor"},{"issue_id":"co-xj4ir","depends_on_id":"co-wisp-opha0","type":"blocks","created_at":"2026-02-12T11:50:34.538711621-06:00","created_by":"mayor"}]}
{"id":"co-xklr","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:53:27.136150361-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.112471359-06:00","closed_at":"2026-01-12T03:09:09.112471359-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":31.62,\"ended_at\":\"2026-01-11T04:53:27-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-xmi4a","title":"Inventory/Procurement/Warehouse ↔ Work Orders Integration","description":"Connect inventory management, procurement workflow, and warehouse operations with work orders.\n\n## Business Needs\n1. Backorder alerts - Notify estimate makers when parts will be backordered\n2. Department notifications - Alert procurement/warehouse when orders need attention  \n3. Scheduling integration - Proper scheduling once parts arrival dates are known\n4. Procurement workflow - Full flow from estimate to PO to receiving to WO assignment\n\n## Integration Points\n- Estimates (parts lists with needed quantities)\n- Purchase Orders (procurement actions)\n- Warehouse (receiving, stock levels, locations)\n- Work Orders (consumption, scheduling)\n- Notifications (alerts to relevant departments)","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-26T12:31:48.202739008-06:00","created_by":"mayor","updated_at":"2026-01-27T02:39:08.447300579-06:00","closed_at":"2026-01-27T02:39:08.447300579-06:00","close_reason":"All 4 integration items completed in PRs #23, #25, #26, #27"}
{"id":"co-xmi4a.1","title":"Backorder Alerts for Estimate Makers","description":"Notify estimate makers when parts they've specified will be backordered.\n\n## User Story\nAs an estimate maker, I need to know when parts I've included will be backordered so I can adjust timing expectations with customers or find alternatives.\n\n## Requirements\n- Query current inventory levels when estimate is created/updated\n- Check supplier lead times for items not in stock\n- Alert estimate maker of any backordered items with expected arrival dates\n- Allow marking estimates as 'pending parts' status\n\n## Integration Points\n- Estimates (line items with part numbers)\n- Inventory (current stock levels)\n- Suppliers (lead times, backorder status)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-26T12:32:06.458841641-06:00","created_by":"mayor","updated_at":"2026-01-27T02:39:06.913263236-06:00","closed_at":"2026-01-27T02:39:06.913263236-06:00","close_reason":"Completed in PR #23","dependencies":[{"issue_id":"co-xmi4a.1","depends_on_id":"co-xmi4a","type":"parent-child","created_at":"2026-01-26T12:32:06.461100805-06:00","created_by":"mayor"},{"issue_id":"co-xmi4a.1","depends_on_id":"co-xmi4a.4","type":"blocks","created_at":"2026-01-26T12:32:16.994818255-06:00","created_by":"mayor"}]}
{"id":"co-xmi4a.2","title":"Department Notifications for Procurement/Warehouse","description":"Alert procurement and warehouse departments when orders need their attention.\n\n## User Story\nAs procurement/warehouse staff, I need timely notifications when orders need attention so nothing falls through the cracks.\n\n## Notification Triggers\n- New PO approved and needs ordering\n- Parts received and need put-away\n- Stock level falls below reorder point\n- Parts ready for work order pickup\n- Backorder status changes\n\n## Requirements\n- In-app notification center\n- Email notifications (configurable)\n- Role-based routing (procurement vs warehouse)\n- Notification acknowledgment tracking","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-26T12:32:06.740479087-06:00","created_by":"mayor","updated_at":"2026-01-27T02:23:52.890651251-06:00","closed_at":"2026-01-27T02:23:52.890651251-06:00","close_reason":"Completed in PR #25","dependencies":[{"issue_id":"co-xmi4a.2","depends_on_id":"co-xmi4a","type":"parent-child","created_at":"2026-01-26T12:32:06.742294432-06:00","created_by":"mayor"}]}
{"id":"co-xmi4a.3","title":"Scheduling Integration with Parts Availability","description":"Proper work order scheduling once parts arrival dates are known.\n\n## User Story\nAs a scheduler, I need to schedule work orders based on when all required parts will be available.\n\n## Requirements\n- Track expected arrival dates for backordered parts\n- WO scheduling considers parts availability dates\n- Auto-suggest earliest possible start date based on parts\n- Calendar view showing WOs blocked on parts\n- Notification when parts arrive and WO can be scheduled\n\n## Integration Points\n- Work Orders (scheduling, status)\n- Purchase Orders (expected delivery dates)\n- Warehouse (receiving confirmation)\n- Estimates (parts requirements)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-26T12:32:07.015570227-06:00","created_by":"mayor","updated_at":"2026-01-27T02:39:07.449710379-06:00","closed_at":"2026-01-27T02:39:07.449710379-06:00","close_reason":"Completed in PR #26","dependencies":[{"issue_id":"co-xmi4a.3","depends_on_id":"co-xmi4a","type":"parent-child","created_at":"2026-01-26T12:32:07.018781153-06:00","created_by":"mayor"},{"issue_id":"co-xmi4a.3","depends_on_id":"co-xmi4a.4","type":"blocks","created_at":"2026-01-26T12:32:17.130220106-06:00","created_by":"mayor"}]}
{"id":"co-xmi4a.4","title":"End-to-End Procurement Workflow","description":"Full flow from estimate to PO to receiving to WO assignment.\n\n## User Story\nAs operations manager, I need a complete procurement workflow so parts flow smoothly from request to work order completion.\n\n## Workflow Stages\n1. Estimate created → parts list generated\n2. Parts check → inventory lookup, backorder identification  \n3. PO creation → automatic or manual PO generation\n4. PO approval → approval workflow if needed\n5. Ordering → PO sent to supplier\n6. Receiving → warehouse marks items received\n7. Assignment → parts allocated to specific WO\n8. Consumption → parts marked as used\n\n## Requirements\n- Status tracking through all stages\n- Audit trail of all actions\n- Dashboard showing pipeline status\n- Reporting on procurement metrics","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-26T12:32:07.249285954-06:00","created_by":"mayor","updated_at":"2026-01-27T02:39:07.932666513-06:00","closed_at":"2026-01-27T02:39:07.932666513-06:00","close_reason":"Completed in PR #27","dependencies":[{"issue_id":"co-xmi4a.4","depends_on_id":"co-xmi4a","type":"parent-child","created_at":"2026-01-26T12:32:07.250742631-06:00","created_by":"mayor"},{"issue_id":"co-xmi4a.4","depends_on_id":"co-u3uo","type":"blocks","created_at":"2026-01-26T12:32:55.026376216-06:00","created_by":"mayor"},{"issue_id":"co-xmi4a.4","depends_on_id":"co-60c9","type":"blocks","created_at":"2026-01-26T12:32:55.169911093-06:00","created_by":"mayor"}]}
{"id":"co-xngf","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T00:08:13.745415999-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:38:15.342345374-06:00","closed_at":"2026-01-22T22:38:15.342345374-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T00:08:13-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-xnm8","title":"Session ended: gt-copperhead-refinery","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T03:51:05.817818074-06:00","created_by":"copperhead/refinery","updated_at":"2026-01-22T22:28:11.10739989-06:00","closed_at":"2026-01-22T22:28:11.10739989-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/refinery","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T03:51:05-06:00\",\"rig\":\"copperhead\",\"role\":\"refinery\",\"session_id\":\"gt-copperhead-refinery\"}"}
{"id":"co-xo5","title":"Digest: mol-deacon-patrol","description":"Patrol 18: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T03:21:23.626254449-06:00","updated_at":"2026-01-08T19:31:30.932891952-06:00","closed_at":"2026-01-07T03:21:23.626167754-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-xpm7","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:43:22.184858402-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.133728051-06:00","closed_at":"2026-01-12T03:09:08.133728051-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:43:22-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-xqh9r","title":"Beta Platform Phase 2: Admin create tester UI","description":"attached_molecule: co-wisp-j802\nattached_at: 2026-01-29T06:42:20Z\ndispatched_by: mayor\n\nCreate admin UI for managing beta testers.\n\n## Files to Create\n- apps/api/src/routes/betaTester.routes.js\n- apps/api/src/services/betaTester.service.js\n- apps/web/src/pages/admin/BetaTestersPage.jsx\n- apps/web/src/components/admin/CreateTesterModal.jsx\n\n## API Endpoints\n- GET /api/admin/beta-testers - List all\n- POST /api/admin/beta-testers - Create new\n- GET /api/admin/beta-testers/:id - Get details\n- DELETE /api/admin/beta-testers/:id - Deactivate\n- POST /api/admin/beta-testers/:id/reseed - Re-seed data\n\n## Reference\nSee /home/kaos/Documents/PLAN-Beta-Testing-Platform.md Phase 2","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/copperhead-51","created_at":"2026-01-29T00:18:22.63917636-06:00","created_by":"mayor","updated_at":"2026-01-29T02:01:31.272520184-06:00","closed_at":"2026-01-29T02:01:31.272520184-06:00","close_reason":"Implemented Beta Platform Phase 2: Admin create tester UI - Migration, service, routes, and frontend components","dependencies":[{"issue_id":"co-xqh9r","depends_on_id":"co-wisp-1xrh","type":"blocks","created_at":"2026-01-29T00:42:15.579030055-06:00","created_by":"mayor"},{"issue_id":"co-xqh9r","depends_on_id":"co-wisp-j802","type":"blocks","created_at":"2026-01-29T01:54:58.270409516-06:00","created_by":"mayor"}]}
{"id":"co-xsnl","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:37:36.445135469-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.161004131-06:00","closed_at":"2026-01-12T03:09:08.161004131-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:37:36-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-xthc","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:15:03.940175322-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.286904526-06:00","closed_at":"2026-01-12T03:09:08.286904526-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:15:03-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-xusd","title":"Session ended: gt-copperhead-capable","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T03:42:45.458259255-06:00","created_by":"copperhead/polecats/capable","updated_at":"2026-01-22T22:38:14.112455298-06:00","closed_at":"2026-01-22T22:38:14.112455298-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/capable","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T03:42:45-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-capable\",\"worker\":\"capable\"}"}
{"id":"co-xut","title":"A1: Build User Management screen","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/spark","created_at":"2026-01-05T05:10:55.943318617-06:00","created_by":"kaos","updated_at":"2026-01-05T16:26:09.334684723-06:00","closed_at":"2026-01-05T16:26:09.334684723-06:00","close_reason":"A1 UsersSettings component implemented with user list, role management, invite modal, and status toggle","labels":["lite-mvp","ui","web"]}
{"id":"co-xvhx","title":"Estimate Editor: Review View with Product/Labor Tabs","description":"attached_molecule: co-wisp-jhez\nattached_at: 2026-01-27T08:55:01Z\ndispatched_by: mayor\n\nCreate the Review view with Product and Labor tabs.\n\n**Product Tab:**\n- 'View by' selector: Locations | Systems | Phases | Categories\n- Table columns: Name | Percent of Budget (visual bar) | Profit | Margin | Total\n- Groups products by selected view option\n- Subtotal row with aggregated profit/margin\n\n**Labor Tab:**\n- 'View by' selector: Type | Locations | Systems | Phases | Categories\n- Table columns: Type | % Budget | Hourly Price (editable) | Time | Difficulty (editable) | Margin | Total\n- Editable fields save to backend\n\n**Shared Footer:**\n- Subtotal (profit, margin)\n- Adjustment (editable, green)\n- Tax (editable, green)\n- TOTAL bar (dark teal, total + per sqft)\n- PROFIT section (Profit, Total Cost, Square Foot, Margin %)\n\n**Components to create:**\n- apps/web/src/components/salesops/views/EstimateReviewView.jsx\n- apps/web/src/components/salesops/views/ProductTab.jsx\n- apps/web/src/components/salesops/views/LaborTab.jsx\n- apps/web/src/components/salesops/views/ReviewTableFooter.jsx\n\n**Reference:** See plan at ~/.claude/plans/flickering-meandering-beaver.md","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/granite","created_at":"2026-01-24T11:40:30.817017589-06:00","created_by":"mayor","updated_at":"2026-01-27T09:45:17.014886596-06:00","closed_at":"2026-01-27T09:45:17.014886596-06:00","close_reason":"Completed by polecat granite","labels":["estimate-editor","ui"],"dependencies":[{"issue_id":"co-xvhx","depends_on_id":"co-6ntx","type":"blocks","created_at":"2026-01-24T11:40:30.820033745-06:00","created_by":"mayor"},{"issue_id":"co-xvhx","depends_on_id":"co-wisp-jhez","type":"blocks","created_at":"2026-01-27T02:54:58.193876476-06:00","created_by":"mayor"}]}
{"id":"co-xvj3","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:22:41.810379794-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.979787268-06:00","closed_at":"2026-01-12T03:09:08.979787268-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:22:41-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-xx1","title":"Quote Discount Feature","description":"Add discount field to quotes - support percentage or fixed amount discounts applied to total MRR.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-04T22:33:44.601117877-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.601393982-06:00","closed_at":"2026-01-04T22:36:59.931020466-06:00","close_reason":"Discount feature added - supports percent or fixed amount, integrated in builder UI, calculations, and PDF preview"}
{"id":"co-xx7j","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T17:37:28.308747586-06:00","created_by":"mayor","updated_at":"2026-01-12T17:40:47.361595874-06:00","closed_at":"2026-01-12T17:40:47.361595874-06:00","close_reason":"stale event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T17:37:28-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-xx8","title":"Quote Clone Feature","description":"Add ability to clone/duplicate an existing quote as a starting point for a new client or variation.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-04T22:33:43.27729851-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.597380191-06:00","closed_at":"2026-01-04T22:36:58.672228403-06:00","close_reason":"Clone button added to saved quotes list - copies pricing/packages/addons, clears client info for new quote"}
{"id":"co-xylwy","title":"HOTFIX: Remove readOnlyRootFilesystem from deploy-staging.yml","description":"attached_molecule: co-wisp-b4dcw\nattached_at: 2026-02-12T21:46:52Z\ndispatched_by: mayor\n\nreadOnlyRootFilesystem: true in deploy-staging.yml causes CrashLoopBackOff: API crashes with ENOENT mkdir /app/apps/api/uploads/avatars, web/nginx crashes with Read-only file system on /var/cache/nginx/client_temp. Fix: Remove readOnlyRootFilesystem: true from both API and web container securityContext in .github/workflows/deploy-staging.yml. Keep runAsNonRoot: true, runAsUser, and allowPrivilegeEscalation: false. Current staging is manually patched but next deploy will break again.","status":"closed","priority":0,"issue_type":"bug","assignee":"copperhead/polecats/quartz","created_at":"2026-02-12T15:46:24.951345662-06:00","created_by":"mayor","updated_at":"2026-02-12T15:49:14.753527069-06:00","closed_at":"2026-02-12T15:49:14.753527069-06:00","close_reason":"Removed readOnlyRootFilesystem: true from all 3 container securityContext blocks (wait-for-postgres, API, web) in deploy-staging.yml. PR #247.","labels":["blocking","hotfix","security"],"dependencies":[{"issue_id":"co-xylwy","depends_on_id":"co-wisp-b4dcw","type":"blocks","created_at":"2026-02-12T15:46:47.611876145-06:00","created_by":"mayor"}]}
{"id":"co-xz6","title":"Add data/backup details to intake form","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T01:59:00.864315087-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.839197958-06:00","closed_at":"2026-01-05T02:21:19.010333835-06:00","close_reason":"Added Data \u0026 Backup section with: backup solution type, vendor, data volume estimate, critical data location, RPO/RTO requirements, and DR plan status"}
{"id":"co-y2vb2","title":"Beta Platform: In-app feedback and bug reporting","description":"attached_molecule: co-wisp-jap3\nattached_at: 2026-01-29T07:51:09Z\ndispatched_by: mayor\n\nAdd in-app feedback/bug report mechanism for beta testers.\n\n## Requirements\n- Floating feedback button (bottom-right corner)\n- Modal with: type (bug/feedback/question), description, screenshot capture\n- Auto-capture: browser info, current URL, user info, tenant\n- Store in database for admin review\n- Optional: integrate with GitHub Issues or linear\n\n## Files to Create\n- apps/api/src/routes/feedback.routes.js\n- apps/api/migrations/088_feedback_reports.sql\n- apps/web/src/components/feedback/FeedbackButton.jsx\n- apps/web/src/components/feedback/FeedbackModal.jsx\n\n## Schema\n```sql\nCREATE TABLE feedback_reports (\n  id UUID PRIMARY KEY,\n  tenant_id UUID REFERENCES tenants(id),\n  user_id UUID REFERENCES users(id),\n  type VARCHAR(20), -- bug, feedback, question\n  description TEXT,\n  screenshot_url TEXT,\n  current_url TEXT,\n  browser_info JSONB,\n  status VARCHAR(20) DEFAULT 'new', -- new, reviewed, resolved\n  admin_notes TEXT,\n  created_at TIMESTAMPTZ DEFAULT NOW()\n);\n```\n\n## Admin View\n- List all feedback reports\n- Filter by type, status, tenant\n- Mark as reviewed/resolved\n- Add admin notes\n\n## Acceptance Criteria\n- [ ] Feedback button visible on all pages (beta tenants)\n- [ ] Can submit bug report with description\n- [ ] Screenshot capture works\n- [ ] Admin can view all reports\n- [ ] Reports include context (URL, browser, user)","status":"closed","priority":1,"issue_type":"feature","assignee":"copperhead/polecats/copperhead-54","created_at":"2026-01-29T00:39:26.903502709-06:00","created_by":"mayor","updated_at":"2026-01-29T02:47:14.293883699-06:00","closed_at":"2026-01-29T02:47:14.293890408-06:00","dependencies":[{"issue_id":"co-y2vb2","depends_on_id":"co-wisp-n06v","type":"blocks","created_at":"2026-01-29T01:51:06.724011366-06:00","created_by":"mayor"},{"issue_id":"co-y2vb2","depends_on_id":"co-wisp-jap3","type":"blocks","created_at":"2026-01-29T02:41:30.921988737-06:00","created_by":"mayor"}]}
{"id":"co-y7k","title":"Session ended: gt-copperhead-nux","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:17:05.385878936-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-07T03:06:37.901568021-06:00","closed_at":"2026-01-07T03:06:37.901568021-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"copperhead/polecats/nux","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:17:05-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-nux\",\"worker\":\"nux\"}"}
{"id":"co-yaxq","title":"Session ended: gt-copperhead-valkyrie","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T01:11:10.116638686-06:00","created_by":"copperhead/polecats/valkyrie","updated_at":"2026-01-22T22:38:14.759737538-06:00","closed_at":"2026-01-22T22:38:14.759737538-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/valkyrie","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T01:11:09-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-valkyrie\",\"worker\":\"valkyrie\"}"}
{"id":"co-yepdt","title":"Beta Platform: Database migration 086","description":"attached_molecule: co-wisp-wz2uk\nattached_at: 2026-01-29T22:24:58Z\ndispatched_by: mayor\n\nCreate migration 086_beta_testing_platform.sql\n\n**Tables:**\n- beta_testers (tenant_id, user_id, company_name, contact info, status)\n- tenant_email_domains (P2 feature)\n\n**Alter tables:**\n- tenants: add beta_tester BOOLEAN, demo_seeded_at TIMESTAMPTZ\n- estimates: add admin_approved_on_behalf, admin_approval_evidence, admin_approved_by\n\nSee plan: /home/kaos/.claude/plans/noble-sprouting-cocoa.md","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/copperhead-68","created_at":"2026-01-29T16:16:53.172450723-06:00","created_by":"mayor","updated_at":"2026-01-29T16:26:36.151058739-06:00","closed_at":"2026-01-29T16:26:36.151058739-06:00","close_reason":"Created migration 086_beta_testing_platform.sql with beta_testers table, tenant_email_domains table, tenants columns (beta_tester, demo_seeded_at), and estimates columns (admin_approved_on_behalf, admin_approval_evidence, admin_approved_by, admin_approved_at)","labels":["beta-platform","database"],"dependencies":[{"issue_id":"co-yepdt","depends_on_id":"co-wisp-wz2uk","type":"blocks","created_at":"2026-01-29T16:24:45.716376534-06:00","created_by":"mayor"}]}
{"id":"co-yf8","title":"Digest: mol-deacon-patrol","description":"Patrol 4 complete: all healthy","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-07T02:44:43.014385152-06:00","updated_at":"2026-01-08T19:31:30.98188655-06:00","closed_at":"2026-01-07T02:44:43.014215635-06:00","close_reason":"Squashed from 16 wisps"}
{"id":"co-yg4q","title":"Session ended: gt-copperhead-furiosa","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:40:19.539475605-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-12T03:09:08.516073862-06:00","closed_at":"2026-01-12T03:09:08.516073862-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/furiosa","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:40:19-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-furiosa\",\"worker\":\"furiosa\"}"}
{"id":"co-yi6w","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T01:41:54.978002513-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.51074637-06:00","closed_at":"2026-01-12T03:09:09.51074637-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T01:41:54-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ym16","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T07:22:17.57847508-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.617081309-06:00","closed_at":"2026-01-12T03:09:08.617081309-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T07:22:17-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ymtg","title":"Merge: organic-mkbrks9h","description":"branch: polecat/organic-mkbrks9h\ntarget: main\nsource_issue: organic-mkbrks9h\nrig: copperhead\nagent_bead: co-copperhead-polecat-organic\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-12T17:10:06.042141752-06:00","created_by":"copperhead/polecats/organic","updated_at":"2026-01-12T17:14:02.947751844-06:00","closed_at":"2026-01-12T17:14:02.947751844-06:00","close_reason":"Merged to main"}
{"id":"co-ypg7","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:50:59.556259637-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:28:09.832624705-06:00","closed_at":"2026-01-22T22:28:09.832624705-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:50:59-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-yq0","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-06T01:28:41.752562908-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-07T03:06:37.580958804-06:00","closed_at":"2026-01-07T03:06:37.580958804-06:00","close_reason":"Batch close stale session events during triage","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-06T01:28:41-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-yudq","title":"Phase 6: Add trade-ready API endpoint","description":"dispatched_by: mayor\n\nAdd endpoint to mark trade blockers as resolved:\n\nPATCH /api/projects/:projectId/phases/:phaseType/trade-ready\n\nBehavior:\n- Mark trade blocker as resolved (set trade_ready_at, trade_ready_by)\n- Update work order status from WAITING to SCHEDULED\n- Trigger auto-create transfer for phase materials (if warehouse transfer module is available)\n\nAdd to project routes or work order routes as appropriate.\n\nReference: docs/plans/EST-WO-implementation-plan.md Phase 6 section","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/crew/phase6","created_at":"2026-01-23T22:28:09.000293564-06:00","created_by":"mayor","updated_at":"2026-01-23T23:20:14.832527692-06:00","closed_at":"2026-01-23T23:20:14.832527692-06:00","close_reason":"Added PATCH /api/projects/:projectId/phases/:phaseType/trade-ready endpoint. Sets trade_ready_at/by, updates status WAITING→SCHEDULED, logs to status history. Added v_work_orders_awaiting_trade view. Commit 6a57f2f5.","labels":["api","est-wo"],"dependencies":[{"issue_id":"co-yudq","depends_on_id":"co-anp2","type":"blocks","created_at":"2026-01-23T22:28:09.007128348-06:00","created_by":"mayor"}]}
{"id":"co-yv6b","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T18:34:30.980252593-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.851826-06:00","closed_at":"2026-01-12T03:09:07.851826-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T18:34:30-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-ywne","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:41:51.584264949-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.864334619-06:00","closed_at":"2026-01-12T03:09:08.864334619-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:41:51-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-z0n3","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T22:04:39.103735452-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.477682847-06:00","closed_at":"2026-01-12T03:09:07.477682847-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":65,\"ended_at\":\"2026-01-11T22:04:39-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-z0ux","title":"CO Request: Actions dashboard for sales/dispatch","description":"Surface CHANGE_ORDER_REQUEST actions in sales/dispatch dashboard. Show linked WO, tech description, priority HIGH indicator.","status":"closed","priority":3,"issue_type":"task","assignee":"toecutter","created_at":"2026-01-13T02:39:09.696734471-06:00","created_by":"mayor","updated_at":"2026-01-13T05:35:42.099157569-06:00","closed_at":"2026-01-13T05:35:42.099157569-06:00","close_reason":"Implemented Actions dashboard enhancements for CHANGE_ORDER_REQUEST type"}
{"id":"co-z1wh","title":"Digest: mol-witness-patrol","description":"Patrol 15: obsidian 3/5 done, on Summary view","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-24T11:49:08.940497874-06:00","updated_at":"2026-01-24T11:49:08.940497874-06:00","closed_at":"2026-01-24T11:49:08.940383962-06:00","close_reason":"Squashed from 10 wisps","dependencies":[{"issue_id":"co-z1wh","depends_on_id":"co-wisp-376","type":"parent-child","created_at":"2026-01-24T11:49:08.943306346-06:00","created_by":"copperhead/witness"}]}
{"id":"co-z324","title":"Merge: valkyrie-mkgj7a80","description":"branch: polecat/valkyrie-mkgj7a80\ntarget: main\nsource_issue: valkyrie-mkgj7a80\nrig: copperhead\nagent_bead: co-copperhead-polecat-valkyrie\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-16T17:22:16.293871008-06:00","created_by":"copperhead/polecats/valkyrie","updated_at":"2026-01-16T17:24:05.925234479-06:00","closed_at":"2026-01-16T17:24:05.925234479-06:00","close_reason":"Merged to main"}
{"id":"co-z4d","title":"PLAN-002 Phase 3: Area Organization + Quote PDF","description":"Phase 3 of PLAN-002:\n10. Ensure AreaManager is integrated in main estimate editor flow\n11. Auto-assign new lines to selected area\n12. Area subtotals in estimate view\n13. Area-based grouping in quote PDF/preview\n\nSee: docs/plans/PLAN-002-cost-items-estimate-integration.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T11:21:08.511339099-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.534256226-06:00","closed_at":"2026-01-07T11:28:48.097903639-06:00","close_reason":"PLAN-002 Phase 3 completed: AreaManager in QuoteEditorPage with auto-assignment, area subtotals, and area-based grouping in QuotePreviewPage"}
{"id":"co-z5vq","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:18:54.055300697-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:28:10.400358269-06:00","closed_at":"2026-01-22T22:28:10.400358269-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:18:54-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-z6dn","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:29:28.979296969-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.179780401-06:00","closed_at":"2026-01-12T03:09:08.179780401-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:29:28-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-z6la0","title":"Implement scheduled reminders for maintenance","description":"attached_molecule: co-wisp-u3tp\nattached_at: 2026-01-28T16:07:01Z\ndispatched_by: mayor\n\nHybrid approach: Notifications for alerts, Actions for tracking\n\n## Steps\n\n### Step 1: Extend Notifications Schema\nFile: apps/api/migrations/084_scheduled_notifications.sql\n\nAdd columns to notifications table:\n- scheduled_for TIMESTAMP WITH TIME ZONE\n- status VARCHAR(20) DEFAULT 'sent' (pending/sent/failed)\n- source_type VARCHAR(50) -- 'maintenance', 'contract', etc.\n- source_id UUID\n\nAdd index on scheduled_for WHERE scheduled_for IS NOT NULL AND status = 'pending'\n\n### Step 2: Add Maintenance Reminder Worker\nFile: apps/api/src/queues/workers/maintenanceReminderWorker.js\n\n- Job: maintenance.daily-reminder-scan (cron: 0 7 * * *)\n- Scan maintenance_schedules for next_due_at within 7/14/30 days\n- Skip if reminder already sent (check notifications by source_type/source_id)\n- Queue notification with link to maintenance schedule\n- Optionally create Action for high-priority items\n\n### Step 3: Register Cron Job\nFile: apps/api/src/queues/workers/index.js\n\nAdd repeating job for maintenance.daily-reminder-scan with pattern '0 7 * * *' (daily at 7 AM)\n\n### Step 4: Add Notification Handler\nFile: apps/api/src/queues/workers/notificationWorker.js\n\nAdd case for 'reminder.maintenance-due':\n- Create in-app notification for assigned user (or dispatchers if unassigned)\n- Send push notification\n- Optionally create Action if priority is high/urgent\n\n### Step 5: Add Manual Reminder Endpoints\nFile: apps/api/src/routes/maintenance.routes.js (new)\n\n- GET /api/maintenance/upcoming?days=30 - List upcoming maintenance\n- POST /api/maintenance/:id/send-reminder - Manual reminder trigger\n- GET /api/maintenance/:id/reminder-status - Check if reminder sent\n\n## Reference Files\n- apps/api/src/services/notifications/departmentNotification.service.js\n- apps/api/src/queues/workers/notificationWorker.js\n- apps/api/migrations/083_notifications_table.sql\n- apps/api/src/services/action.service.js\n- apps/api/migrations/039_actions_system.sql\n- apps/api/migrations/015_asset_inspections.sql (maintenance_schedules)\n- apps/api/src/queues/workers/schedulingWorker.js\n- apps/api/src/queues/index.js","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/hematite","created_at":"2026-01-28T10:06:06.017955062-06:00","created_by":"mayor","updated_at":"2026-01-28T12:21:48.772307101-06:00","closed_at":"2026-01-28T12:21:48.772307101-06:00","close_reason":"Implemented scheduled maintenance reminders with daily cron job, notification worker, and API endpoints","labels":["status:open"],"dependencies":[{"issue_id":"co-z6la0","depends_on_id":"co-wisp-dzse","type":"blocks","created_at":"2026-01-28T10:06:58.024012172-06:00","created_by":"mayor"},{"issue_id":"co-z6la0","depends_on_id":"co-wisp-u3tp","type":"blocks","created_at":"2026-01-28T12:16:39.071733233-06:00","created_by":"mayor"}]}
{"id":"co-z6la0.1","title":"State change: status → open","description":"Set status to open","status":"open","priority":4,"issue_type":"event","created_at":"2026-01-28T12:14:47.656505714-06:00","created_by":"mayor","updated_at":"2026-01-28T12:14:47.656505714-06:00","dependencies":[{"issue_id":"co-z6la0.1","depends_on_id":"co-z6la0","type":"parent-child","created_at":"2026-01-28T12:14:47.658118163-06:00","created_by":"mayor"}]}
{"id":"co-z9yq","title":"Session ended: gt-copperhead-nux","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:18:20.839474648-06:00","created_by":"copperhead/polecats/nux","updated_at":"2026-01-12T03:09:09.007223012-06:00","closed_at":"2026-01-12T03:09:09.007223012-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/polecats/nux","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:18:20-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-nux\",\"worker\":\"nux\"}"}
{"id":"co-zaa1s","title":"PeekPanel 3.4: Retrofit QuotesListPage with side peek","description":"attached_molecule: co-wisp-onnfj\nattached_at: 2026-02-12T08:02:58Z\ndispatched_by: mayor\n\nFile: pages/salesops/QuotesListPage.jsx\nCurrent: Click row → navigate to editor\nChange: Click → side peek with quote summary. 'Edit' button → navigates to editor.\n- peekType=\"quote-summary\", contextType=\"list\"\n- Show quote status, customer, total, line items summary\n- Import PeekPanel from components/panels\n\n## Testing\n- Click quote row → side peek opens with quote summary\n- Edit button navigates to full editor\n- Position switcher works\n- No regressions","notes":"Implemented: Added QuoteSummaryPanel component and retrofitted QuotesListPage with side peek panel. Row click opens peek showing quote status, customer, totals, and line items summary. Edit button navigates to full editor. Uses usePanel hook + ResponsivePanel following established DispatchHub pattern.","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/garnet","created_at":"2026-02-12T01:49:57.222292936-06:00","created_by":"mayor","updated_at":"2026-02-12T02:12:51.544558978-06:00","closed_at":"2026-02-12T02:12:51.544558978-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-zaa1s","depends_on_id":"co-wisp-onnfj","type":"blocks","created_at":"2026-02-12T02:02:53.39662132-06:00","created_by":"mayor"}]}
{"id":"co-zcxs","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T19:28:34.682179619-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.724859454-06:00","closed_at":"2026-01-12T03:09:07.724859454-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T19:28:34-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-zenn","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T06:48:23.124880672-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.699901875-06:00","closed_at":"2026-01-12T03:09:08.699901875-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T06:48:23-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-zfuw","title":"Session ended: gt-copperhead-slit","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:40:16.135453479-06:00","created_by":"copperhead/polecats/slit","updated_at":"2026-01-22T22:38:48.261702342-06:00","closed_at":"2026-01-22T22:38:48.261702342-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/slit","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:40:15-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-slit\",\"worker\":\"slit\"}"}
{"id":"co-zggy1","title":"Estimate Line Item Phase Tagging UI","description":"attached_molecule: co-wisp-vb9i\nattached_at: 2026-01-25T22:33:23Z\ndispatched_by: mayor\n\nAdd UI to tag estimate line items by phase before conversion.\n\nRequirements:\n1. Add phase dropdown to estimate line item rows in EstimateEditorPage\n2. Options: Rough Out, Trim, Finish, or Auto (let system decide)\n3. Save to estimate_line_items.phase column (already exists)\n4. When converting, respect manual phase assignments over auto-distribution\n5. Show phase badge/icon on line items in estimate view\n\nExisting infrastructure:\n- estimate_line_items.phase column EXISTS in database\n- projectConversion.service.js has phaseAssignments option for manual override\n- PHASE_KEYWORDS in projectConversion.service.js for auto-distribution\n\nFiles to modify:\n- apps/web/src/pages/salesops/EstimateEditorPage.jsx\n- apps/api/src/routes/crm.routes.js (ensure phase saved on line item update)\n- apps/api/src/services/projectConversion.service.js (respect manual phases)","status":"closed","priority":2,"issue_type":"feature","assignee":"copperhead/polecats/onyx","created_at":"2026-01-25T16:30:57.180825458-06:00","created_by":"mayor","updated_at":"2026-01-25T16:38:38.631200894-06:00","closed_at":"2026-01-25T16:38:38.631200894-06:00","close_reason":"Implemented phase tagging UI for estimate line items. Users can now tag line items with Rough-In/Trim/Finish/Service phases. Manual phase assignments are respected during E2WO conversion.","dependencies":[{"issue_id":"co-zggy1","depends_on_id":"co-wisp-vb9i","type":"blocks","created_at":"2026-01-25T16:33:22.159845662-06:00","created_by":"mayor"}]}
{"id":"co-zgzd","title":"Session ended: gt-copperhead-rictus","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-13T05:36:46.189955327-06:00","created_by":"copperhead/polecats/rictus","updated_at":"2026-01-22T22:38:48.30491482-06:00","closed_at":"2026-01-22T22:38:48.30491482-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/polecats/rictus","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-13T05:36:46-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-rictus\",\"worker\":\"rictus\"}"}
{"id":"co-zhssr","title":"Hide FloatingAIButton when RSB is open","description":"dispatched_by: unknown\n\nOn estimate details screen, users see 2 AI icons:\n1. FloatingAIButton at fixed bottom-36 right-6\n2. RSB collapsed state shows Bot icon\n\nFIX (Option A from plan):\nIn FloatingAIButton.jsx, hide when RSB is open:\n\nconst { isCollapsed } = useRightSidebar();\nif (!user || !isCollapsed) return null;\n\nVERIFICATION:\n- Only one AI icon visible at a time\n- FloatingAIButton shows when RSB collapsed\n- FloatingAIButton hides when RSB open","status":"closed","priority":2,"issue_type":"bug","assignee":"copperhead/polecats/copperhead-90","created_at":"2026-02-08T16:31:03.680193023-06:00","created_by":"kaos","updated_at":"2026-02-08T19:50:57.073109324-06:00","closed_at":"2026-02-08T19:50:57.073109324-06:00","close_reason":"Already complete - FloatingAIButton fix verified on staging"}
{"id":"co-zhvm","title":"Session ended: gt-copperhead-toecutter","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T19:43:28.974999295-06:00","created_by":"copperhead/polecats/toecutter","updated_at":"2026-01-12T19:48:08.642344158-06:00","closed_at":"2026-01-12T19:48:08.642344158-06:00","close_reason":"Triage: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/toecutter","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T19:43:28-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-toecutter\",\"worker\":\"toecutter\"}"}
{"id":"co-zih5","title":"Session ended: gt-copperhead-toast","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T04:19:01.764911606-06:00","created_by":"copperhead/polecats/toast","updated_at":"2026-01-22T22:28:10.36160243-06:00","closed_at":"2026-01-22T22:28:10.36160243-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/toast","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T04:19:01-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-toast\",\"worker\":\"toast\"}"}
{"id":"co-zj0","title":"SSO Phase 3: Google \u0026 Apple Providers","description":"- Implement Google provider (google-auth-library)\n- Implement Apple provider with form_post handling\n- Update admin UI for multi-provider configuration\n- Add provider-specific configuration options","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T03:22:45.142452445-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.931530253-06:00","closed_at":"2026-01-06T15:48:44.651545388-06:00","close_reason":"Merged PR #8","dependencies":[{"issue_id":"co-zj0","depends_on_id":"co-8ab","type":"blocks","created_at":"2026-01-06T03:22:59.278690947-06:00","created_by":"mayor"}]}
{"id":"co-zj6r","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T01:31:02.912805962-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:07.139911896-06:00","closed_at":"2026-01-12T03:09:07.139911896-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T01:31:02-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-zjx","title":"Merge: fixrole-mk3isebh","description":"branch: polecat/fixrole-mk3isebh\ntarget: main\nsource_issue: fixrole-mk3isebh\nrig: copperhead\nagent_bead: co-copperhead-polecat-fixrole\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-06T22:35:59.729183476-06:00","created_by":"copperhead/polecats/fixrole","updated_at":"2026-01-08T19:31:31.016632478-06:00","closed_at":"2026-01-06T22:38:01.362233017-06:00","close_reason":"Merged to main"}
{"id":"co-zkpc","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T00:36:42.634223361-06:00","created_by":"copperhead/witness","updated_at":"2026-01-22T22:38:15.072610935-06:00","closed_at":"2026-01-22T22:38:15.072610935-06:00","close_reason":"Stale session event - triage cleanup","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T00:36:42-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-zkz","title":"Quote Builder with Calculations","description":"Implement quote builder with live pricing calculations. Features: client info, package selection, unit quantities (users/computers/servers/sites), add-ons with qty, MRR/margin calculations, save/load.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-04T22:16:31.000909882-06:00","created_by":"mayor","updated_at":"2026-01-08T19:31:30.641321553-06:00","closed_at":"2026-01-04T22:20:11.839459132-06:00","close_reason":"Quote builder implemented with live pricing calculations, package selection, unit quantities, add-ons, save/load functionality"}
{"id":"co-zlzbj","title":"Add email digest option for department notifications","description":"attached_molecule: co-wisp-66mz\nattached_at: 2026-01-28T07:43:18Z\ndispatched_by: mayor\n\nAdd email fallback to departmentNotification.service.js. Support daily/weekly email digest of unread notifications. Add user preference for notification delivery method (push, email, both).","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/peridot","created_at":"2026-01-28T01:40:44.52267686-06:00","created_by":"mayor","updated_at":"2026-01-28T01:47:54.56800023-06:00","closed_at":"2026-01-28T01:47:54.56800023-06:00","close_reason":"Implemented email digest option for department notifications with user preferences for delivery method (push/email/both) and digest frequency (immediate/daily/weekly/none)","dependencies":[{"issue_id":"co-zlzbj","depends_on_id":"co-wisp-66mz","type":"blocks","created_at":"2026-01-28T01:43:15.092097954-06:00","created_by":"mayor"}]}
{"id":"co-zowai","title":"E2WO: Labor calculation missing area multipliers","description":"The convert_estimate_to_work_order SQL function does not apply area-level height_multiplier and difficulty_multiplier to labor hour calculations. Currently only uses line item difficulty. Fix: Update SQL to join estimate_areas and include ea.height_multiplier and ea.difficulty_multiplier in the calculation.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-24T17:53:50.701645201-06:00","created_by":"mayor","updated_at":"2026-01-24T18:01:41.842518111-06:00","closed_at":"2026-01-24T18:01:41.842518111-06:00","close_reason":"Closed"}
{"id":"co-zpmi2","title":"Resolve merge conflicts on PR #95","description":"dispatched_by: mayor\n\nPR #95 (fix(provisioning): use full beta scenarios seed) has merge conflicts with main.\n\nRebase or merge main into the branch and resolve conflicts, then push.\n\nBranch: polecat/hematite/co-uzfiz@ml8z73vd\nPR: https://github.com/FrankAtGHub/copperhead/pull/95","notes":"Rebased PR #95 onto main. Resolved merge conflict in seedBetaTesterScenarios.js (combined line_items/inventory counts from PR with technician login info from main). PR is now MERGEABLE with CLEAN state.","status":"closed","priority":2,"issue_type":"task","assignee":"copperhead/polecats/copperhead-94","created_at":"2026-02-08T20:05:23.749267823-06:00","created_by":"kaos","updated_at":"2026-02-08T20:09:32.383849666-06:00","closed_at":"2026-02-08T20:09:32.383856233-06:00"}
{"id":"co-zq6c","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-12T14:33:46.435809208-06:00","created_by":"mayor","updated_at":"2026-01-12T14:42:21.110738597-06:00","closed_at":"2026-01-12T14:42:21.110738597-06:00","close_reason":"Triaged: stale session-ended event","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-12T14:33:46-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-zqs6k","title":"fix(ui): PeekPanel icon prop crash - pass component refs not JSX elements","description":"attached_molecule: co-wisp-srpr2\nattached_at: 2026-02-12T08:37:14Z\ndispatched_by: mayor\n\nReact error #130 when clicking to open PeekPanel on Customers, WorkOrders, and WorkTemplates pages.\n\n## Root Cause\nPeekPanelHeader expects `icon` prop to be a **component reference** (e.g., `Building`) but 3 pages pass **JSX elements** (e.g., `\u003cBuilding size={20} /\u003e`). PeekPanelHeader renders: `\u003cHeaderIcon size={18} className={textMuted} /\u003e` which fails when HeaderIcon is an element object.\n\n## Fixes Needed (3 files, 1 line each)\n\n### 1. apps/web/src/pages/salesops/CustomersPage.jsx\nChange: `icon={\u003cBuilding size={20} className=\"text-blue-500\" /\u003e}`\nTo: `icon={Building}`\n\n### 2. apps/web/src/pages/dispatch/WorkOrdersListPage.jsx\nChange: `icon={\u003cClipboardList size={20} className=\"text-blue-500\" /\u003e}`\nTo: `icon={ClipboardList}`\n\n### 3. apps/web/src/pages/dispatch/WorkTemplatesPage.jsx\nChange:\n```js\nconst peekIcon = peekMode === \"compare\"\n  ? \u003cSplitSquareHorizontal size={20} className=\"text-blue-500\" /\u003e\n  : \u003cWrench size={20} className=\"text-blue-500\" /\u003e;\n```\nTo:\n```js\nconst peekIcon = peekMode === \"compare\" ? SplitSquareHorizontal : Wrench;\n```\n\n## Files That Already Work (no change needed)\n- EstimateEditor: correctly passes `icon={Users}` / `icon={Boxes}` (component refs)\n- DispatchHub: does not pass icon prop at all\n- QuotesListPage: does not use PeekPanel icon\n\n## Verification\n- Click customer row → PeekPanel opens (no React error #130)\n- Click WO row → PeekPanel opens\n- Click template → PeekPanel opens\n- Icons display at correct size (18px, muted color) from PeekPanelHeader","status":"closed","priority":1,"issue_type":"bug","assignee":"copperhead/polecats/obsidian","created_at":"2026-02-12T02:36:50.299990695-06:00","created_by":"mayor","updated_at":"2026-02-12T02:38:51.873570678-06:00","closed_at":"2026-02-12T02:38:51.873570678-06:00","close_reason":"Fixed: pass component refs instead of JSX elements to PeekPanel icon prop in 3 files","dependencies":[{"issue_id":"co-zqs6k","depends_on_id":"co-wisp-srpr2","type":"blocks","created_at":"2026-02-12T02:37:09.992891512-06:00","created_by":"mayor"}]}
{"id":"co-zqyu9","title":"Admin screen for tenant/company creation and user invites","description":"attached_molecule: co-wisp-eis5k\nattached_at: 2026-01-30T08:55:30Z\ndispatched_by: mayor\n\nBeta signup flow for testers - REQUIRED FOR LAUNCH\n\n**Current issue:** Signup fails with 'tenant not found' - requires existing tenant.\n\n**Requirements (all required):**\n1. **Signup creates tenant** - New user signup must auto-create their company/tenant\n2. **Demo data auto-loaded** - Demo data MUST load automatically on new tenant creation (testers need data to test with)\n3. **Beta plan tier** - New signups get 'Beta' plan with full feature access\n\n**Acceptance criteria:**\n- User signs up with email/password + company name\n- System creates tenant, user (as admin), and loads demo data\n- User lands in app with work orders, customers, inventory ready to explore\n\n**Technical:**\n- Signup endpoint: create tenant + user in one transaction\n- After tenant creation, run demo data seed for that tenant\n- Demo data seed must be tenant-scoped (not hardcoded tenant IDs)","status":"closed","priority":1,"issue_type":"feature","assignee":"copperhead/polecats/copperhead-78","created_at":"2026-01-30T02:40:24.687390336-06:00","created_by":"mayor","updated_at":"2026-02-10T20:59:43.815101604-06:00","closed_at":"2026-02-10T20:59:43.815101604-06:00","close_reason":"Stale - all work caught up","dependencies":[{"issue_id":"co-zqyu9","depends_on_id":"co-wisp-eis5k","type":"blocks","created_at":"2026-01-30T02:55:10.245927274-06:00","created_by":"mayor"}]}
{"id":"co-zr9q","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T04:26:29.183877455-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:09.246898901-06:00","closed_at":"2026-01-12T03:09:09.246898901-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":31.62,\"ended_at\":\"2026-01-11T04:26:29-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-zscy","title":"Explore agent-browser for E2E testing","description":"attached_molecule: co-wisp-17u7\nattached_at: 2026-01-28T03:34:44Z\ndispatched_by: mayor\n\nEvaluate Vercel agent-browser as supplement to Playwright E2E tests. Could reduce test ID maintenance and enable AI-driven exploratory testing. See plan: ~/.claude/plans/agent-browser-e2e.md","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-21T01:08:16.547220434-06:00","created_by":"kaos","updated_at":"2026-02-03T23:09:12.888357244-06:00","closed_at":"2026-02-03T23:09:12.888357244-06:00","close_reason":"Closed","dependencies":[{"issue_id":"co-zscy","depends_on_id":"co-wisp-dym7","type":"blocks","created_at":"2026-01-27T21:34:41.523881942-06:00","created_by":"mayor"},{"issue_id":"co-zscy","depends_on_id":"co-wisp-17u7","type":"blocks","created_at":"2026-01-27T21:57:54.739437996-06:00","created_by":"mayor"}]}
{"id":"co-zsg","title":"Session ended: gt-copperhead-witness","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T00:59:33.312955147-06:00","created_by":"copperhead/witness","updated_at":"2026-01-12T03:09:09.667748137-06:00","closed_at":"2026-01-12T03:09:09.667748137-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"copperhead/witness","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T00:59:33-06:00\",\"rig\":\"copperhead\",\"role\":\"witness\",\"session_id\":\"gt-copperhead-witness\"}"}
{"id":"co-zt8","title":"Merge: furiosa-mk1oqnej","description":"branch: polecat/furiosa-mk1oqnej\ntarget: main\nsource_issue: furiosa-mk1oqnej\nrig: copperhead\nagent_bead: co-copperhead-polecat-furiosa\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-05T15:48:59.064247459-06:00","created_by":"copperhead/polecats/furiosa","updated_at":"2026-01-06T01:15:31.848838399-06:00","closed_at":"2026-01-06T01:15:31.848838399-06:00","close_reason":"Already merged to main in commit 5cf7f28"}
{"id":"co-ztoo","title":"Merge: goose-mkgkus9k","description":"branch: polecat/goose-mkgkus9k\ntarget: main\nsource_issue: goose-mkgkus9k\nrig: copperhead\nagent_bead: co-copperhead-polecat-goose\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"merge-request","created_at":"2026-01-16T01:56:12.039569328-06:00","created_by":"copperhead/polecats/goose","updated_at":"2026-01-16T01:57:48.108657297-06:00","closed_at":"2026-01-16T01:57:48.108657297-06:00","close_reason":"Merged to main"}
{"id":"co-ztoyg","title":"Merge: co-hez5d (bullmq mocking)","description":"Branch: polecat/copperhead-62/co-hez5d@mkzvg7c8\nCommit: 87d56b2e feat(testing): add bullmq jest mock for queue testing\n\nFiles:\n- apps/api/__mocks__/bullmq.js (316 lines - replaces basic mock)\n- apps/api/src/tests/queues.test.js (377 lines - 22 tests)\n\nNote: Conflicts with existing __mocks__/bullmq.js - take this version (more comprehensive)","status":"closed","priority":1,"issue_type":"merge-request","assignee":"refinery-1","created_at":"2026-01-29T15:45:54.67683797-06:00","created_by":"mayor","updated_at":"2026-01-29T15:47:58.92932278-06:00","closed_at":"2026-01-29T15:47:58.92932278-06:00","close_reason":"Merged to main as 4784ab98. Comprehensive bullmq mock with test helpers.","labels":["gt:merge-request"]}
{"id":"co-zu9o","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T05:31:53.183825391-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.942271792-06:00","closed_at":"2026-01-12T03:09:08.942271792-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T05:31:53-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
{"id":"co-zvzi","title":"Session ended: gt-copperhead-toast","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-16T17:50:51.996450997-06:00","created_by":"copperhead/polecats/toast","updated_at":"2026-01-22T22:28:09.863372276-06:00","closed_at":"2026-01-22T22:28:09.863372276-06:00","close_reason":"Triage cleanup: stale session event","event_kind":"session.ended","actor":"copperhead/polecats/toast","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-16T17:50:51-06:00\",\"rig\":\"copperhead\",\"role\":\"polecat\",\"session_id\":\"gt-copperhead-toast\",\"worker\":\"toast\"}"}
{"id":"co-zwrxj","title":"Add invite code validation to beta signup","description":"attached_molecule: co-wisp-hllyd\nattached_at: 2026-01-31T05:04:45Z\ndispatched_by: mayor\n\nAdd invite code requirement to beta signup flow.\n\n**Requirements:**\n1. Add `inviteCode` field to signup form (frontend)\n2. Validate invite code on backend before creating tenant\n3. For now, use a simple shared code: `BETA2026` (can be env var)\n4. Invalid/missing code returns 403 with clear error message\n\n**Files to modify:**\n- apps/api/src/routes/auth.routes.js - add invite code validation\n- apps/web/src/components/auth/Register.js - add invite code field\n\n**Acceptance criteria:**\n- Signup without valid code fails with 'Invalid invite code'\n- Signup with `BETA2026` succeeds\n- Code check happens before any DB writes","status":"closed","priority":1,"issue_type":"task","assignee":"copperhead/polecats/copperhead-79","created_at":"2026-01-30T22:59:36.756684829-06:00","created_by":"mayor","updated_at":"2026-01-30T23:30:10.465799669-06:00","closed_at":"2026-01-30T23:30:10.465799669-06:00","close_reason":"Implemented invite code validation for beta signup. Backend: Added inviteCode validation in auth.routes.js line 141, validates against BETA_INVITE_CODE env var (default: BETA2026). Frontend: Added inviteCode field to Register.js formData and form UI.","dependencies":[{"issue_id":"co-zwrxj","depends_on_id":"co-wisp-hllyd","type":"blocks","created_at":"2026-01-30T23:04:32.449627206-06:00","created_by":"mayor"}]}
{"id":"co-zzj","title":"Refinery for mspp - processes merge queue.","description":"Refinery for mspp - processes merge queue.\n\nrole_type: refinery\nrig: mspp\nagent_state: idle\nhook_bead: null\nrole_bead: hq-refinery-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","created_at":"2026-01-04T21:19:32.578523812-06:00","created_by":"kaos","updated_at":"2026-01-12T14:08:55.396192413-06:00","closed_at":"2026-01-12T14:08:55.396192413-06:00","close_reason":"mspp rig has no active workers - stale agent beads"}
{"id":"co-zzoy","title":"Session ended: gt-mayor","status":"closed","priority":2,"issue_type":"event","created_at":"2026-01-11T16:17:49.472932123-06:00","created_by":"mayor","updated_at":"2026-01-12T03:09:08.23469903-06:00","closed_at":"2026-01-12T03:09:08.23469903-06:00","close_reason":"Session event acknowledged","event_kind":"session.ended","actor":"mayor","payload":"{\"cost_usd\":0,\"ended_at\":\"2026-01-11T16:17:49-06:00\",\"role\":\"mayor\",\"session_id\":\"gt-mayor\",\"worker\":\"mayor\"}"}
